{
  "name": "autopilot_basic",
  "description": "Basic client-side autopilot commands",
  "steps": [
    {
      "name": "login",
      "request": {
        "type": "auth.login",
        "data": {
          "username": "testuser",
          "password": "testpass"
        }
      },
      "expect": {
        "status": "ok",
        "type": "auth.login.ok"
      }
    },
    {
      "name": "get_route",
      "request": {
        "type": "move.autopilot.start",
        "data": {
          "to_sector_id": 2
        }
      },
      "expect": {
        "status": "ok",
        "type": "move.autopilot.route_v1",
        "data": {
          "_has": ["from_sector_id", "to_sector_id", "path", "hops"]
        }
      }
    },
    {
      "name": "status_ready",
      "request": {
        "type": "move.autopilot.status"
      },
      "expect": {
        "status": "ok",
        "type": "move.autopilot.status_v1",
        "data": {
          "mode": "client",
          "state": "ready",
          "_has": ["current_sector_id", "reason"]
        }
      }
    },
    {
      "name": "stop_idle",
      "request": {
        "type": "move.autopilot.stop"
      },
      "expect": {
        "status": "ok",
        "type": "move.autopilot.stopped_v1",
        "data": {
          "state": "idle"
        }
      }
    }
  ]
}
