2025-11-14 13:37:44,000 - INFO - No state file found. Starting with fresh state.
2025-11-14 13:37:44,001 - INFO - Loading schemas from protocol markdown file...
2025-11-14 13:37:44,014 - INFO - Successfully loaded and cached 80 schemas from docs.
2025-11-14 13:37:44,014 - INFO - Attempting to connect to 127.0.0.1:1234...
2025-11-14 13:37:44,014 - INFO - Connection successful.
2025-11-14 13:37:44,014 - INFO - Performing post-connection handshake...
2025-11-14 13:37:44,015 - INFO - Sent command: {"id": "1e166d0d-5b85-44a2-a16d-b879e1950a37", "ts": "2025-11-14T13:37:44.015045Z", "command": "system.hello", "data": {"client_version": "AI_QA_Bot/1.1"}, "meta": {}}
2025-11-14 13:37:44,015 - INFO - Handshake command sent.
2025-11-14 13:37:44,015 - DEBUG - Pending commands before check: {'1e166d0d-5b85-44a2-a16d-b879e1950a37': {'id': '1e166d0d-5b85-44a2-a16d-b879e1950a37', 'ts': '2025-11-14T13:37:44.015045Z', 'command': 'system.hello', 'data': {'client_version': 'AI_QA_Bot/1.1'}, 'meta': {}}}
2025-11-14 13:37:44,515 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '1e166d0d-5b85-44a2-a16d-b879e1950a37', 'ts': '2025-11-14T13:37:44Z', 'status': 'ok', 'type': 'session.hello', 'data': {'protocol_version': '1.0', 'server_time_unix': 1763127464, 'authenticated': False, 'player_id': None, 'current_sector': None, 'server_time': '2025-11-14T13:37:44Z'}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:44,515 - INFO - Server response: {"id": "srv-ok", "reply_to": "1e166d0d-5b85-44a2-a16d-b879e1950a37", "ts": "2025-11-14T13:37:44Z", "status": "ok", "type": "session.hello", "data": {"protocol_version": "1.0", "server_time_unix": 1763127464, "authenticated": false, "player_id": null, "current_sector": null, "server_time": "2025-11-14T13:37:44Z"}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:44,516 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:44,516 - INFO - Planner: Current stage is 'bootstrap'.
2025-11-14 13:37:44,516 - INFO - Sent command: {"id": "5f540c4f-1412-426d-9d31-7eec2beebc65", "ts": "2025-11-14T13:37:44.516186Z", "command": "auth.login", "auth": {"session": null}, "data": {"username": "ai_qa_bot", "password": "quality"}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5b010c39-192b-464d-b6ea-debad3753e5e"}, "idempotency_key": "5b010c39-192b-464d-b6ea-debad3753e5e"}
2025-11-14 13:37:45,016 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '5f540c4f-1412-426d-9d31-7eec2beebc65', 'ts': '2025-11-14T13:37:44Z', 'status': 'ok', 'type': 'auth.session', 'data': {'player_id': 4, 'current_sector': 1, 'unread_news_count': 0, 'session': '064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82'}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:45,016 - INFO - Server response: {"id": "srv-ok", "reply_to": "5f540c4f-1412-426d-9d31-7eec2beebc65", "ts": "2025-11-14T13:37:44Z", "status": "ok", "type": "auth.session", "data": {"player_id": 4, "current_sector": 1, "unread_news_count": 0, "session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:45,016 - INFO - Authenticated. Session token set: 064cd713â€¦
2025-11-14 13:37:45,017 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:45,017 - INFO - No ship_info in state; forcing ship.info before anything else.
2025-11-14 13:37:45,017 - INFO - Sent command: {"id": "655e1e6c-ab12-427c-8bba-c06a543a61c7", "ts": "2025-11-14T13:37:45.017142Z", "command": "ship.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "787bb044-91d2-49d0-aa0a-31d27c54fadf"}, "idempotency_key": "787bb044-91d2-49d0-aa0a-31d27c54fadf"}
2025-11-14 13:37:45,517 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '655e1e6c-ab12-427c-8bba-c06a543a61c7', 'ts': '2025-11-14T13:37:45Z', 'status': 'ok', 'type': 'ship.status', 'data': {'ship': {'id': 2, 'number': 2, 'name': 'QA Bot 1', 'type': {'id': 0, 'name': '25'}, 'holds': 250, 'fighters': 1, 'location': {'sector_id': 1, 'sector_name': 'Fedspace 1'}, 'owner': {'id': 4, 'name': 'ai_qa_bot'}, 'cargo': {'ore': 0, 'organics': 0, 'equipment': 0, 'colonists': 0}}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:45,517 - INFO - Server response: {"id": "srv-ok", "reply_to": "655e1e6c-ab12-427c-8bba-c06a543a61c7", "ts": "2025-11-14T13:37:45Z", "status": "ok", "type": "ship.status", "data": {"ship": {"id": 2, "number": 2, "name": "QA Bot 1", "type": {"id": 0, "name": "25"}, "holds": 250, "fighters": 1, "location": {"sector_id": 1, "sector_name": "Fedspace 1"}, "owner": {"id": 4, "name": "ai_qa_bot"}, "cargo": {"ore": 0, "organics": 0, "equipment": 0, "colonists": 0}}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:45,517 - INFO - Ship in sector 1
2025-11-14 13:37:45,517 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:45,517 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:37:45,518 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:37:45,518 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:37:45,518 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:37:45,518 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:37:45,518 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:37:45,519 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:37:45,519 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:37:45,519 - INFO - Sent command: {"id": "b568c221-de21-4395-91e5-244c5dd98231", "ts": "2025-11-14T13:37:45.519467Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "84e5d217-de38-4596-abc8-e776cc8cf0d3"}, "idempotency_key": "84e5d217-de38-4596-abc8-e776cc8cf0d3"}
2025-11-14 13:37:46,019 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b568c221-de21-4395-91e5-244c5dd98231', 'ts': '2025-11-14T13:37:45Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 1, 'name': 'Fedspace 1', 'adjacent': [2, 3, 4, 5, 6, 7], 'adjacent_count': 6, 'ports': [{'id': 1, 'name': 'Earth Port', 'type': '1'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 1, 'name': 'Bit Banger', 'type': 'Merchant Cruiser', 'ship_name': 'Bit Banger', 'ship_type': 'Merchant Cruiser', 'owner': 'derelict'}, {'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 2, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:46,020 - INFO - Server response: {"id": "srv-ok", "reply_to": "b568c221-de21-4395-91e5-244c5dd98231", "ts": "2025-11-14T13:37:45Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 1, "name": "Fedspace 1", "adjacent": [2, 3, 4, 5, 6, 7], "adjacent_count": 6, "ports": [{"id": 1, "name": "Earth Port", "type": "1"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 1, "name": "Bit Banger", "type": "Merchant Cruiser", "ship_name": "Bit Banger", "ship_type": "Merchant Cruiser", "owner": "derelict"}, {"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 2, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:46,020 - INFO - Updated sector.info cache for sector 1
2025-11-14 13:37:46,020 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=1) with reward 0.0
2025-11-14 13:37:46,020 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:37:46,020 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:46,020 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:37:46,020 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:37:46,020 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:37:46,020 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:37:46,020 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=0.0)
2025-11-14 13:37:46,020 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:37:46,021 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:37:46,021 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:37:46,021 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:37:46,021 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:37:46,022 - INFO - Sent command: {"id": "1465839d-7ea8-4d99-b9a4-d87b5ac91c57", "ts": "2025-11-14T13:37:46.022070Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "58321a02-503d-4c6c-9fb1-797e270c4cc0"}, "idempotency_key": "58321a02-503d-4c6c-9fb1-797e270c4cc0"}
2025-11-14 13:37:46,522 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '1465839d-7ea8-4d99-b9a4-d87b5ac91c57', 'ts': '2025-11-14T13:37:46Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 1, 'number': 1, 'name': 'Earth Port', 'sector': 1, 'size': 10, 'techlevel': 10, 'ore_on_hand': 10000, 'organics_on_hand': 10000, 'equipment_on_hand': 10000, 'petty_cash': 0, 'credits': 0, 'type': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:46,522 - INFO - Server response: {"id": "srv-ok", "reply_to": "1465839d-7ea8-4d99-b9a4-d87b5ac91c57", "ts": "2025-11-14T13:37:46Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 1, "number": 1, "name": "Earth Port", "sector": 1, "size": 10, "techlevel": 10, "ore_on_hand": 10000, "organics_on_hand": 10000, "equipment_on_hand": 10000, "petty_cash": 0, "credits": 0, "type": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:46,522 - INFO - Updated port info for new port_id=1
2025-11-14 13:37:46,522 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 15.0 (N=1) with reward 15.0
2025-11-14 13:37:46,522 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:37:46,522 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:46,523 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:37:46,523 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:37:46,523 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:37:46,523 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:37:46,523 - DEBUG - Bandit: Exploring in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote
2025-11-14 13:37:46,523 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:37:46,523 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:37:46,524 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:37:46,524 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:37:46,524 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:37:46,524 - INFO - Sent command: {"id": "c3113f1e-750f-40c2-b4f0-a33d5e92a257", "ts": "2025-11-14T13:37:46.524578Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 1, "commodity": "equipment", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "19f0e6a9-d69b-41fa-ace6-c9dd97ef48b4"}, "idempotency_key": "19f0e6a9-d69b-41fa-ace6-c9dd97ef48b4"}
2025-11-14 13:37:47,024 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c3113f1e-750f-40c2-b4f0-a33d5e92a257', 'ts': '2025-11-14T13:37:46Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 1, 'commodity': 'equipment', 'quantity': 1, 'buy_price': 254.0, 'sell_price': 144.0, 'total_buy_price': 254, 'total_sell_price': 144}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:47,025 - INFO - Server response: {"id": "srv-ok", "reply_to": "c3113f1e-750f-40c2-b4f0-a33d5e92a257", "ts": "2025-11-14T13:37:46Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 1, "commodity": "equipment", "quantity": 1, "buy_price": 254.0, "sell_price": 144.0, "total_buy_price": 254, "total_sell_price": 144}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:47,025 - INFO - Updated price cache: sector=1, port=1, equipment=254.0/144.0
2025-11-14 13:37:47,025 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=1) with reward 0.0
2025-11-14 13:37:47,025 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:37:47,025 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:47,025 - INFO - Planner: Current stage is 'exploit'.
2025-11-14 13:37:47,025 - DEBUG - _can_warp: Current sector: 1, Adjacent sectors from state: [2, 3, 4, 5, 6, 7]
2025-11-14 13:37:47,025 - INFO - Planner: Candidate actions for stage 'exploit': ['trade.buy', 'move.warp']
2025-11-14 13:37:47,025 - INFO - QA Mode: Prioritizing focus commands: ['trade.buy']
2025-11-14 13:37:47,025 - DEBUG - Bandit: Exploiting in context 'stage:exploit-sector_class:unknown_class-port_type:port_present', chose trade.buy (Q=0.0)
2025-11-14 13:37:47,026 - DEBUG - Validating payload for command: trade.buy
2025-11-14 13:37:47,026 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:37:47,026 - DEBUG - Schema info for 'trade.buy': {
  "request_schema": {}
}
2025-11-14 13:37:47,026 - DEBUG - Request schema for 'trade.buy': {}
2025-11-14 13:37:47,027 - WARNING - Empty or no request_schema found for command 'trade.buy' in cached schema. Skipping validation.
2025-11-14 13:37:47,027 - INFO - Sent command: {"id": "8561efcf-72a5-4772-bae7-4cf718e50930", "ts": "2025-11-14T13:37:47.027140Z", "command": "trade.buy", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 1, "items": [{"commodity": "equipment", "quantity": 10}]}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1a96de08-653e-4d19-8845-0725acb2299d"}, "idempotency_key": "1a96de08-653e-4d19-8845-0725acb2299d"}
2025-11-14 13:37:47,527 - DEBUG - Received response: {'id': 'srv-err', 'reply_to': '8561efcf-72a5-4772-bae7-4cf718e50930', 'ts': '2025-11-14T13:37:47Z', 'status': 'error', 'type': 'error', 'error': {'code': 400, 'message': 'idempotency_key required.'}, 'data': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:47,527 - INFO - Server response: {"id": "srv-err", "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930", "ts": "2025-11-14T13:37:47Z", "status": "error", "type": "error", "error": {"code": 400, "message": "idempotency_key required."}, "data": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:47,530 - ERROR - Bug reported: bugs/BUG-20251114-133747-Protocol Error.md
2025-11-14 13:37:47,530 - WARNING - Command 'trade.buy' failed with: idempotency_key required.
2025-11-14 13:37:47,530 - DEBUG - Bandit: Updated Q for trade.buy in context 'stage:exploit-sector_class:unknown_class-port_type:port_present' to 0.0 (N=1) with reward 0.0
2025-11-14 13:37:47,530 - INFO - Applied reward 0.0 to action 'trade.buy' in context 'stage:exploit-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:37:47,530 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:47,530 - DEBUG - Type of game_state_json in get_ollama_response: <class 'dict'>
2025-11-14 13:37:47,531 - DEBUG - Content of game_state_json in get_ollama_response: {
  "stage": "exploit",
  "session_token": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82",
  "player_location_sector": 1,
  "last_server_response": {
    "id": "srv-err",
    "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930",
    "ts": "2025-11-14T13:37:47Z",
    "status": "error",
    "type": "error",
    "error": {
      "code": 400,
      "message": "idempotency_key required."
    },
    "data": null,
    "meta": {
      "rate_limit": {
        "limit": 60,
        "remaining": 60,
        "reset": 60,
        "reset_at": 1763127527.5277581
      }
    }
  },
  "last_command_sent_id": "8561efcf-72a5-4772-bae7-4cf718e50930",
  "pending_commands": {},
  "last_commands_history": [
    "ship.info",
    "sector.info",
    "trade.port_info",
    "trade.quote",
    "trade.buy"
  ],
  "working_commands": [],
  "broken_commands": [],
  "received_responses": [],
  "visited_sectors": [
    1
  ],
  "visited_ports": [
    1
  ],
  "previous_sector_id": null,
  "sectors_with_info": [
    1
  ],
  "normalized_commands": {},
  "schemas_to_fetch": [],
  "cached_schemas": {
    "auth.login": {
      "request_schema": {}
    },
    "auth.logout": {
      "request_schema": {}
    },
    "auth.refresh": {
      "request_schema": {}
    },
    "auth.register": {
      "request_schema": {}
    },
    "bank.balance": {
      "request_schema": {}
    },
    "bank.deposit": {
      "request_schema": {}
    },
    "bank.orders.cancel": {
      "request_schema": {}
    },
    "bank.orders.create": {
      "request_schema": {}
    },
    "bank.orders.list": {
      "request_schema": {}
    },
    "bank.statement": {
      "request_schema": {}
    },
    "bank.transfer": {
      "request_schema": {}
    },
    "bank.withdraw": {
      "request_schema": {}
    },
    "bounty.list": {
      "request_schema": {}
    },
    "bounty.post": {
      "request_schema": {}
    },
    "combat.attack": {
      "request_schema": {}
    },
    "combat.deploy_fighters": {
      "request_schema": {}
    },
    "combat.lay_mines": {
      "request_schema": {}
    },
    "corp.balance": {
      "request_schema": {}
    },
    "corp.deposit": {
      "request_schema": {}
    },
    "corp.issue_dividend": {
      "request_schema": {}
    },
    "corp.set_tax": {
      "request_schema": {}
    },
    "corp.statement": {
      "request_schema": {}
    },
    "corp.stock.issue": {
      "request_schema": {}
    },
    "corp.withdraw": {
      "request_schema": {}
    },
    "fine.list": {
      "request_schema": {}
    },
    "fine.pay": {
      "request_schema": {}
    },
    "insurance.claim.file": {
      "request_schema": {}
    },
    "insurance.policies.buy": {
      "request_schema": {}
    },
    "insurance.policies.list": {
      "request_schema": {}
    },
    "loan.accept": {
      "request_schema": {}
    },
    "loan.apply": {
      "request_schema": {}
    },
    "loan.list_active": {
      "request_schema": {}
    },
    "loan.offers.list": {
      "request_schema": {}
    },
    "loan.repay": {
      "request_schema": {}
    },
    "market.contracts.buy": {
      "request_schema": {}
    },
    "market.contracts.list": {
      "request_schema": {}
    },
    "market.contracts.sell": {
      "request_schema": {}
    },
    "market.orders.cancel": {
      "request_schema": {}
    },
    "market.orders.create": {
      "request_schema": {}
    },
    "market.orders.list": {
      "request_schema": {}
    },
    "move.autopilot.start": {
      "request_schema": {}
    },
    "move.autopilot.status": {
      "request_schema": {}
    },
    "move.autopilot.stop": {
      "request_schema": {}
    },
    "move.describe_sector": {
      "request_schema": {}
    },
    "move.pathfind": {
      "request_schema": {}
    },
    "move.transwarp": {
      "request_schema": {}
    },
    "move.warp": {
      "request_schema": {}
    },
    "nav.avoid.add": {
      "request_schema": {}
    },
    "nav.avoid.list": {
      "request_schema": {}
    },
    "nav.avoid.remove": {
      "request_schema": {}
    },
    "nav.bookmark.add": {
      "request_schema": {}
    },
    "nav.bookmark.list": {
      "request_schema": {}
    },
    "nav.bookmark.remove": {
      "request_schema": {}
    },
    "planet.create": {
      "request_schema": {}
    },
    "planet.deposit": {
      "request_schema": {}
    },
    "planet.list_mine": {
      "request_schema": {}
    },
    "planet.withdraw": {
      "request_schema": {}
    },
    "player.get_settings": {
      "request_schema": {}
    },
    "player.list_online": {
      "request_schema": {}
    },
    "player.my_info": {
      "request_schema": {}
    },
    "player.rankings": {
      "request_schema": {}
    },
    "player.set_prefs": {
      "request_schema": {}
    },
    "research.projects.fund": {
      "request_schema": {}
    },
    "research.projects.list": {
      "request_schema": {}
    },
    "ship.info": {
      "request_schema": {}
    },
    "ship.jettison": {
      "request_schema": {}
    },
    "ship.status": {
      "request_schema": {}
    },
    "ship.upgrade": {
      "request_schema": {}
    },
    "stock.exchange.list_stocks": {
      "request_schema": {}
    },
    "stock.exchange.orders.cancel": {
      "request_schema": {}
    },
    "stock.exchange.orders.create": {
      "request_schema": {}
    },
    "stock.portfolio.list": {
      "request_schema": {}
    },
    "system.capabilities": {
      "request_schema": {}
    },
    "system.describe_schema": {
      "request_schema": {}
    },
    "system.hello": {
      "request_schema": {}
    },
    "trade.buy": {
      "request_schema": {}
    },
    "trade.history": {
      "request_schema": {}
    },
    "trade.port_info": {
      "request_schema": {}
    },
    "trade.quote": {
      "request_schema": {}
    },
    "trade.sell": {
      "request_schema": {}
    }
  },
  "sector_info_fetched_for": {
    "1": 1763127466.0201952
  },
  "last_sector_info_request_time": 1763127465.519482,
  "last_ship_info_request_time": 1763127465.0171561,
  "last_player_info_request_time": 0,
  "port_info_failures_per_sector": {},
  "sector_snapshot_by_id": {},
  "q_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 0.0
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 15.0,
      "trade.quote": 0.0
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 0.0
    }
  },
  "n_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 1
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 1,
      "trade.quote": 1
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 1
    }
  },
  "last_reward": 0.0,
  "last_context_key": null,
  "last_action": null,
  "last_stage": null,
  "bug_reported_this_tick": true,
  "player_username": "ai_qa_bot",
  "client_version": "AI_QA_Bot/1.1",
  "current_credits": 10000,
  "previous_credits": 10000,
  "last_responses_history": [
    {
      "id": "srv-ok",
      "reply_to": "655e1e6c-ab12-427c-8bba-c06a543a61c7",
      "ts": "2025-11-14T13:37:45Z",
      "status": "ok",
      "type": "ship.status",
      "data": {
        "ship": {
          "id": 2,
          "number": 2,
          "name": "QA Bot 1",
          "type": {
            "id": 0,
            "name": "25"
          },
          "holds": 250,
          "fighters": 1,
          "location": {
            "sector_id": 1,
            "sector_name": "Fedspace 1"
          },
          "owner": {
            "id": 4,
            "name": "ai_qa_bot"
          },
          "cargo": {
            "ore": 0,
            "organics": 0,
            "equipment": 0,
            "colonists": 0
          }
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127525.517766
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "b568c221-de21-4395-91e5-244c5dd98231",
      "ts": "2025-11-14T13:37:45Z",
      "status": "ok",
      "type": "sector.info",
      "data": {
        "sector_id": 1,
        "name": "Fedspace 1",
        "adjacent": [
          2,
          3,
          4,
          5,
          6,
          7
        ],
        "adjacent_count": 6,
        "ports": [
          {
            "id": 1,
            "name": "Earth Port",
            "type": "1"
          }
        ],
        "has_port": true,
        "players": [],
        "players_count": 0,
        "beacons": [],
        "beacons_count": 0,
        "planets": [],
        "has_planet": false,
        "planets_count": 0,
        "beacon": "The Federation -- Do Not Dump!",
        "has_beacon": true,
        "ships": [
          {
            "id": 1,
            "name": "Bit Banger",
            "type": "Merchant Cruiser",
            "ship_name": "Bit Banger",
            "ship_type": "Merchant Cruiser",
            "owner": "derelict"
          },
          {
            "id": 2,
            "name": "QA Bot 1",
            "type": "Scout Marauder",
            "ship_name": "QA Bot 1",
            "ship_type": "Scout Marauder",
            "owner": "ai_qa_bot"
          }
        ],
        "ships_count": 2,
        "ports_count": 1,
        "counts": {
          "fighters": 0,
          "mines_armid": 1,
          "mines_limpet": 0,
          "mines": 1
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127526.0201898
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "1465839d-7ea8-4d99-b9a4-d87b5ac91c57",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.port_info",
      "data": {
        "port": {
          "id": 1,
          "number": 1,
          "name": "Earth Port",
          "sector": 1,
          "size": 10,
          "techlevel": 10,
          "ore_on_hand": 10000,
          "organics_on_hand": 10000,
          "equipment_on_hand": 10000,
          "petty_cash": 0,
          "credits": 0,
          "type": 1
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127526.522689
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "c3113f1e-750f-40c2-b4f0-a33d5e92a257",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.quote",
      "data": {
        "port_id": 1,
        "commodity": "equipment",
        "quantity": 1,
        "buy_price": 254.0,
        "sell_price": 144.0,
        "total_buy_price": 254,
        "total_sell_price": 144
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.0252388
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930",
      "ts": "2025-11-14T13:37:47Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.5277581
        }
      }
    }
  ],
  "commands_to_try": [],
  "ship_info": {
    "id": 2,
    "number": 2,
    "name": "QA Bot 1",
    "type": {
      "id": 0,
      "name": "25"
    },
    "holds": 250,
    "fighters": 1,
    "location": {
      "sector_id": 1,
      "sector_name": "Fedspace 1"
    },
    "owner": {
      "id": 4,
      "name": "ai_qa_bot"
    },
    "cargo": {
      "ore": 0,
      "organics": 0,
      "equipment": 0,
      "colonists": 0
    }
  },
  "port_info": {
    "port": {
      "id": 1,
      "number": 1,
      "name": "Earth Port",
      "sector": 1,
      "size": 10,
      "techlevel": 10,
      "ore_on_hand": 10000,
      "organics_on_hand": 10000,
      "equipment_on_hand": 10000,
      "petty_cash": 0,
      "credits": 0,
      "type": 1
    }
  },
  "last_bank_info_request_time": 0,
  "price_cache": {
    "1": {
      "1": {
        "equipment": {
          "buy": 254.0,
          "sell": 144.0,
          "timestamp": 1763127467.0252442
        }
      }
    }
  },
  "next_allowed": {},
  "server_capabilities": {},
  "last_processed_command_name": "trade.buy",
  "sector_data": {
    "1": {
      "sector_id": 1,
      "name": "Fedspace 1",
      "adjacent": [
        2,
        3,
        4,
        5,
        6,
        7
      ],
      "adjacent_count": 6,
      "ports": [
        {
          "id": 1,
          "name": "Earth Port",
          "type": "1"
        }
      ],
      "has_port": true,
      "players": [],
      "players_count": 0,
      "beacons": [],
      "beacons_count": 0,
      "planets": [],
      "has_planet": false,
      "planets_count": 0,
      "beacon": "The Federation -- Do Not Dump!",
      "has_beacon": true,
      "ships": [
        {
          "id": 1,
          "name": "Bit Banger",
          "type": "Merchant Cruiser",
          "ship_name": "Bit Banger",
          "ship_type": "Merchant Cruiser",
          "owner": "derelict"
        },
        {
          "id": 2,
          "name": "QA Bot 1",
          "type": "Scout Marauder",
          "ship_name": "QA Bot 1",
          "ship_type": "Scout Marauder",
          "owner": "ai_qa_bot"
        }
      ],
      "ships_count": 2,
      "ports_count": 1,
      "counts": {
        "fighters": 0,
        "mines_armid": 1,
        "mines_limpet": 0,
        "mines": 1
      }
    }
  },
  "new_sector_discovered": false,
  "trade_successful": false,
  "new_port_discovered": false,
  "rate_limit_info": {
    "limit": 60,
    "remaining": 60,
    "reset": 60,
    "reset_at": 1763127527.5277581
  },
  "command_retry_info": {
    "trade.buy": {
      "failures": 1,
      "next_retry_time": 0
    }
  },
  "price_cache_updated_this_tick": true
}
2025-11-14 13:37:47,533 - DEBUG - connect_tcp.started host='127.0.0.1' port=11434 local_address=None timeout=None socket_options=None
2025-11-14 13:37:47,534 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x74e13463d4f0>
2025-11-14 13:37:47,535 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-11-14 13:37:47,535 - DEBUG - send_request_headers.complete
2025-11-14 13:37:47,535 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-11-14 13:37:47,535 - DEBUG - send_request_body.complete
2025-11-14 13:37:47,535 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-11-14 13:37:57,397 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 14 Nov 2025 13:37:57 GMT'), (b'Content-Length', b'421')])
2025-11-14 13:37:57,398 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-14 13:37:57,398 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-11-14 13:37:57,398 - DEBUG - receive_response_body.complete
2025-11-14 13:37:57,398 - DEBUG - response_closed.started
2025-11-14 13:37:57,398 - DEBUG - response_closed.complete
2025-11-14 13:37:57,398 - INFO - Ollama responded with: {
    "command": "trade.quote",
    "data": {
        "sector_id": 1,
        "commodity": "ore"
    }
}
2025-11-14 13:37:57,398 - INFO - LLM suggested command: trade.quote with data: {'sector_id': 1, 'commodity': 'ore'}
2025-11-14 13:37:57,398 - INFO - Planner: Current stage is 'exploit'.
2025-11-14 13:37:57,399 - DEBUG - _can_warp: Current sector: 1, Adjacent sectors from state: [2, 3, 4, 5, 6, 7]
2025-11-14 13:37:57,399 - INFO - Planner: Candidate actions for stage 'exploit': ['trade.buy', 'move.warp']
2025-11-14 13:37:57,399 - INFO - QA Mode: Prioritizing focus commands: ['trade.buy']
2025-11-14 13:37:57,399 - DEBUG - Bandit: Exploring in context 'stage:exploit-sector_class:unknown_class-port_type:port_present', chose trade.buy
2025-11-14 13:37:57,399 - DEBUG - Validating payload for command: trade.buy
2025-11-14 13:37:57,399 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:37:57,399 - DEBUG - Schema info for 'trade.buy': {
  "request_schema": {}
}
2025-11-14 13:37:57,399 - DEBUG - Request schema for 'trade.buy': {}
2025-11-14 13:37:57,399 - WARNING - Empty or no request_schema found for command 'trade.buy' in cached schema. Skipping validation.
2025-11-14 13:37:57,399 - INFO - Sent command: {"id": "41e68702-ff83-4477-ba2d-079ec9e6a0af", "ts": "2025-11-14T13:37:57.399829Z", "command": "trade.buy", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 1, "items": [{"commodity": "equipment", "quantity": 10}]}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1d014ba6-77fd-43d4-83c6-3b7646bc188f"}, "idempotency_key": "1d014ba6-77fd-43d4-83c6-3b7646bc188f"}
2025-11-14 13:37:57,900 - DEBUG - Received response: {'id': 'srv-err', 'reply_to': '41e68702-ff83-4477-ba2d-079ec9e6a0af', 'ts': '2025-11-14T13:37:57Z', 'status': 'error', 'type': 'error', 'error': {'code': 400, 'message': 'idempotency_key required.'}, 'data': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:37:57,900 - INFO - Server response: {"id": "srv-err", "reply_to": "41e68702-ff83-4477-ba2d-079ec9e6a0af", "ts": "2025-11-14T13:37:57Z", "status": "error", "type": "error", "error": {"code": 400, "message": "idempotency_key required."}, "data": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:37:57,902 - ERROR - Bug reported: bugs/BUG-20251114-133757-Protocol Error.md
2025-11-14 13:37:57,902 - WARNING - Command 'trade.buy' failed with: idempotency_key required.
2025-11-14 13:37:57,902 - DEBUG - Bandit: Updated Q for trade.buy in context 'stage:exploit-sector_class:unknown_class-port_type:port_present' to 0.0 (N=2) with reward 0.0
2025-11-14 13:37:57,902 - INFO - Applied reward 0.0 to action 'trade.buy' in context 'stage:exploit-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:37:57,903 - DEBUG - Pending commands before check: {}
2025-11-14 13:37:57,903 - DEBUG - Type of game_state_json in get_ollama_response: <class 'dict'>
2025-11-14 13:37:57,904 - DEBUG - Content of game_state_json in get_ollama_response: {
  "stage": "exploit",
  "session_token": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82",
  "player_location_sector": 1,
  "last_server_response": {
    "id": "srv-err",
    "reply_to": "41e68702-ff83-4477-ba2d-079ec9e6a0af",
    "ts": "2025-11-14T13:37:57Z",
    "status": "error",
    "type": "error",
    "error": {
      "code": 400,
      "message": "idempotency_key required."
    },
    "data": null,
    "meta": {
      "rate_limit": {
        "limit": 60,
        "remaining": 60,
        "reset": 60,
        "reset_at": 1763127537.9005337
      }
    }
  },
  "last_command_sent_id": "41e68702-ff83-4477-ba2d-079ec9e6a0af",
  "pending_commands": {},
  "last_commands_history": [
    "sector.info",
    "trade.port_info",
    "trade.quote",
    "trade.buy",
    "trade.buy"
  ],
  "working_commands": [],
  "broken_commands": [],
  "received_responses": [],
  "visited_sectors": [
    1
  ],
  "visited_ports": [
    1
  ],
  "previous_sector_id": null,
  "sectors_with_info": [
    1
  ],
  "normalized_commands": {},
  "schemas_to_fetch": [],
  "cached_schemas": {
    "auth.login": {
      "request_schema": {}
    },
    "auth.logout": {
      "request_schema": {}
    },
    "auth.refresh": {
      "request_schema": {}
    },
    "auth.register": {
      "request_schema": {}
    },
    "bank.balance": {
      "request_schema": {}
    },
    "bank.deposit": {
      "request_schema": {}
    },
    "bank.orders.cancel": {
      "request_schema": {}
    },
    "bank.orders.create": {
      "request_schema": {}
    },
    "bank.orders.list": {
      "request_schema": {}
    },
    "bank.statement": {
      "request_schema": {}
    },
    "bank.transfer": {
      "request_schema": {}
    },
    "bank.withdraw": {
      "request_schema": {}
    },
    "bounty.list": {
      "request_schema": {}
    },
    "bounty.post": {
      "request_schema": {}
    },
    "combat.attack": {
      "request_schema": {}
    },
    "combat.deploy_fighters": {
      "request_schema": {}
    },
    "combat.lay_mines": {
      "request_schema": {}
    },
    "corp.balance": {
      "request_schema": {}
    },
    "corp.deposit": {
      "request_schema": {}
    },
    "corp.issue_dividend": {
      "request_schema": {}
    },
    "corp.set_tax": {
      "request_schema": {}
    },
    "corp.statement": {
      "request_schema": {}
    },
    "corp.stock.issue": {
      "request_schema": {}
    },
    "corp.withdraw": {
      "request_schema": {}
    },
    "fine.list": {
      "request_schema": {}
    },
    "fine.pay": {
      "request_schema": {}
    },
    "insurance.claim.file": {
      "request_schema": {}
    },
    "insurance.policies.buy": {
      "request_schema": {}
    },
    "insurance.policies.list": {
      "request_schema": {}
    },
    "loan.accept": {
      "request_schema": {}
    },
    "loan.apply": {
      "request_schema": {}
    },
    "loan.list_active": {
      "request_schema": {}
    },
    "loan.offers.list": {
      "request_schema": {}
    },
    "loan.repay": {
      "request_schema": {}
    },
    "market.contracts.buy": {
      "request_schema": {}
    },
    "market.contracts.list": {
      "request_schema": {}
    },
    "market.contracts.sell": {
      "request_schema": {}
    },
    "market.orders.cancel": {
      "request_schema": {}
    },
    "market.orders.create": {
      "request_schema": {}
    },
    "market.orders.list": {
      "request_schema": {}
    },
    "move.autopilot.start": {
      "request_schema": {}
    },
    "move.autopilot.status": {
      "request_schema": {}
    },
    "move.autopilot.stop": {
      "request_schema": {}
    },
    "move.describe_sector": {
      "request_schema": {}
    },
    "move.pathfind": {
      "request_schema": {}
    },
    "move.transwarp": {
      "request_schema": {}
    },
    "move.warp": {
      "request_schema": {}
    },
    "nav.avoid.add": {
      "request_schema": {}
    },
    "nav.avoid.list": {
      "request_schema": {}
    },
    "nav.avoid.remove": {
      "request_schema": {}
    },
    "nav.bookmark.add": {
      "request_schema": {}
    },
    "nav.bookmark.list": {
      "request_schema": {}
    },
    "nav.bookmark.remove": {
      "request_schema": {}
    },
    "planet.create": {
      "request_schema": {}
    },
    "planet.deposit": {
      "request_schema": {}
    },
    "planet.list_mine": {
      "request_schema": {}
    },
    "planet.withdraw": {
      "request_schema": {}
    },
    "player.get_settings": {
      "request_schema": {}
    },
    "player.list_online": {
      "request_schema": {}
    },
    "player.my_info": {
      "request_schema": {}
    },
    "player.rankings": {
      "request_schema": {}
    },
    "player.set_prefs": {
      "request_schema": {}
    },
    "research.projects.fund": {
      "request_schema": {}
    },
    "research.projects.list": {
      "request_schema": {}
    },
    "ship.info": {
      "request_schema": {}
    },
    "ship.jettison": {
      "request_schema": {}
    },
    "ship.status": {
      "request_schema": {}
    },
    "ship.upgrade": {
      "request_schema": {}
    },
    "stock.exchange.list_stocks": {
      "request_schema": {}
    },
    "stock.exchange.orders.cancel": {
      "request_schema": {}
    },
    "stock.exchange.orders.create": {
      "request_schema": {}
    },
    "stock.portfolio.list": {
      "request_schema": {}
    },
    "system.capabilities": {
      "request_schema": {}
    },
    "system.describe_schema": {
      "request_schema": {}
    },
    "system.hello": {
      "request_schema": {}
    },
    "trade.buy": {
      "request_schema": {}
    },
    "trade.history": {
      "request_schema": {}
    },
    "trade.port_info": {
      "request_schema": {}
    },
    "trade.quote": {
      "request_schema": {}
    },
    "trade.sell": {
      "request_schema": {}
    }
  },
  "sector_info_fetched_for": {
    "1": 1763127466.0201952
  },
  "last_sector_info_request_time": 1763127465.519482,
  "last_ship_info_request_time": 1763127465.0171561,
  "last_player_info_request_time": 0,
  "port_info_failures_per_sector": {},
  "sector_snapshot_by_id": {},
  "q_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 0.0
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 15.0,
      "trade.quote": 0.0
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 0.0
    }
  },
  "n_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 1
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 1,
      "trade.quote": 1
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 2
    }
  },
  "last_reward": 0.0,
  "last_context_key": null,
  "last_action": null,
  "last_stage": null,
  "bug_reported_this_tick": true,
  "player_username": "ai_qa_bot",
  "client_version": "AI_QA_Bot/1.1",
  "current_credits": 10000,
  "previous_credits": 10000,
  "last_responses_history": [
    {
      "id": "srv-ok",
      "reply_to": "b568c221-de21-4395-91e5-244c5dd98231",
      "ts": "2025-11-14T13:37:45Z",
      "status": "ok",
      "type": "sector.info",
      "data": {
        "sector_id": 1,
        "name": "Fedspace 1",
        "adjacent": [
          2,
          3,
          4,
          5,
          6,
          7
        ],
        "adjacent_count": 6,
        "ports": [
          {
            "id": 1,
            "name": "Earth Port",
            "type": "1"
          }
        ],
        "has_port": true,
        "players": [],
        "players_count": 0,
        "beacons": [],
        "beacons_count": 0,
        "planets": [],
        "has_planet": false,
        "planets_count": 0,
        "beacon": "The Federation -- Do Not Dump!",
        "has_beacon": true,
        "ships": [
          {
            "id": 1,
            "name": "Bit Banger",
            "type": "Merchant Cruiser",
            "ship_name": "Bit Banger",
            "ship_type": "Merchant Cruiser",
            "owner": "derelict"
          },
          {
            "id": 2,
            "name": "QA Bot 1",
            "type": "Scout Marauder",
            "ship_name": "QA Bot 1",
            "ship_type": "Scout Marauder",
            "owner": "ai_qa_bot"
          }
        ],
        "ships_count": 2,
        "ports_count": 1,
        "counts": {
          "fighters": 0,
          "mines_armid": 1,
          "mines_limpet": 0,
          "mines": 1
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127526.0201898
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "1465839d-7ea8-4d99-b9a4-d87b5ac91c57",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.port_info",
      "data": {
        "port": {
          "id": 1,
          "number": 1,
          "name": "Earth Port",
          "sector": 1,
          "size": 10,
          "techlevel": 10,
          "ore_on_hand": 10000,
          "organics_on_hand": 10000,
          "equipment_on_hand": 10000,
          "petty_cash": 0,
          "credits": 0,
          "type": 1
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127526.522689
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "c3113f1e-750f-40c2-b4f0-a33d5e92a257",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.quote",
      "data": {
        "port_id": 1,
        "commodity": "equipment",
        "quantity": 1,
        "buy_price": 254.0,
        "sell_price": 144.0,
        "total_buy_price": 254,
        "total_sell_price": 144
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.0252388
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930",
      "ts": "2025-11-14T13:37:47Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.5277581
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "41e68702-ff83-4477-ba2d-079ec9e6a0af",
      "ts": "2025-11-14T13:37:57Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127537.9005337
        }
      }
    }
  ],
  "commands_to_try": [],
  "ship_info": {
    "id": 2,
    "number": 2,
    "name": "QA Bot 1",
    "type": {
      "id": 0,
      "name": "25"
    },
    "holds": 250,
    "fighters": 1,
    "location": {
      "sector_id": 1,
      "sector_name": "Fedspace 1"
    },
    "owner": {
      "id": 4,
      "name": "ai_qa_bot"
    },
    "cargo": {
      "ore": 0,
      "organics": 0,
      "equipment": 0,
      "colonists": 0
    }
  },
  "port_info": {
    "port": {
      "id": 1,
      "number": 1,
      "name": "Earth Port",
      "sector": 1,
      "size": 10,
      "techlevel": 10,
      "ore_on_hand": 10000,
      "organics_on_hand": 10000,
      "equipment_on_hand": 10000,
      "petty_cash": 0,
      "credits": 0,
      "type": 1
    }
  },
  "last_bank_info_request_time": 0,
  "price_cache": {
    "1": {
      "1": {
        "equipment": {
          "buy": 254.0,
          "sell": 144.0,
          "timestamp": 1763127467.0252442
        }
      }
    }
  },
  "next_allowed": {},
  "server_capabilities": {},
  "last_processed_command_name": "trade.buy",
  "sector_data": {
    "1": {
      "sector_id": 1,
      "name": "Fedspace 1",
      "adjacent": [
        2,
        3,
        4,
        5,
        6,
        7
      ],
      "adjacent_count": 6,
      "ports": [
        {
          "id": 1,
          "name": "Earth Port",
          "type": "1"
        }
      ],
      "has_port": true,
      "players": [],
      "players_count": 0,
      "beacons": [],
      "beacons_count": 0,
      "planets": [],
      "has_planet": false,
      "planets_count": 0,
      "beacon": "The Federation -- Do Not Dump!",
      "has_beacon": true,
      "ships": [
        {
          "id": 1,
          "name": "Bit Banger",
          "type": "Merchant Cruiser",
          "ship_name": "Bit Banger",
          "ship_type": "Merchant Cruiser",
          "owner": "derelict"
        },
        {
          "id": 2,
          "name": "QA Bot 1",
          "type": "Scout Marauder",
          "ship_name": "QA Bot 1",
          "ship_type": "Scout Marauder",
          "owner": "ai_qa_bot"
        }
      ],
      "ships_count": 2,
      "ports_count": 1,
      "counts": {
        "fighters": 0,
        "mines_armid": 1,
        "mines_limpet": 0,
        "mines": 1
      }
    }
  },
  "new_sector_discovered": false,
  "trade_successful": false,
  "new_port_discovered": false,
  "rate_limit_info": {
    "limit": 60,
    "remaining": 60,
    "reset": 60,
    "reset_at": 1763127537.9005337
  },
  "command_retry_info": {
    "trade.buy": {
      "failures": 2,
      "next_retry_time": 0
    }
  },
  "price_cache_updated_this_tick": true
}
2025-11-14 13:37:57,905 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-11-14 13:37:57,906 - DEBUG - send_request_headers.complete
2025-11-14 13:37:57,906 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-11-14 13:37:57,906 - DEBUG - send_request_body.complete
2025-11-14 13:37:57,906 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-11-14 13:38:03,902 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 14 Nov 2025 13:38:03 GMT'), (b'Content-Length', b'386')])
2025-11-14 13:38:03,903 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-14 13:38:03,903 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-11-14 13:38:03,903 - DEBUG - receive_response_body.complete
2025-11-14 13:38:03,903 - DEBUG - response_closed.started
2025-11-14 13:38:03,903 - DEBUG - response_closed.complete
2025-11-14 13:38:03,903 - INFO - Ollama responded with: {
"command": "trade.quote",
"data": {
"sector_id": 1,
"port_id": null
}
}
2025-11-14 13:38:03,903 - INFO - LLM suggested command: trade.quote with data: {'sector_id': 1, 'port_id': None}
2025-11-14 13:38:03,903 - INFO - Planner: Current stage is 'exploit'.
2025-11-14 13:38:03,903 - DEBUG - _can_warp: Current sector: 1, Adjacent sectors from state: [2, 3, 4, 5, 6, 7]
2025-11-14 13:38:03,903 - INFO - Planner: Candidate actions for stage 'exploit': ['trade.buy', 'move.warp']
2025-11-14 13:38:03,903 - INFO - QA Mode: Prioritizing focus commands: ['trade.buy']
2025-11-14 13:38:03,903 - DEBUG - Bandit: Exploiting in context 'stage:exploit-sector_class:unknown_class-port_type:port_present', chose trade.buy (Q=0.0)
2025-11-14 13:38:03,903 - DEBUG - Validating payload for command: trade.buy
2025-11-14 13:38:03,904 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:03,904 - DEBUG - Schema info for 'trade.buy': {
  "request_schema": {}
}
2025-11-14 13:38:03,904 - DEBUG - Request schema for 'trade.buy': {}
2025-11-14 13:38:03,904 - WARNING - Empty or no request_schema found for command 'trade.buy' in cached schema. Skipping validation.
2025-11-14 13:38:03,904 - INFO - Sent command: {"id": "7a8a6375-a51f-42cc-b651-61f96f44cb0a", "ts": "2025-11-14T13:38:03.904567Z", "command": "trade.buy", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 1, "items": [{"commodity": "equipment", "quantity": 10}]}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e1ca64b0-6972-4261-8a70-0b4f1358478e"}, "idempotency_key": "e1ca64b0-6972-4261-8a70-0b4f1358478e"}
2025-11-14 13:38:04,404 - DEBUG - Received response: {'id': 'srv-err', 'reply_to': '7a8a6375-a51f-42cc-b651-61f96f44cb0a', 'ts': '2025-11-14T13:38:03Z', 'status': 'error', 'type': 'error', 'error': {'code': 400, 'message': 'idempotency_key required.'}, 'data': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:04,405 - INFO - Server response: {"id": "srv-err", "reply_to": "7a8a6375-a51f-42cc-b651-61f96f44cb0a", "ts": "2025-11-14T13:38:03Z", "status": "error", "type": "error", "error": {"code": 400, "message": "idempotency_key required."}, "data": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:04,406 - ERROR - Bug reported: bugs/BUG-20251114-133804-Protocol Error.md
2025-11-14 13:38:04,407 - WARNING - Command 'trade.buy' failed with: idempotency_key required.
2025-11-14 13:38:04,407 - DEBUG - Bandit: Updated Q for trade.buy in context 'stage:exploit-sector_class:unknown_class-port_type:port_present' to 0.0 (N=3) with reward 0.0
2025-11-14 13:38:04,407 - INFO - Applied reward 0.0 to action 'trade.buy' in context 'stage:exploit-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:04,407 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:04,407 - DEBUG - Type of game_state_json in get_ollama_response: <class 'dict'>
2025-11-14 13:38:04,408 - DEBUG - Content of game_state_json in get_ollama_response: {
  "stage": "exploit",
  "session_token": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82",
  "player_location_sector": 1,
  "last_server_response": {
    "id": "srv-err",
    "reply_to": "7a8a6375-a51f-42cc-b651-61f96f44cb0a",
    "ts": "2025-11-14T13:38:03Z",
    "status": "error",
    "type": "error",
    "error": {
      "code": 400,
      "message": "idempotency_key required."
    },
    "data": null,
    "meta": {
      "rate_limit": {
        "limit": 60,
        "remaining": 60,
        "reset": 60,
        "reset_at": 1763127544.4051175
      }
    }
  },
  "last_command_sent_id": "7a8a6375-a51f-42cc-b651-61f96f44cb0a",
  "pending_commands": {},
  "last_commands_history": [
    "trade.port_info",
    "trade.quote",
    "trade.buy",
    "trade.buy",
    "trade.buy"
  ],
  "working_commands": [],
  "broken_commands": [],
  "received_responses": [],
  "visited_sectors": [
    1
  ],
  "visited_ports": [
    1
  ],
  "previous_sector_id": null,
  "sectors_with_info": [
    1
  ],
  "normalized_commands": {},
  "schemas_to_fetch": [],
  "cached_schemas": {
    "auth.login": {
      "request_schema": {}
    },
    "auth.logout": {
      "request_schema": {}
    },
    "auth.refresh": {
      "request_schema": {}
    },
    "auth.register": {
      "request_schema": {}
    },
    "bank.balance": {
      "request_schema": {}
    },
    "bank.deposit": {
      "request_schema": {}
    },
    "bank.orders.cancel": {
      "request_schema": {}
    },
    "bank.orders.create": {
      "request_schema": {}
    },
    "bank.orders.list": {
      "request_schema": {}
    },
    "bank.statement": {
      "request_schema": {}
    },
    "bank.transfer": {
      "request_schema": {}
    },
    "bank.withdraw": {
      "request_schema": {}
    },
    "bounty.list": {
      "request_schema": {}
    },
    "bounty.post": {
      "request_schema": {}
    },
    "combat.attack": {
      "request_schema": {}
    },
    "combat.deploy_fighters": {
      "request_schema": {}
    },
    "combat.lay_mines": {
      "request_schema": {}
    },
    "corp.balance": {
      "request_schema": {}
    },
    "corp.deposit": {
      "request_schema": {}
    },
    "corp.issue_dividend": {
      "request_schema": {}
    },
    "corp.set_tax": {
      "request_schema": {}
    },
    "corp.statement": {
      "request_schema": {}
    },
    "corp.stock.issue": {
      "request_schema": {}
    },
    "corp.withdraw": {
      "request_schema": {}
    },
    "fine.list": {
      "request_schema": {}
    },
    "fine.pay": {
      "request_schema": {}
    },
    "insurance.claim.file": {
      "request_schema": {}
    },
    "insurance.policies.buy": {
      "request_schema": {}
    },
    "insurance.policies.list": {
      "request_schema": {}
    },
    "loan.accept": {
      "request_schema": {}
    },
    "loan.apply": {
      "request_schema": {}
    },
    "loan.list_active": {
      "request_schema": {}
    },
    "loan.offers.list": {
      "request_schema": {}
    },
    "loan.repay": {
      "request_schema": {}
    },
    "market.contracts.buy": {
      "request_schema": {}
    },
    "market.contracts.list": {
      "request_schema": {}
    },
    "market.contracts.sell": {
      "request_schema": {}
    },
    "market.orders.cancel": {
      "request_schema": {}
    },
    "market.orders.create": {
      "request_schema": {}
    },
    "market.orders.list": {
      "request_schema": {}
    },
    "move.autopilot.start": {
      "request_schema": {}
    },
    "move.autopilot.status": {
      "request_schema": {}
    },
    "move.autopilot.stop": {
      "request_schema": {}
    },
    "move.describe_sector": {
      "request_schema": {}
    },
    "move.pathfind": {
      "request_schema": {}
    },
    "move.transwarp": {
      "request_schema": {}
    },
    "move.warp": {
      "request_schema": {}
    },
    "nav.avoid.add": {
      "request_schema": {}
    },
    "nav.avoid.list": {
      "request_schema": {}
    },
    "nav.avoid.remove": {
      "request_schema": {}
    },
    "nav.bookmark.add": {
      "request_schema": {}
    },
    "nav.bookmark.list": {
      "request_schema": {}
    },
    "nav.bookmark.remove": {
      "request_schema": {}
    },
    "planet.create": {
      "request_schema": {}
    },
    "planet.deposit": {
      "request_schema": {}
    },
    "planet.list_mine": {
      "request_schema": {}
    },
    "planet.withdraw": {
      "request_schema": {}
    },
    "player.get_settings": {
      "request_schema": {}
    },
    "player.list_online": {
      "request_schema": {}
    },
    "player.my_info": {
      "request_schema": {}
    },
    "player.rankings": {
      "request_schema": {}
    },
    "player.set_prefs": {
      "request_schema": {}
    },
    "research.projects.fund": {
      "request_schema": {}
    },
    "research.projects.list": {
      "request_schema": {}
    },
    "ship.info": {
      "request_schema": {}
    },
    "ship.jettison": {
      "request_schema": {}
    },
    "ship.status": {
      "request_schema": {}
    },
    "ship.upgrade": {
      "request_schema": {}
    },
    "stock.exchange.list_stocks": {
      "request_schema": {}
    },
    "stock.exchange.orders.cancel": {
      "request_schema": {}
    },
    "stock.exchange.orders.create": {
      "request_schema": {}
    },
    "stock.portfolio.list": {
      "request_schema": {}
    },
    "system.capabilities": {
      "request_schema": {}
    },
    "system.describe_schema": {
      "request_schema": {}
    },
    "system.hello": {
      "request_schema": {}
    },
    "trade.buy": {
      "request_schema": {}
    },
    "trade.history": {
      "request_schema": {}
    },
    "trade.port_info": {
      "request_schema": {}
    },
    "trade.quote": {
      "request_schema": {}
    },
    "trade.sell": {
      "request_schema": {}
    }
  },
  "sector_info_fetched_for": {
    "1": 1763127466.0201952
  },
  "last_sector_info_request_time": 1763127465.519482,
  "last_ship_info_request_time": 1763127465.0171561,
  "last_player_info_request_time": 0,
  "port_info_failures_per_sector": {},
  "sector_snapshot_by_id": {},
  "q_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 0.0
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 15.0,
      "trade.quote": 0.0
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 0.0
    }
  },
  "n_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 1
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 1,
      "trade.quote": 1
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 3
    }
  },
  "last_reward": 0.0,
  "last_context_key": null,
  "last_action": null,
  "last_stage": null,
  "bug_reported_this_tick": true,
  "player_username": "ai_qa_bot",
  "client_version": "AI_QA_Bot/1.1",
  "current_credits": 10000,
  "previous_credits": 10000,
  "last_responses_history": [
    {
      "id": "srv-ok",
      "reply_to": "1465839d-7ea8-4d99-b9a4-d87b5ac91c57",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.port_info",
      "data": {
        "port": {
          "id": 1,
          "number": 1,
          "name": "Earth Port",
          "sector": 1,
          "size": 10,
          "techlevel": 10,
          "ore_on_hand": 10000,
          "organics_on_hand": 10000,
          "equipment_on_hand": 10000,
          "petty_cash": 0,
          "credits": 0,
          "type": 1
        }
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127526.522689
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "c3113f1e-750f-40c2-b4f0-a33d5e92a257",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.quote",
      "data": {
        "port_id": 1,
        "commodity": "equipment",
        "quantity": 1,
        "buy_price": 254.0,
        "sell_price": 144.0,
        "total_buy_price": 254,
        "total_sell_price": 144
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.0252388
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930",
      "ts": "2025-11-14T13:37:47Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.5277581
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "41e68702-ff83-4477-ba2d-079ec9e6a0af",
      "ts": "2025-11-14T13:37:57Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127537.9005337
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "7a8a6375-a51f-42cc-b651-61f96f44cb0a",
      "ts": "2025-11-14T13:38:03Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127544.4051175
        }
      }
    }
  ],
  "commands_to_try": [],
  "ship_info": {
    "id": 2,
    "number": 2,
    "name": "QA Bot 1",
    "type": {
      "id": 0,
      "name": "25"
    },
    "holds": 250,
    "fighters": 1,
    "location": {
      "sector_id": 1,
      "sector_name": "Fedspace 1"
    },
    "owner": {
      "id": 4,
      "name": "ai_qa_bot"
    },
    "cargo": {
      "ore": 0,
      "organics": 0,
      "equipment": 0,
      "colonists": 0
    }
  },
  "port_info": {
    "port": {
      "id": 1,
      "number": 1,
      "name": "Earth Port",
      "sector": 1,
      "size": 10,
      "techlevel": 10,
      "ore_on_hand": 10000,
      "organics_on_hand": 10000,
      "equipment_on_hand": 10000,
      "petty_cash": 0,
      "credits": 0,
      "type": 1
    }
  },
  "last_bank_info_request_time": 0,
  "price_cache": {
    "1": {
      "1": {
        "equipment": {
          "buy": 254.0,
          "sell": 144.0,
          "timestamp": 1763127467.0252442
        }
      }
    }
  },
  "next_allowed": {},
  "server_capabilities": {},
  "last_processed_command_name": "trade.buy",
  "sector_data": {
    "1": {
      "sector_id": 1,
      "name": "Fedspace 1",
      "adjacent": [
        2,
        3,
        4,
        5,
        6,
        7
      ],
      "adjacent_count": 6,
      "ports": [
        {
          "id": 1,
          "name": "Earth Port",
          "type": "1"
        }
      ],
      "has_port": true,
      "players": [],
      "players_count": 0,
      "beacons": [],
      "beacons_count": 0,
      "planets": [],
      "has_planet": false,
      "planets_count": 0,
      "beacon": "The Federation -- Do Not Dump!",
      "has_beacon": true,
      "ships": [
        {
          "id": 1,
          "name": "Bit Banger",
          "type": "Merchant Cruiser",
          "ship_name": "Bit Banger",
          "ship_type": "Merchant Cruiser",
          "owner": "derelict"
        },
        {
          "id": 2,
          "name": "QA Bot 1",
          "type": "Scout Marauder",
          "ship_name": "QA Bot 1",
          "ship_type": "Scout Marauder",
          "owner": "ai_qa_bot"
        }
      ],
      "ships_count": 2,
      "ports_count": 1,
      "counts": {
        "fighters": 0,
        "mines_armid": 1,
        "mines_limpet": 0,
        "mines": 1
      }
    }
  },
  "new_sector_discovered": false,
  "trade_successful": false,
  "new_port_discovered": false,
  "rate_limit_info": {
    "limit": 60,
    "remaining": 60,
    "reset": 60,
    "reset_at": 1763127544.4051175
  },
  "command_retry_info": {
    "trade.buy": {
      "failures": 3,
      "next_retry_time": 0
    }
  },
  "price_cache_updated_this_tick": true
}
2025-11-14 13:38:04,409 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-11-14 13:38:04,410 - DEBUG - send_request_headers.complete
2025-11-14 13:38:04,410 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-11-14 13:38:04,410 - DEBUG - send_request_body.complete
2025-11-14 13:38:04,410 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-11-14 13:38:10,308 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 14 Nov 2025 13:38:10 GMT'), (b'Content-Length', b'392')])
2025-11-14 13:38:10,308 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-14 13:38:10,308 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-11-14 13:38:10,308 - DEBUG - receive_response_body.complete
2025-11-14 13:38:10,308 - DEBUG - response_closed.started
2025-11-14 13:38:10,309 - DEBUG - response_closed.complete
2025-11-14 13:38:10,309 - INFO - Ollama responded with: {
    "command": "trade.quote",
    "data": {
        "commodity": "ore"
    }
}
2025-11-14 13:38:10,309 - INFO - LLM suggested command: trade.quote with data: {'commodity': 'ore'}
2025-11-14 13:38:10,309 - INFO - Planner: Current stage is 'exploit'.
2025-11-14 13:38:10,309 - WARNING - Command 'trade.buy' exceeded max retries (3). Reporting as broken.
2025-11-14 13:38:10,310 - ERROR - Bug reported: bugs/BUG-20251114-133810-Invariant Failure: Command Exceeded Max Retries.md
2025-11-14 13:38:10,310 - DEBUG - _can_warp: Current sector: 1, Adjacent sectors from state: [2, 3, 4, 5, 6, 7]
2025-11-14 13:38:10,310 - INFO - Planner: Candidate actions for stage 'exploit': ['move.warp']
2025-11-14 13:38:10,310 - DEBUG - Bandit: Exploiting in context 'stage:exploit-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:10,310 - DEBUG - Calculating warp payload...
2025-11-14 13:38:10,310 - DEBUG - _warp_payload: Current sector: 1
2025-11-14 13:38:10,310 - INFO - Exploring: Preferring highest *unvisited* sector: 7
2025-11-14 13:38:10,310 - INFO - Warp payload created: Warping to sector 7 with ship 2.
2025-11-14 13:38:10,310 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:10,310 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:10,311 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:10,311 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:10,311 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:10,311 - INFO - Sent command: {"id": "8db94496-0ede-4ebd-b100-10163c3d835d", "ts": "2025-11-14T13:38:10.311448Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 7, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "63441f6b-0128-482d-b061-ebcf8f58420c"}, "idempotency_key": "63441f6b-0128-482d-b061-ebcf8f58420c"}
2025-11-14 13:38:10,811 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '8db94496-0ede-4ebd-b100-10163c3d835d', 'ts': '2025-11-14T13:38:10Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 1, 'to_sector_id': 7, 'current_sector': 7}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:10,811 - INFO - Server response: {"id": "srv-ok", "reply_to": "8db94496-0ede-4ebd-b100-10163c3d835d", "ts": "2025-11-14T13:38:10Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 1, "to_sector_id": 7, "current_sector": 7}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:10,812 - INFO - Moved to sector 7
2025-11-14 13:38:10,812 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:exploit-sector_class:unknown_class-port_type:port_present' to 0.0 (N=1) with reward 0.0
2025-11-14 13:38:10,812 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:exploit-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:10,812 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:10,812 - DEBUG - Type of game_state_json in get_ollama_response: <class 'dict'>
2025-11-14 13:38:10,813 - DEBUG - Content of game_state_json in get_ollama_response: {
  "stage": "exploit",
  "session_token": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82",
  "player_location_sector": 7,
  "last_server_response": {
    "id": "srv-ok",
    "reply_to": "8db94496-0ede-4ebd-b100-10163c3d835d",
    "ts": "2025-11-14T13:38:10Z",
    "status": "ok",
    "type": "move.result",
    "data": {
      "player_id": 4,
      "from_sector_id": 1,
      "to_sector_id": 7,
      "current_sector": 7
    },
    "error": null,
    "meta": {
      "rate_limit": {
        "limit": 60,
        "remaining": 60,
        "reset": 60,
        "reset_at": 1763127550.8120492
      }
    }
  },
  "last_command_sent_id": "8db94496-0ede-4ebd-b100-10163c3d835d",
  "pending_commands": {},
  "last_commands_history": [
    "trade.quote",
    "trade.buy",
    "trade.buy",
    "trade.buy",
    "move.warp"
  ],
  "working_commands": [],
  "broken_commands": [
    {
      "command": "trade.buy",
      "error": "Exceeded max retries"
    }
  ],
  "received_responses": [],
  "visited_sectors": [
    1,
    7
  ],
  "visited_ports": [
    1
  ],
  "previous_sector_id": null,
  "sectors_with_info": [
    1
  ],
  "normalized_commands": {},
  "schemas_to_fetch": [],
  "cached_schemas": {
    "auth.login": {
      "request_schema": {}
    },
    "auth.logout": {
      "request_schema": {}
    },
    "auth.refresh": {
      "request_schema": {}
    },
    "auth.register": {
      "request_schema": {}
    },
    "bank.balance": {
      "request_schema": {}
    },
    "bank.deposit": {
      "request_schema": {}
    },
    "bank.orders.cancel": {
      "request_schema": {}
    },
    "bank.orders.create": {
      "request_schema": {}
    },
    "bank.orders.list": {
      "request_schema": {}
    },
    "bank.statement": {
      "request_schema": {}
    },
    "bank.transfer": {
      "request_schema": {}
    },
    "bank.withdraw": {
      "request_schema": {}
    },
    "bounty.list": {
      "request_schema": {}
    },
    "bounty.post": {
      "request_schema": {}
    },
    "combat.attack": {
      "request_schema": {}
    },
    "combat.deploy_fighters": {
      "request_schema": {}
    },
    "combat.lay_mines": {
      "request_schema": {}
    },
    "corp.balance": {
      "request_schema": {}
    },
    "corp.deposit": {
      "request_schema": {}
    },
    "corp.issue_dividend": {
      "request_schema": {}
    },
    "corp.set_tax": {
      "request_schema": {}
    },
    "corp.statement": {
      "request_schema": {}
    },
    "corp.stock.issue": {
      "request_schema": {}
    },
    "corp.withdraw": {
      "request_schema": {}
    },
    "fine.list": {
      "request_schema": {}
    },
    "fine.pay": {
      "request_schema": {}
    },
    "insurance.claim.file": {
      "request_schema": {}
    },
    "insurance.policies.buy": {
      "request_schema": {}
    },
    "insurance.policies.list": {
      "request_schema": {}
    },
    "loan.accept": {
      "request_schema": {}
    },
    "loan.apply": {
      "request_schema": {}
    },
    "loan.list_active": {
      "request_schema": {}
    },
    "loan.offers.list": {
      "request_schema": {}
    },
    "loan.repay": {
      "request_schema": {}
    },
    "market.contracts.buy": {
      "request_schema": {}
    },
    "market.contracts.list": {
      "request_schema": {}
    },
    "market.contracts.sell": {
      "request_schema": {}
    },
    "market.orders.cancel": {
      "request_schema": {}
    },
    "market.orders.create": {
      "request_schema": {}
    },
    "market.orders.list": {
      "request_schema": {}
    },
    "move.autopilot.start": {
      "request_schema": {}
    },
    "move.autopilot.status": {
      "request_schema": {}
    },
    "move.autopilot.stop": {
      "request_schema": {}
    },
    "move.describe_sector": {
      "request_schema": {}
    },
    "move.pathfind": {
      "request_schema": {}
    },
    "move.transwarp": {
      "request_schema": {}
    },
    "move.warp": {
      "request_schema": {}
    },
    "nav.avoid.add": {
      "request_schema": {}
    },
    "nav.avoid.list": {
      "request_schema": {}
    },
    "nav.avoid.remove": {
      "request_schema": {}
    },
    "nav.bookmark.add": {
      "request_schema": {}
    },
    "nav.bookmark.list": {
      "request_schema": {}
    },
    "nav.bookmark.remove": {
      "request_schema": {}
    },
    "planet.create": {
      "request_schema": {}
    },
    "planet.deposit": {
      "request_schema": {}
    },
    "planet.list_mine": {
      "request_schema": {}
    },
    "planet.withdraw": {
      "request_schema": {}
    },
    "player.get_settings": {
      "request_schema": {}
    },
    "player.list_online": {
      "request_schema": {}
    },
    "player.my_info": {
      "request_schema": {}
    },
    "player.rankings": {
      "request_schema": {}
    },
    "player.set_prefs": {
      "request_schema": {}
    },
    "research.projects.fund": {
      "request_schema": {}
    },
    "research.projects.list": {
      "request_schema": {}
    },
    "ship.info": {
      "request_schema": {}
    },
    "ship.jettison": {
      "request_schema": {}
    },
    "ship.status": {
      "request_schema": {}
    },
    "ship.upgrade": {
      "request_schema": {}
    },
    "stock.exchange.list_stocks": {
      "request_schema": {}
    },
    "stock.exchange.orders.cancel": {
      "request_schema": {}
    },
    "stock.exchange.orders.create": {
      "request_schema": {}
    },
    "stock.portfolio.list": {
      "request_schema": {}
    },
    "system.capabilities": {
      "request_schema": {}
    },
    "system.describe_schema": {
      "request_schema": {}
    },
    "system.hello": {
      "request_schema": {}
    },
    "trade.buy": {
      "request_schema": {}
    },
    "trade.history": {
      "request_schema": {}
    },
    "trade.port_info": {
      "request_schema": {}
    },
    "trade.quote": {
      "request_schema": {}
    },
    "trade.sell": {
      "request_schema": {}
    }
  },
  "sector_info_fetched_for": {
    "1": 1763127466.0201952
  },
  "last_sector_info_request_time": 1763127465.519482,
  "last_ship_info_request_time": 1763127465.0171561,
  "last_player_info_request_time": 0,
  "port_info_failures_per_sector": {},
  "sector_snapshot_by_id": {},
  "q_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 0.0
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 15.0,
      "trade.quote": 0.0
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 0.0,
      "move.warp": 0.0
    }
  },
  "n_table": {
    "stage:explore-sector_class:unknown_class-port_type:no_port": {
      "sector.info": 1
    },
    "stage:survey-sector_class:unknown_class-port_type:port_present": {
      "trade.port_info": 1,
      "trade.quote": 1
    },
    "stage:exploit-sector_class:unknown_class-port_type:port_present": {
      "trade.buy": 3,
      "move.warp": 1
    }
  },
  "last_reward": 0.0,
  "last_context_key": null,
  "last_action": null,
  "last_stage": null,
  "bug_reported_this_tick": true,
  "player_username": "ai_qa_bot",
  "client_version": "AI_QA_Bot/1.1",
  "current_credits": 10000,
  "previous_credits": 10000,
  "last_responses_history": [
    {
      "id": "srv-ok",
      "reply_to": "c3113f1e-750f-40c2-b4f0-a33d5e92a257",
      "ts": "2025-11-14T13:37:46Z",
      "status": "ok",
      "type": "trade.quote",
      "data": {
        "port_id": 1,
        "commodity": "equipment",
        "quantity": 1,
        "buy_price": 254.0,
        "sell_price": 144.0,
        "total_buy_price": 254,
        "total_sell_price": 144
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.0252388
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "8561efcf-72a5-4772-bae7-4cf718e50930",
      "ts": "2025-11-14T13:37:47Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127527.5277581
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "41e68702-ff83-4477-ba2d-079ec9e6a0af",
      "ts": "2025-11-14T13:37:57Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127537.9005337
        }
      }
    },
    {
      "id": "srv-err",
      "reply_to": "7a8a6375-a51f-42cc-b651-61f96f44cb0a",
      "ts": "2025-11-14T13:38:03Z",
      "status": "error",
      "type": "error",
      "error": {
        "code": 400,
        "message": "idempotency_key required."
      },
      "data": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127544.4051175
        }
      }
    },
    {
      "id": "srv-ok",
      "reply_to": "8db94496-0ede-4ebd-b100-10163c3d835d",
      "ts": "2025-11-14T13:38:10Z",
      "status": "ok",
      "type": "move.result",
      "data": {
        "player_id": 4,
        "from_sector_id": 1,
        "to_sector_id": 7,
        "current_sector": 7
      },
      "error": null,
      "meta": {
        "rate_limit": {
          "limit": 60,
          "remaining": 60,
          "reset": 60,
          "reset_at": 1763127550.8120492
        }
      }
    }
  ],
  "commands_to_try": [],
  "ship_info": {
    "id": 2,
    "number": 2,
    "name": "QA Bot 1",
    "type": {
      "id": 0,
      "name": "25"
    },
    "holds": 250,
    "fighters": 1,
    "location": {
      "sector_id": 1,
      "sector_name": "Fedspace 1"
    },
    "owner": {
      "id": 4,
      "name": "ai_qa_bot"
    },
    "cargo": {
      "ore": 0,
      "organics": 0,
      "equipment": 0,
      "colonists": 0
    }
  },
  "port_info": null,
  "last_bank_info_request_time": 0,
  "price_cache": {
    "1": {
      "1": {
        "equipment": {
          "buy": 254.0,
          "sell": 144.0,
          "timestamp": 1763127467.0252442
        }
      }
    }
  },
  "next_allowed": {},
  "server_capabilities": {},
  "last_processed_command_name": "move.warp",
  "sector_data": {
    "1": {
      "sector_id": 1,
      "name": "Fedspace 1",
      "adjacent": [
        2,
        3,
        4,
        5,
        6,
        7
      ],
      "adjacent_count": 6,
      "ports": [
        {
          "id": 1,
          "name": "Earth Port",
          "type": "1"
        }
      ],
      "has_port": true,
      "players": [],
      "players_count": 0,
      "beacons": [],
      "beacons_count": 0,
      "planets": [],
      "has_planet": false,
      "planets_count": 0,
      "beacon": "The Federation -- Do Not Dump!",
      "has_beacon": true,
      "ships": [
        {
          "id": 1,
          "name": "Bit Banger",
          "type": "Merchant Cruiser",
          "ship_name": "Bit Banger",
          "ship_type": "Merchant Cruiser",
          "owner": "derelict"
        },
        {
          "id": 2,
          "name": "QA Bot 1",
          "type": "Scout Marauder",
          "ship_name": "QA Bot 1",
          "ship_type": "Scout Marauder",
          "owner": "ai_qa_bot"
        }
      ],
      "ships_count": 2,
      "ports_count": 1,
      "counts": {
        "fighters": 0,
        "mines_armid": 1,
        "mines_limpet": 0,
        "mines": 1
      }
    }
  },
  "new_sector_discovered": false,
  "trade_successful": false,
  "new_port_discovered": false,
  "rate_limit_info": {
    "limit": 60,
    "remaining": 60,
    "reset": 60,
    "reset_at": 1763127550.8120492
  },
  "command_retry_info": {
    "trade.buy": {
      "failures": 3,
      "next_retry_time": 0
    }
  },
  "price_cache_updated_this_tick": true,
  "new_sector_visited_this_tick": true
}
2025-11-14 13:38:10,815 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-11-14 13:38:10,815 - DEBUG - send_request_headers.complete
2025-11-14 13:38:10,815 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-11-14 13:38:10,815 - DEBUG - send_request_body.complete
2025-11-14 13:38:10,815 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-11-14 13:38:18,144 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=utf-8'), (b'Date', b'Fri, 14 Nov 2025 13:38:18 GMT'), (b'Content-Length', b'423')])
2025-11-14 13:38:18,144 - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-11-14 13:38:18,144 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-11-14 13:38:18,144 - DEBUG - receive_response_body.complete
2025-11-14 13:38:18,145 - DEBUG - response_closed.started
2025-11-14 13:38:18,145 - DEBUG - response_closed.complete
2025-11-14 13:38:18,145 - INFO - Ollama responded with: {
    "command": "move.warp",
    "data": {
        "sector_id": 7,
        "destination_sector_id": 8
    }
}
2025-11-14 13:38:18,145 - INFO - LLM suggested command: move.warp with data: {'sector_id': 7, 'destination_sector_id': 8}
2025-11-14 13:38:18,145 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:18,145 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:18,145 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:18,145 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:18,145 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:18,145 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:18,146 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:18,146 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:18,146 - INFO - Sent command: {"id": "36c77313-0569-4d04-acf8-8fb5d17c28d5", "ts": "2025-11-14T13:38:18.146123Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 7}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "ab95efe4-27a6-4203-9bda-9932863f2b0f"}, "idempotency_key": "ab95efe4-27a6-4203-9bda-9932863f2b0f"}
2025-11-14 13:38:18,646 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '36c77313-0569-4d04-acf8-8fb5d17c28d5', 'ts': '2025-11-14T13:38:18Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 7, 'name': 'Fedspace 7', 'adjacent': [1, 6, 8], 'adjacent_count': 3, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:18,646 - INFO - Server response: {"id": "srv-ok", "reply_to": "36c77313-0569-4d04-acf8-8fb5d17c28d5", "ts": "2025-11-14T13:38:18Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 7, "name": "Fedspace 7", "adjacent": [1, 6, 8], "adjacent_count": 3, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:18,646 - INFO - Updated sector.info cache for sector 7
2025-11-14 13:38:18,646 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=2) with reward 0.0
2025-11-14 13:38:18,646 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:18,647 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:18,647 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:18,647 - DEBUG - _can_warp: Current sector: 7, Adjacent sectors from state: [1, 6, 8]
2025-11-14 13:38:18,647 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:18,647 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:18,647 - DEBUG - Calculating warp payload...
2025-11-14 13:38:18,647 - DEBUG - _warp_payload: Current sector: 7
2025-11-14 13:38:18,647 - INFO - Exploring: Preferring highest *unvisited* sector: 8
2025-11-14 13:38:18,647 - INFO - Warp payload created: Warping to sector 8 with ship 2.
2025-11-14 13:38:18,647 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:18,648 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:18,648 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:18,648 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:18,648 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:18,648 - INFO - Sent command: {"id": "40fd384b-578e-4a8c-990a-8b0415231d05", "ts": "2025-11-14T13:38:18.648776Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 8, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "3b1c16c9-10f6-4592-a022-38aa87c89435"}, "idempotency_key": "3b1c16c9-10f6-4592-a022-38aa87c89435"}
2025-11-14 13:38:19,149 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '40fd384b-578e-4a8c-990a-8b0415231d05', 'ts': '2025-11-14T13:38:18Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 7, 'to_sector_id': 8, 'current_sector': 8}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:19,149 - INFO - Server response: {"id": "srv-ok", "reply_to": "40fd384b-578e-4a8c-990a-8b0415231d05", "ts": "2025-11-14T13:38:18Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 7, "to_sector_id": 8, "current_sector": 8}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:19,149 - INFO - Moved to sector 8
2025-11-14 13:38:19,149 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=1) with reward 0.0
2025-11-14 13:38:19,149 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:19,149 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:19,149 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:19,149 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:19,149 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:19,150 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:19,150 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:19,150 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:19,151 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:19,151 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:19,151 - INFO - Sent command: {"id": "bd15184c-448b-4fd9-8db0-44e8b810e16b", "ts": "2025-11-14T13:38:19.151217Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 8}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "a48d2612-9cc2-49a7-8746-ddd7a11be46c"}, "idempotency_key": "a48d2612-9cc2-49a7-8746-ddd7a11be46c"}
2025-11-14 13:38:19,651 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'bd15184c-448b-4fd9-8db0-44e8b810e16b', 'ts': '2025-11-14T13:38:19Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 8, 'name': 'Fedspace 8', 'adjacent': [2, 7], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:19,651 - INFO - Server response: {"id": "srv-ok", "reply_to": "bd15184c-448b-4fd9-8db0-44e8b810e16b", "ts": "2025-11-14T13:38:19Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 8, "name": "Fedspace 8", "adjacent": [2, 7], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:19,651 - INFO - Updated sector.info cache for sector 8
2025-11-14 13:38:19,652 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=3) with reward 0.0
2025-11-14 13:38:19,652 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:19,652 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:19,652 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:19,652 - DEBUG - _can_warp: Current sector: 8, Adjacent sectors from state: [2, 7]
2025-11-14 13:38:19,652 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:19,652 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:19,652 - DEBUG - Calculating warp payload...
2025-11-14 13:38:19,652 - DEBUG - _warp_payload: Current sector: 8
2025-11-14 13:38:19,652 - INFO - Exploring: Preferring highest *unvisited* sector: 2
2025-11-14 13:38:19,652 - INFO - Warp payload created: Warping to sector 2 with ship 2.
2025-11-14 13:38:19,652 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:19,653 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:19,653 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:19,653 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:19,654 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:19,654 - INFO - Sent command: {"id": "ffe0cab3-8d1b-4d98-8bc5-31f4e08aa197", "ts": "2025-11-14T13:38:19.654129Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 2, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "13ffc2a7-5f7e-4489-9c86-c20638860d77"}, "idempotency_key": "13ffc2a7-5f7e-4489-9c86-c20638860d77"}
2025-11-14 13:38:20,154 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'ffe0cab3-8d1b-4d98-8bc5-31f4e08aa197', 'ts': '2025-11-14T13:38:19Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 8, 'to_sector_id': 2, 'current_sector': 2}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:20,154 - INFO - Server response: {"id": "srv-ok", "reply_to": "ffe0cab3-8d1b-4d98-8bc5-31f4e08aa197", "ts": "2025-11-14T13:38:19Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 8, "to_sector_id": 2, "current_sector": 2}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:20,154 - INFO - Moved to sector 2
2025-11-14 13:38:20,154 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=2) with reward 0.0
2025-11-14 13:38:20,154 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:20,155 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:20,155 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:20,155 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:20,155 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:20,155 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:20,155 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:20,156 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:20,156 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:20,156 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:20,156 - INFO - Sent command: {"id": "9798859a-d385-4cac-850a-868b46aeb5b2", "ts": "2025-11-14T13:38:20.156557Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "73a690c8-0220-4d20-b170-3c55b5b11053"}, "idempotency_key": "73a690c8-0220-4d20-b170-3c55b5b11053"}
2025-11-14 13:38:20,656 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '9798859a-d385-4cac-850a-868b46aeb5b2', 'ts': '2025-11-14T13:38:20Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 2, 'name': 'Fedspace 2', 'adjacent': [1, 3, 7, 8, 9, 10], 'adjacent_count': 6, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:20,657 - INFO - Server response: {"id": "srv-ok", "reply_to": "9798859a-d385-4cac-850a-868b46aeb5b2", "ts": "2025-11-14T13:38:20Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 2, "name": "Fedspace 2", "adjacent": [1, 3, 7, 8, 9, 10], "adjacent_count": 6, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:20,657 - INFO - Updated sector.info cache for sector 2
2025-11-14 13:38:20,657 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=4) with reward 0.0
2025-11-14 13:38:20,657 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:20,657 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:20,657 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:20,657 - DEBUG - _can_warp: Current sector: 2, Adjacent sectors from state: [1, 3, 7, 8, 9, 10]
2025-11-14 13:38:20,657 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:20,657 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:20,658 - DEBUG - Calculating warp payload...
2025-11-14 13:38:20,658 - DEBUG - _warp_payload: Current sector: 2
2025-11-14 13:38:20,658 - INFO - Exploring: Preferring highest *unvisited* sector: 10
2025-11-14 13:38:20,658 - INFO - Warp payload created: Warping to sector 10 with ship 2.
2025-11-14 13:38:20,658 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:20,658 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:20,659 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:20,659 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:20,659 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:20,659 - INFO - Sent command: {"id": "533e8ece-3bbb-4f9b-b71e-f0c830a3b14f", "ts": "2025-11-14T13:38:20.659473Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 10, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1e17b2d4-6d34-4d28-be87-969b818f245a"}, "idempotency_key": "1e17b2d4-6d34-4d28-be87-969b818f245a"}
2025-11-14 13:38:21,159 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '533e8ece-3bbb-4f9b-b71e-f0c830a3b14f', 'ts': '2025-11-14T13:38:20Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 2, 'to_sector_id': 10, 'current_sector': 10}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:21,160 - INFO - Server response: {"id": "srv-ok", "reply_to": "533e8ece-3bbb-4f9b-b71e-f0c830a3b14f", "ts": "2025-11-14T13:38:20Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 2, "to_sector_id": 10, "current_sector": 10}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:21,160 - INFO - Moved to sector 10
2025-11-14 13:38:21,160 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=3) with reward 0.0
2025-11-14 13:38:21,160 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:21,160 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:21,160 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:21,160 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:21,160 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:21,160 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:21,160 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:21,161 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:21,161 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:21,161 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:21,162 - INFO - Sent command: {"id": "08f60ee7-a631-4436-bb63-af8eb74b4522", "ts": "2025-11-14T13:38:21.162019Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 10}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "de913b9e-79a9-473f-9886-33a528a4f5a9"}, "idempotency_key": "de913b9e-79a9-473f-9886-33a528a4f5a9"}
2025-11-14 13:38:21,662 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '08f60ee7-a631-4436-bb63-af8eb74b4522', 'ts': '2025-11-14T13:38:21Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 10, 'name': 'Fedspace 10', 'adjacent': [2, 9], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:21,662 - INFO - Server response: {"id": "srv-ok", "reply_to": "08f60ee7-a631-4436-bb63-af8eb74b4522", "ts": "2025-11-14T13:38:21Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 10, "name": "Fedspace 10", "adjacent": [2, 9], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:21,662 - INFO - Updated sector.info cache for sector 10
2025-11-14 13:38:21,662 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=5) with reward 0.0
2025-11-14 13:38:21,662 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:21,663 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:21,663 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:21,663 - DEBUG - _can_warp: Current sector: 10, Adjacent sectors from state: [2, 9]
2025-11-14 13:38:21,663 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:21,663 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp
2025-11-14 13:38:21,663 - DEBUG - Calculating warp payload...
2025-11-14 13:38:21,663 - DEBUG - _warp_payload: Current sector: 10
2025-11-14 13:38:21,663 - INFO - Exploring: Preferring highest *unvisited* sector: 9
2025-11-14 13:38:21,663 - INFO - Warp payload created: Warping to sector 9 with ship 2.
2025-11-14 13:38:21,663 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:21,664 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:21,664 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:21,664 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:21,665 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:21,665 - INFO - Sent command: {"id": "8c18365f-c2ef-44a1-84e6-0bcffd16ccf1", "ts": "2025-11-14T13:38:21.665103Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 9, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "f344b054-71d6-439a-866d-22c4a2a31d26"}, "idempotency_key": "f344b054-71d6-439a-866d-22c4a2a31d26"}
2025-11-14 13:38:22,165 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '8c18365f-c2ef-44a1-84e6-0bcffd16ccf1', 'ts': '2025-11-14T13:38:21Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 10, 'to_sector_id': 9, 'current_sector': 9}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:22,165 - INFO - Server response: {"id": "srv-ok", "reply_to": "8c18365f-c2ef-44a1-84e6-0bcffd16ccf1", "ts": "2025-11-14T13:38:21Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 10, "to_sector_id": 9, "current_sector": 9}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:22,165 - INFO - Moved to sector 9
2025-11-14 13:38:22,165 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=4) with reward 0.0
2025-11-14 13:38:22,165 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:22,166 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:22,166 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:22,166 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:22,166 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:22,166 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:22,166 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:22,166 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:22,167 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:22,167 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:22,167 - INFO - Sent command: {"id": "358e065a-e500-4e0b-8e4f-7ccab5d38996", "ts": "2025-11-14T13:38:22.167542Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 9}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "71780c03-b79d-44eb-988f-03b17f7819b8"}, "idempotency_key": "71780c03-b79d-44eb-988f-03b17f7819b8"}
2025-11-14 13:38:22,668 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '358e065a-e500-4e0b-8e4f-7ccab5d38996', 'ts': '2025-11-14T13:38:22Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 9, 'name': 'Fedspace 9', 'adjacent': [2, 10], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:22,668 - INFO - Server response: {"id": "srv-ok", "reply_to": "358e065a-e500-4e0b-8e4f-7ccab5d38996", "ts": "2025-11-14T13:38:22Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 9, "name": "Fedspace 9", "adjacent": [2, 10], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:22,668 - INFO - Updated sector.info cache for sector 9
2025-11-14 13:38:22,668 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=6) with reward 0.0
2025-11-14 13:38:22,668 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:22,668 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:22,668 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:22,668 - DEBUG - _can_warp: Current sector: 9, Adjacent sectors from state: [2, 10]
2025-11-14 13:38:22,668 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:22,669 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:22,669 - DEBUG - Calculating warp payload...
2025-11-14 13:38:22,669 - DEBUG - _warp_payload: Current sector: 9
2025-11-14 13:38:22,669 - INFO - Exploring: All adjacent sectors visited. Picking random valid target: 10
2025-11-14 13:38:22,669 - INFO - Warp payload created: Warping to sector 10 with ship 2.
2025-11-14 13:38:22,669 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:22,669 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:22,670 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:22,670 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:22,670 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:22,670 - INFO - Sent command: {"id": "976f68aa-876a-4e0d-94ec-25119c2f8282", "ts": "2025-11-14T13:38:22.670627Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 10, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "283473fc-9f76-4acc-9c07-b8cdc7e65a15"}, "idempotency_key": "283473fc-9f76-4acc-9c07-b8cdc7e65a15"}
2025-11-14 13:38:23,170 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '976f68aa-876a-4e0d-94ec-25119c2f8282', 'ts': '2025-11-14T13:38:22Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 9, 'to_sector_id': 10, 'current_sector': 10}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:23,171 - INFO - Server response: {"id": "srv-ok", "reply_to": "976f68aa-876a-4e0d-94ec-25119c2f8282", "ts": "2025-11-14T13:38:22Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 9, "to_sector_id": 10, "current_sector": 10}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:23,171 - INFO - Moved to sector 10
2025-11-14 13:38:23,171 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=5) with reward 0.0
2025-11-14 13:38:23,171 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:23,171 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:23,171 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:23,171 - DEBUG - _can_warp: Current sector: 10, Adjacent sectors from state: [2, 9]
2025-11-14 13:38:23,171 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:23,171 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp
2025-11-14 13:38:23,171 - DEBUG - Calculating warp payload...
2025-11-14 13:38:23,171 - DEBUG - _warp_payload: Current sector: 10
2025-11-14 13:38:23,172 - INFO - Exploring: All adjacent sectors visited. Picking random valid target: 9
2025-11-14 13:38:23,172 - INFO - Warp payload created: Warping to sector 9 with ship 2.
2025-11-14 13:38:23,172 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:23,172 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:23,172 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:23,173 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:23,173 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:23,173 - INFO - Sent command: {"id": "42c7b6ed-8663-4468-9d15-32fbb9a6585b", "ts": "2025-11-14T13:38:23.173239Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 9, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5e8a0548-c0c5-4dc9-9af7-3e665e8bdbe2"}, "idempotency_key": "5e8a0548-c0c5-4dc9-9af7-3e665e8bdbe2"}
2025-11-14 13:38:23,673 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '42c7b6ed-8663-4468-9d15-32fbb9a6585b', 'ts': '2025-11-14T13:38:23Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 10, 'to_sector_id': 9, 'current_sector': 9}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:23,673 - INFO - Server response: {"id": "srv-ok", "reply_to": "42c7b6ed-8663-4468-9d15-32fbb9a6585b", "ts": "2025-11-14T13:38:23Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 10, "to_sector_id": 9, "current_sector": 9}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:23,673 - INFO - Moved to sector 9
2025-11-14 13:38:23,674 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=6) with reward 0.0
2025-11-14 13:38:23,674 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:23,674 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:23,674 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:23,674 - DEBUG - _can_warp: Current sector: 9, Adjacent sectors from state: [2, 10]
2025-11-14 13:38:23,674 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:23,674 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:23,674 - DEBUG - Calculating warp payload...
2025-11-14 13:38:23,674 - DEBUG - _warp_payload: Current sector: 9
2025-11-14 13:38:23,674 - INFO - Exploring: All adjacent sectors visited. Picking random valid target: 2
2025-11-14 13:38:23,674 - INFO - Warp payload created: Warping to sector 2 with ship 2.
2025-11-14 13:38:23,674 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:23,675 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:23,675 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:23,675 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:23,675 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:23,675 - INFO - Sent command: {"id": "2833e184-9709-4227-92db-67a373feb8ce", "ts": "2025-11-14T13:38:23.675811Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 2, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5a30f384-e614-4364-8148-50383275de97"}, "idempotency_key": "5a30f384-e614-4364-8148-50383275de97"}
2025-11-14 13:38:24,176 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2833e184-9709-4227-92db-67a373feb8ce', 'ts': '2025-11-14T13:38:23Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 9, 'to_sector_id': 2, 'current_sector': 2}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:24,176 - INFO - Server response: {"id": "srv-ok", "reply_to": "2833e184-9709-4227-92db-67a373feb8ce", "ts": "2025-11-14T13:38:23Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 9, "to_sector_id": 2, "current_sector": 2}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:24,176 - INFO - Moved to sector 2
2025-11-14 13:38:24,176 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=7) with reward 0.0
2025-11-14 13:38:24,176 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:24,176 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:24,176 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:24,176 - DEBUG - _can_warp: Current sector: 2, Adjacent sectors from state: [1, 3, 7, 8, 9, 10]
2025-11-14 13:38:24,176 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:24,177 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:24,177 - DEBUG - Calculating warp payload...
2025-11-14 13:38:24,177 - DEBUG - _warp_payload: Current sector: 2
2025-11-14 13:38:24,177 - INFO - Exploring: Preferring highest *unvisited* sector: 3
2025-11-14 13:38:24,177 - INFO - Warp payload created: Warping to sector 3 with ship 2.
2025-11-14 13:38:24,177 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:24,177 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:24,178 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:24,178 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:24,178 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:24,178 - INFO - Sent command: {"id": "0c951b3f-7082-4f6a-aea4-9add21014488", "ts": "2025-11-14T13:38:24.178365Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 3, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1b1327f2-6ac8-4324-ae31-a96f5e381c74"}, "idempotency_key": "1b1327f2-6ac8-4324-ae31-a96f5e381c74"}
2025-11-14 13:38:24,678 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '0c951b3f-7082-4f6a-aea4-9add21014488', 'ts': '2025-11-14T13:38:24Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 2, 'to_sector_id': 3, 'current_sector': 3}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:24,678 - INFO - Server response: {"id": "srv-ok", "reply_to": "0c951b3f-7082-4f6a-aea4-9add21014488", "ts": "2025-11-14T13:38:24Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 2, "to_sector_id": 3, "current_sector": 3}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:24,679 - INFO - Moved to sector 3
2025-11-14 13:38:24,679 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=8) with reward 0.0
2025-11-14 13:38:24,679 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:24,679 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:24,679 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:24,679 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:24,679 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:24,679 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:24,679 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:24,680 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:24,683 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:24,683 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:24,684 - INFO - Sent command: {"id": "7aad8379-27f6-4455-8e9f-acd85690a5df", "ts": "2025-11-14T13:38:24.683954Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 3}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "7c2b6c92-0756-44c9-a06c-548d81c60da0"}, "idempotency_key": "7c2b6c92-0756-44c9-a06c-548d81c60da0"}
2025-11-14 13:38:25,184 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '7aad8379-27f6-4455-8e9f-acd85690a5df', 'ts': '2025-11-14T13:38:24Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 3, 'name': 'Fedspace 3', 'adjacent': [4, 455], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': 'The Federation -- Do Not Dump!', 'has_beacon': True, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 1, 'mines_limpet': 0, 'mines': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:25,184 - INFO - Server response: {"id": "srv-ok", "reply_to": "7aad8379-27f6-4455-8e9f-acd85690a5df", "ts": "2025-11-14T13:38:24Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 3, "name": "Fedspace 3", "adjacent": [4, 455], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": "The Federation -- Do Not Dump!", "has_beacon": true, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 1, "mines_limpet": 0, "mines": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:25,184 - INFO - Updated sector.info cache for sector 3
2025-11-14 13:38:25,184 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=7) with reward 0.0
2025-11-14 13:38:25,184 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:25,184 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:25,184 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:25,185 - DEBUG - _can_warp: Current sector: 3, Adjacent sectors from state: [4, 455]
2025-11-14 13:38:25,185 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:25,185 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:25,185 - DEBUG - Calculating warp payload...
2025-11-14 13:38:25,185 - DEBUG - _warp_payload: Current sector: 3
2025-11-14 13:38:25,185 - INFO - Exploring: Preferring highest *unvisited* sector: 455
2025-11-14 13:38:25,185 - INFO - Warp payload created: Warping to sector 455 with ship 2.
2025-11-14 13:38:25,185 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:25,185 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:25,186 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:25,186 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:25,186 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:25,186 - INFO - Sent command: {"id": "a08b11a1-d537-4e70-9e9a-510c0e4741c6", "ts": "2025-11-14T13:38:25.186578Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 455, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "88714406-6326-487c-b275-59cd8a67922d"}, "idempotency_key": "88714406-6326-487c-b275-59cd8a67922d"}
2025-11-14 13:38:25,686 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'a08b11a1-d537-4e70-9e9a-510c0e4741c6', 'ts': '2025-11-14T13:38:25Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 3, 'to_sector_id': 455, 'current_sector': 455}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:25,687 - INFO - Server response: {"id": "srv-ok", "reply_to": "a08b11a1-d537-4e70-9e9a-510c0e4741c6", "ts": "2025-11-14T13:38:25Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 3, "to_sector_id": 455, "current_sector": 455}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:25,687 - INFO - Moved to sector 455
2025-11-14 13:38:25,687 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=9) with reward 0.0
2025-11-14 13:38:25,687 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:25,687 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:25,687 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:25,687 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:25,687 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:25,687 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:25,687 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:25,688 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:25,688 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:25,688 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:25,688 - INFO - Sent command: {"id": "8c7fd028-7c88-452a-b9ac-62158c1aae5f", "ts": "2025-11-14T13:38:25.688859Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 455}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "b7ab0634-17e8-490e-aaee-6822f651e355"}, "idempotency_key": "b7ab0634-17e8-490e-aaee-6822f651e355"}
2025-11-14 13:38:26,189 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '8c7fd028-7c88-452a-b9ac-62158c1aae5f', 'ts': '2025-11-14T13:38:25Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 455, 'name': 'Uncharted Space', 'adjacent': [3, 81, 189, 353], 'adjacent_count': 4, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}, {'id': 8, 'name': 'Ferrengi Trader', 'type': 'Merchant Freighter', 'ship_name': 'Ferrengi Trader', 'ship_type': 'Merchant Freighter', 'owner': 'derelict'}, {'id': 9, 'name': 'Ferrengi Trader', 'type': 'Merchant Freighter', 'ship_name': 'Ferrengi Trader', 'ship_type': 'Merchant Freighter', 'owner': 'derelict'}, {'id': 10, 'name': 'Ferrengi Trader', 'type': 'Ferrengi Warship', 'ship_name': 'Ferrengi Trader', 'ship_type': 'Ferrengi Warship', 'owner': 'derelict'}, {'id': 11, 'name': 'Ferrengi Trader', 'type': 'Ferrengi Warship', 'ship_name': 'Ferrengi Trader', 'ship_type': 'Ferrengi Warship', 'owner': 'derelict'}, {'id': 12, 'name': 'Ferrengi Trader', 'type': 'Merchant Freighter', 'ship_name': 'Ferrengi Trader', 'ship_type': 'Merchant Freighter', 'owner': 'derelict'}], 'ships_count': 6, 'ports_count': 0, 'counts': {'fighters': 50000, 'mines_armid': 250, 'mines_limpet': 0, 'mines': 250}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:26,189 - INFO - Server response: {"id": "srv-ok", "reply_to": "8c7fd028-7c88-452a-b9ac-62158c1aae5f", "ts": "2025-11-14T13:38:25Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 455, "name": "Uncharted Space", "adjacent": [3, 81, 189, 353], "adjacent_count": 4, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}, {"id": 8, "name": "Ferrengi Trader", "type": "Merchant Freighter", "ship_name": "Ferrengi Trader", "ship_type": "Merchant Freighter", "owner": "derelict"}, {"id": 9, "name": "Ferrengi Trader", "type": "Merchant Freighter", "ship_name": "Ferrengi Trader", "ship_type": "Merchant Freighter", "owner": "derelict"}, {"id": 10, "name": "Ferrengi Trader", "type": "Ferrengi Warship", "ship_name": "Ferrengi Trader", "ship_type": "Ferrengi Warship", "owner": "derelict"}, {"id": 11, "name": "Ferrengi Trader", "type": "Ferrengi Warship", "ship_name": "Ferrengi Trader", "ship_type": "Ferrengi Warship", "owner": "derelict"}, {"id": 12, "name": "Ferrengi Trader", "type": "Merchant Freighter", "ship_name": "Ferrengi Trader", "ship_type": "Merchant Freighter", "owner": "derelict"}], "ships_count": 6, "ports_count": 0, "counts": {"fighters": 50000, "mines_armid": 250, "mines_limpet": 0, "mines": 250}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:26,189 - INFO - Updated sector.info cache for sector 455
2025-11-14 13:38:26,189 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=8) with reward 0.0
2025-11-14 13:38:26,189 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:26,190 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:26,190 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:26,190 - DEBUG - _can_warp: Current sector: 455, Adjacent sectors from state: [3, 81, 189, 353]
2025-11-14 13:38:26,190 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:26,190 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:26,190 - DEBUG - Calculating warp payload...
2025-11-14 13:38:26,190 - DEBUG - _warp_payload: Current sector: 455
2025-11-14 13:38:26,190 - INFO - Exploring: Preferring highest *unvisited* sector: 353
2025-11-14 13:38:26,190 - INFO - Warp payload created: Warping to sector 353 with ship 2.
2025-11-14 13:38:26,190 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:26,191 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:26,191 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:26,191 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:26,191 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:26,192 - INFO - Sent command: {"id": "841b5d2a-ffd1-45a8-9cc0-3d2b5db12efd", "ts": "2025-11-14T13:38:26.191966Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 353, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "42e4858e-6240-436e-a31a-d84cc016ab63"}, "idempotency_key": "42e4858e-6240-436e-a31a-d84cc016ab63"}
2025-11-14 13:38:26,692 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '841b5d2a-ffd1-45a8-9cc0-3d2b5db12efd', 'ts': '2025-11-14T13:38:26Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 455, 'to_sector_id': 353, 'current_sector': 353}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:26,692 - INFO - Server response: {"id": "srv-ok", "reply_to": "841b5d2a-ffd1-45a8-9cc0-3d2b5db12efd", "ts": "2025-11-14T13:38:26Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 455, "to_sector_id": 353, "current_sector": 353}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:26,692 - INFO - Moved to sector 353
2025-11-14 13:38:26,692 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=10) with reward 0.0
2025-11-14 13:38:26,692 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:26,692 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:26,692 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:26,692 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:26,693 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:26,693 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:26,693 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:26,693 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:26,694 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:26,694 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:26,694 - INFO - Sent command: {"id": "b5ffe63d-b6b9-4ea0-b5c5-4f516f3e75cb", "ts": "2025-11-14T13:38:26.694278Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 353}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "4e20fa2b-266e-492d-aa1a-9becd5b8f4c0"}, "idempotency_key": "4e20fa2b-266e-492d-aa1a-9becd5b8f4c0"}
2025-11-14 13:38:27,194 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b5ffe63d-b6b9-4ea0-b5c5-4f516f3e75cb', 'ts': '2025-11-14T13:38:26Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 353, 'name': 'Uncharted Space', 'adjacent': [30, 240, 455, 497], 'adjacent_count': 4, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:27,194 - INFO - Server response: {"id": "srv-ok", "reply_to": "b5ffe63d-b6b9-4ea0-b5c5-4f516f3e75cb", "ts": "2025-11-14T13:38:26Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 353, "name": "Uncharted Space", "adjacent": [30, 240, 455, 497], "adjacent_count": 4, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:27,194 - INFO - Updated sector.info cache for sector 353
2025-11-14 13:38:27,195 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=9) with reward 0.0
2025-11-14 13:38:27,195 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:27,195 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:27,195 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:27,195 - DEBUG - _can_warp: Current sector: 353, Adjacent sectors from state: [30, 240, 455, 497]
2025-11-14 13:38:27,195 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:27,195 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:27,195 - DEBUG - Calculating warp payload...
2025-11-14 13:38:27,195 - DEBUG - _warp_payload: Current sector: 353
2025-11-14 13:38:27,195 - INFO - Exploring: Preferring highest *unvisited* sector: 497
2025-11-14 13:38:27,195 - INFO - Warp payload created: Warping to sector 497 with ship 2.
2025-11-14 13:38:27,195 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:27,196 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:27,196 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:27,196 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:27,196 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:27,197 - INFO - Sent command: {"id": "2e859a87-1ebb-4aed-80c1-535c0f2c9843", "ts": "2025-11-14T13:38:27.196992Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 497, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "3e2f8813-5a09-4d69-8cf8-8dc43ab095ff"}, "idempotency_key": "3e2f8813-5a09-4d69-8cf8-8dc43ab095ff"}
2025-11-14 13:38:27,697 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2e859a87-1ebb-4aed-80c1-535c0f2c9843', 'ts': '2025-11-14T13:38:27Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 353, 'to_sector_id': 497, 'current_sector': 497}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:27,697 - INFO - Server response: {"id": "srv-ok", "reply_to": "2e859a87-1ebb-4aed-80c1-535c0f2c9843", "ts": "2025-11-14T13:38:27Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 353, "to_sector_id": 497, "current_sector": 497}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:27,697 - INFO - Moved to sector 497
2025-11-14 13:38:27,697 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=11) with reward 0.0
2025-11-14 13:38:27,697 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:27,697 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:27,697 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:27,698 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:27,698 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:27,698 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:27,698 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:27,698 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:27,699 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:27,699 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:27,699 - INFO - Sent command: {"id": "0bf1381c-dc6b-47be-b03e-0e1bcc5d7d26", "ts": "2025-11-14T13:38:27.699235Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 497}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "ca25a88a-a540-4d75-9f99-0bcedc7e51c8"}, "idempotency_key": "ca25a88a-a540-4d75-9f99-0bcedc7e51c8"}
2025-11-14 13:38:28,199 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '0bf1381c-dc6b-47be-b03e-0e1bcc5d7d26', 'ts': '2025-11-14T13:38:27Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 497, 'name': 'Uncharted Space', 'adjacent': [48], 'adjacent_count': 1, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:28,199 - INFO - Server response: {"id": "srv-ok", "reply_to": "0bf1381c-dc6b-47be-b03e-0e1bcc5d7d26", "ts": "2025-11-14T13:38:27Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 497, "name": "Uncharted Space", "adjacent": [48], "adjacent_count": 1, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:28,199 - INFO - Updated sector.info cache for sector 497
2025-11-14 13:38:28,199 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=10) with reward 0.0
2025-11-14 13:38:28,200 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:28,200 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:28,200 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:28,200 - DEBUG - _can_warp: Current sector: 497, Adjacent sectors from state: [48]
2025-11-14 13:38:28,200 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:28,200 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:28,200 - DEBUG - Calculating warp payload...
2025-11-14 13:38:28,200 - DEBUG - _warp_payload: Current sector: 497
2025-11-14 13:38:28,200 - INFO - Exploring: Preferring highest *unvisited* sector: 48
2025-11-14 13:38:28,200 - INFO - Warp payload created: Warping to sector 48 with ship 2.
2025-11-14 13:38:28,200 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:28,201 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:28,201 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:28,201 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:28,201 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:28,201 - INFO - Sent command: {"id": "3121e70f-70ac-444e-b162-22f5ab9b2826", "ts": "2025-11-14T13:38:28.201814Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 48, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "9ed62bc7-6e8a-4c7f-bb22-91223aec148c"}, "idempotency_key": "9ed62bc7-6e8a-4c7f-bb22-91223aec148c"}
2025-11-14 13:38:28,702 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '3121e70f-70ac-444e-b162-22f5ab9b2826', 'ts': '2025-11-14T13:38:28Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 497, 'to_sector_id': 48, 'current_sector': 48}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:28,702 - INFO - Server response: {"id": "srv-ok", "reply_to": "3121e70f-70ac-444e-b162-22f5ab9b2826", "ts": "2025-11-14T13:38:28Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 497, "to_sector_id": 48, "current_sector": 48}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:28,702 - INFO - Moved to sector 48
2025-11-14 13:38:28,702 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=12) with reward 0.0
2025-11-14 13:38:28,702 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:28,702 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:28,702 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:28,702 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:28,702 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:28,703 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:28,703 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:28,703 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:28,704 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:28,704 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:28,704 - INFO - Sent command: {"id": "2d1f18d4-f8f6-483b-a9a0-2afc60c9734b", "ts": "2025-11-14T13:38:28.704175Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 48}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "56292404-d2b3-4cce-ba55-129503d01179"}, "idempotency_key": "56292404-d2b3-4cce-ba55-129503d01179"}
2025-11-14 13:38:29,204 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2d1f18d4-f8f6-483b-a9a0-2afc60c9734b', 'ts': '2025-11-14T13:38:28Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 48, 'name': 'Hamal', 'adjacent': [202, 205, 258, 306, 493], 'adjacent_count': 5, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:29,204 - INFO - Server response: {"id": "srv-ok", "reply_to": "2d1f18d4-f8f6-483b-a9a0-2afc60c9734b", "ts": "2025-11-14T13:38:28Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 48, "name": "Hamal", "adjacent": [202, 205, 258, 306, 493], "adjacent_count": 5, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:29,204 - INFO - Updated sector.info cache for sector 48
2025-11-14 13:38:29,204 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=11) with reward 0.0
2025-11-14 13:38:29,205 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:29,205 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:29,205 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:29,205 - DEBUG - _can_warp: Current sector: 48, Adjacent sectors from state: [202, 205, 258, 306, 493]
2025-11-14 13:38:29,205 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:29,205 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:29,205 - DEBUG - Calculating warp payload...
2025-11-14 13:38:29,205 - DEBUG - _warp_payload: Current sector: 48
2025-11-14 13:38:29,205 - INFO - Exploring: Preferring highest *unvisited* sector: 493
2025-11-14 13:38:29,205 - INFO - Warp payload created: Warping to sector 493 with ship 2.
2025-11-14 13:38:29,205 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:29,206 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:29,206 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:29,206 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:29,206 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:29,207 - INFO - Sent command: {"id": "4e5cbcb8-80bf-4504-bac2-d87ecdf8e405", "ts": "2025-11-14T13:38:29.206938Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 493, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e9b74c00-9cea-4ff7-8b23-cbe07c3f140f"}, "idempotency_key": "e9b74c00-9cea-4ff7-8b23-cbe07c3f140f"}
2025-11-14 13:38:29,707 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '4e5cbcb8-80bf-4504-bac2-d87ecdf8e405', 'ts': '2025-11-14T13:38:29Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 48, 'to_sector_id': 493, 'current_sector': 493}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:29,707 - INFO - Server response: {"id": "srv-ok", "reply_to": "4e5cbcb8-80bf-4504-bac2-d87ecdf8e405", "ts": "2025-11-14T13:38:29Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 48, "to_sector_id": 493, "current_sector": 493}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:29,707 - INFO - Moved to sector 493
2025-11-14 13:38:29,707 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=13) with reward 0.0
2025-11-14 13:38:29,707 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:29,707 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:29,707 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:29,708 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:29,708 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:29,708 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:29,708 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:29,708 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:29,709 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:29,709 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:29,709 - INFO - Sent command: {"id": "681a58ee-e7a4-4862-8be2-907b587a67be", "ts": "2025-11-14T13:38:29.709361Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 493}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "3b69a132-68e7-4c08-b15f-7fd47818b43c"}, "idempotency_key": "3b69a132-68e7-4c08-b15f-7fd47818b43c"}
2025-11-14 13:38:30,209 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '681a58ee-e7a4-4862-8be2-907b587a67be', 'ts': '2025-11-14T13:38:29Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 493, 'name': 'Alpha Hya', 'adjacent': [48, 171, 189, 380, 464], 'adjacent_count': 5, 'ports': [{'id': 108, 'name': "D'alerijioe", 'type': '7'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:30,209 - INFO - Server response: {"id": "srv-ok", "reply_to": "681a58ee-e7a4-4862-8be2-907b587a67be", "ts": "2025-11-14T13:38:29Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 493, "name": "Alpha Hya", "adjacent": [48, 171, 189, 380, 464], "adjacent_count": 5, "ports": [{"id": 108, "name": "D'alerijioe", "type": "7"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:30,210 - INFO - Updated sector.info cache for sector 493
2025-11-14 13:38:30,210 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=12) with reward 0.0
2025-11-14 13:38:30,210 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:30,210 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:30,210 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:30,210 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:30,210 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:30,210 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:30,210 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=15.0)
2025-11-14 13:38:30,210 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:30,211 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:30,211 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:30,212 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:30,212 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:30,212 - INFO - Sent command: {"id": "bb7d20e7-4288-4c28-a6b7-d989595400e6", "ts": "2025-11-14T13:38:30.212230Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 108}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "6071b08d-d7cc-4f3e-b745-15c1a2fb0caf"}, "idempotency_key": "6071b08d-d7cc-4f3e-b745-15c1a2fb0caf"}
2025-11-14 13:38:30,712 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'bb7d20e7-4288-4c28-a6b7-d989595400e6', 'ts': '2025-11-14T13:38:30Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 108, 'number': 107, 'name': "D'alerijioe", 'sector': 493, 'size': 7, 'techlevel': 2, 'ore_on_hand': 5000, 'organics_on_hand': 2500, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 7}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:30,712 - INFO - Server response: {"id": "srv-ok", "reply_to": "bb7d20e7-4288-4c28-a6b7-d989595400e6", "ts": "2025-11-14T13:38:30Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 108, "number": 107, "name": "D'alerijioe", "sector": 493, "size": 7, "techlevel": 2, "ore_on_hand": 5000, "organics_on_hand": 2500, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 7}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:30,712 - INFO - Updated port info for new port_id=108
2025-11-14 13:38:30,713 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 15.0 (N=2) with reward 15.0
2025-11-14 13:38:30,713 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:30,713 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:30,713 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:30,713 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:30,713 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:30,713 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:30,713 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:30,713 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:30,714 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:30,714 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:30,714 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:30,714 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:30,715 - INFO - Sent command: {"id": "c91bda69-c357-43a4-bd4a-432c63221fdb", "ts": "2025-11-14T13:38:30.714907Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 108, "commodity": "equipment", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "f2d52fb4-3f7d-4319-b4bc-e5d987808cc9"}, "idempotency_key": "f2d52fb4-3f7d-4319-b4bc-e5d987808cc9"}
2025-11-14 13:38:31,215 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c91bda69-c357-43a4-bd4a-432c63221fdb', 'ts': '2025-11-14T13:38:30Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 108, 'commodity': 'equipment', 'quantity': 1, 'buy_price': 199.0, 'sell_price': 186.0, 'total_buy_price': 199, 'total_sell_price': 186}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:31,215 - INFO - Server response: {"id": "srv-ok", "reply_to": "c91bda69-c357-43a4-bd4a-432c63221fdb", "ts": "2025-11-14T13:38:30Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 108, "commodity": "equipment", "quantity": 1, "buy_price": 199.0, "sell_price": 186.0, "total_buy_price": 199, "total_sell_price": 186}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:31,215 - INFO - Updated price cache: sector=493, port=108, equipment=199.0/186.0
2025-11-14 13:38:31,215 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=2) with reward 0.0
2025-11-14 13:38:31,215 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:31,215 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:31,215 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:31,215 - DEBUG - _can_warp: Current sector: 493, Adjacent sectors from state: [48, 171, 189, 380, 464]
2025-11-14 13:38:31,216 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:31,216 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:31,216 - DEBUG - Calculating warp payload...
2025-11-14 13:38:31,216 - DEBUG - _warp_payload: Current sector: 493
2025-11-14 13:38:31,216 - INFO - Exploring: Preferring highest *unvisited* sector: 464
2025-11-14 13:38:31,216 - INFO - Warp payload created: Warping to sector 464 with ship 2.
2025-11-14 13:38:31,216 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:31,216 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:31,217 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:31,217 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:31,217 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:31,217 - INFO - Sent command: {"id": "b2abea00-4cf1-4af6-925d-efd911b718ce", "ts": "2025-11-14T13:38:31.217529Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 464, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "329fb4de-8b56-4b6d-83cb-712c866da3f5"}, "idempotency_key": "329fb4de-8b56-4b6d-83cb-712c866da3f5"}
2025-11-14 13:38:31,717 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b2abea00-4cf1-4af6-925d-efd911b718ce', 'ts': '2025-11-14T13:38:31Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 493, 'to_sector_id': 464, 'current_sector': 464}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:31,718 - INFO - Server response: {"id": "srv-ok", "reply_to": "b2abea00-4cf1-4af6-925d-efd911b718ce", "ts": "2025-11-14T13:38:31Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 493, "to_sector_id": 464, "current_sector": 464}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:31,718 - INFO - Moved to sector 464
2025-11-14 13:38:31,718 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=1) with reward 0.0
2025-11-14 13:38:31,718 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:31,718 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:31,718 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:31,718 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:31,718 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:31,718 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:31,718 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:31,719 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:31,719 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:31,719 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:31,720 - INFO - Sent command: {"id": "d3a1436b-8d58-4c9c-9954-c999235d179f", "ts": "2025-11-14T13:38:31.720055Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 464}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e260582c-cbd0-4a1a-b415-8fc61179b2c6"}, "idempotency_key": "e260582c-cbd0-4a1a-b415-8fc61179b2c6"}
2025-11-14 13:38:32,220 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd3a1436b-8d58-4c9c-9954-c999235d179f', 'ts': '2025-11-14T13:38:31Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 464, 'name': 'Uncharted Space', 'adjacent': [493], 'adjacent_count': 1, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:32,220 - INFO - Server response: {"id": "srv-ok", "reply_to": "d3a1436b-8d58-4c9c-9954-c999235d179f", "ts": "2025-11-14T13:38:31Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 464, "name": "Uncharted Space", "adjacent": [493], "adjacent_count": 1, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:32,220 - INFO - Updated sector.info cache for sector 464
2025-11-14 13:38:32,221 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=13) with reward 0.0
2025-11-14 13:38:32,221 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:32,221 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:32,221 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:32,221 - DEBUG - _can_warp: Current sector: 464, Adjacent sectors from state: [493]
2025-11-14 13:38:32,221 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:32,221 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:32,221 - DEBUG - Calculating warp payload...
2025-11-14 13:38:32,221 - DEBUG - _warp_payload: Current sector: 464
2025-11-14 13:38:32,221 - INFO - Exploring: All adjacent sectors visited. Picking random valid target: 493
2025-11-14 13:38:32,221 - INFO - Warp payload created: Warping to sector 493 with ship 2.
2025-11-14 13:38:32,221 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:32,222 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:32,222 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:32,222 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:32,222 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:32,223 - INFO - Sent command: {"id": "18e171b7-b3de-4f85-b85d-fa3d3ec066fa", "ts": "2025-11-14T13:38:32.223080Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 493, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "13321e54-27a9-4ca2-8704-de2ef56ec716"}, "idempotency_key": "13321e54-27a9-4ca2-8704-de2ef56ec716"}
2025-11-14 13:38:32,723 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '18e171b7-b3de-4f85-b85d-fa3d3ec066fa', 'ts': '2025-11-14T13:38:32Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 464, 'to_sector_id': 493, 'current_sector': 493}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:32,723 - INFO - Server response: {"id": "srv-ok", "reply_to": "18e171b7-b3de-4f85-b85d-fa3d3ec066fa", "ts": "2025-11-14T13:38:32Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 464, "to_sector_id": 493, "current_sector": 493}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:32,723 - INFO - Moved to sector 493
2025-11-14 13:38:32,723 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=14) with reward 0.0
2025-11-14 13:38:32,723 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:32,724 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:32,724 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:32,724 - INFO - At a port with no port_info; switching to survey stage.
2025-11-14 13:38:32,724 - INFO - Planner: Transitioning from stage 'explore' to 'survey'.
2025-11-14 13:38:32,724 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:32,724 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:32,724 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:32,724 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=15.0)
2025-11-14 13:38:32,724 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:32,725 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:32,725 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:32,725 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:32,725 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:32,725 - INFO - Sent command: {"id": "775bbc45-352f-49e6-ae32-e5b87c176b00", "ts": "2025-11-14T13:38:32.725887Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 108}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "952679e1-7f54-4706-9cac-405140d77c2e"}, "idempotency_key": "952679e1-7f54-4706-9cac-405140d77c2e"}
2025-11-14 13:38:33,226 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '775bbc45-352f-49e6-ae32-e5b87c176b00', 'ts': '2025-11-14T13:38:32Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 108, 'number': 107, 'name': "D'alerijioe", 'sector': 493, 'size': 7, 'techlevel': 2, 'ore_on_hand': 5000, 'organics_on_hand': 2500, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 7}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:33,226 - INFO - Server response: {"id": "srv-ok", "reply_to": "775bbc45-352f-49e6-ae32-e5b87c176b00", "ts": "2025-11-14T13:38:32Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 108, "number": 107, "name": "D'alerijioe", "sector": 493, "size": 7, "techlevel": 2, "ore_on_hand": 5000, "organics_on_hand": 2500, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 7}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:33,226 - INFO - Refreshed port info for port_id=108
2025-11-14 13:38:33,226 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 10.0 (N=3) with reward 0.0
2025-11-14 13:38:33,226 - INFO - Applied reward 0.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:33,226 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:33,226 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:33,227 - DEBUG - _can_warp: Current sector: 493, Adjacent sectors from state: [48, 171, 189, 380, 464]
2025-11-14 13:38:33,227 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:33,227 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:33,227 - DEBUG - Calculating warp payload...
2025-11-14 13:38:33,227 - DEBUG - _warp_payload: Current sector: 493
2025-11-14 13:38:33,227 - INFO - Exploring: Preferring highest *unvisited* sector: 380
2025-11-14 13:38:33,227 - INFO - Warp payload created: Warping to sector 380 with ship 2.
2025-11-14 13:38:33,227 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:33,228 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:33,228 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:33,228 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:33,228 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:33,229 - INFO - Sent command: {"id": "d9f22bdb-6901-4a2a-831c-7af768d80fb7", "ts": "2025-11-14T13:38:33.229008Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 380, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1f5d49f2-2d4a-4afb-a967-f35539514a4c"}, "idempotency_key": "1f5d49f2-2d4a-4afb-a967-f35539514a4c"}
2025-11-14 13:38:33,729 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd9f22bdb-6901-4a2a-831c-7af768d80fb7', 'ts': '2025-11-14T13:38:33Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 493, 'to_sector_id': 380, 'current_sector': 380}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:33,729 - INFO - Server response: {"id": "srv-ok", "reply_to": "d9f22bdb-6901-4a2a-831c-7af768d80fb7", "ts": "2025-11-14T13:38:33Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 493, "to_sector_id": 380, "current_sector": 380}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:33,729 - INFO - Moved to sector 380
2025-11-14 13:38:33,729 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=2) with reward 0.0
2025-11-14 13:38:33,729 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:33,729 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:33,730 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:33,730 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:33,730 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:33,730 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info
2025-11-14 13:38:33,730 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:33,730 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:33,731 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:33,731 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:33,731 - INFO - Sent command: {"id": "502b3970-e7a5-4add-96fe-4cc197627e2c", "ts": "2025-11-14T13:38:33.731566Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 380}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "257d6665-bda0-485f-b9f0-4202a589fcf1"}, "idempotency_key": "257d6665-bda0-485f-b9f0-4202a589fcf1"}
2025-11-14 13:38:34,231 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '502b3970-e7a5-4add-96fe-4cc197627e2c', 'ts': '2025-11-14T13:38:33Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 380, 'name': 'Aquila', 'adjacent': [490], 'adjacent_count': 1, 'ports': [{'id': 59, 'name': 'Rhittiwix', 'type': '5'}, {'id': 94, 'name': 'Ybeind', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:34,232 - INFO - Server response: {"id": "srv-ok", "reply_to": "502b3970-e7a5-4add-96fe-4cc197627e2c", "ts": "2025-11-14T13:38:33Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 380, "name": "Aquila", "adjacent": [490], "adjacent_count": 1, "ports": [{"id": 59, "name": "Rhittiwix", "type": "5"}, {"id": 94, "name": "Ybeind", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:34,232 - INFO - Updated sector.info cache for sector 380
2025-11-14 13:38:34,232 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=14) with reward 0.0
2025-11-14 13:38:34,232 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:34,232 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:34,232 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:34,232 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:34,232 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:34,232 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:34,233 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=10.0)
2025-11-14 13:38:34,233 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:34,233 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:34,234 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:34,234 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:34,234 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:34,234 - INFO - Sent command: {"id": "f68ac6ff-379b-4504-b5ca-5cc07cb3bffb", "ts": "2025-11-14T13:38:34.234295Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 59}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "40a8da7d-fc50-4b14-b196-c78dec7a738e"}, "idempotency_key": "40a8da7d-fc50-4b14-b196-c78dec7a738e"}
2025-11-14 13:38:34,734 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'f68ac6ff-379b-4504-b5ca-5cc07cb3bffb', 'ts': '2025-11-14T13:38:34Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 59, 'number': 58, 'name': 'Rhittiwix', 'sector': 380, 'size': 9, 'techlevel': 5, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 5}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:34,734 - INFO - Server response: {"id": "srv-ok", "reply_to": "f68ac6ff-379b-4504-b5ca-5cc07cb3bffb", "ts": "2025-11-14T13:38:34Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 59, "number": 58, "name": "Rhittiwix", "sector": 380, "size": 9, "techlevel": 5, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 5}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:34,735 - INFO - Updated port info for new port_id=59
2025-11-14 13:38:34,735 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 11.25 (N=4) with reward 15.0
2025-11-14 13:38:34,735 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:34,735 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:34,735 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:34,735 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:34,735 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:34,735 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:34,735 - DEBUG - Bandit: Exploring in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote
2025-11-14 13:38:34,735 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:34,736 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:34,736 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:34,736 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:34,736 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:34,737 - INFO - Sent command: {"id": "07302890-daf8-4277-8179-7a58b032b61b", "ts": "2025-11-14T13:38:34.736947Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 59, "commodity": "ore", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "422b78c7-a4ba-41c6-90bf-9d716d2d83cd"}, "idempotency_key": "422b78c7-a4ba-41c6-90bf-9d716d2d83cd"}
2025-11-14 13:38:35,237 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '07302890-daf8-4277-8179-7a58b032b61b', 'ts': '2025-11-14T13:38:34Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 59, 'commodity': 'ore', 'quantity': 1, 'buy_price': 119.0, 'sell_price': 91.0, 'total_buy_price': 119, 'total_sell_price': 91}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:35,237 - INFO - Server response: {"id": "srv-ok", "reply_to": "07302890-daf8-4277-8179-7a58b032b61b", "ts": "2025-11-14T13:38:34Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 59, "commodity": "ore", "quantity": 1, "buy_price": 119.0, "sell_price": 91.0, "total_buy_price": 119, "total_sell_price": 91}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:35,237 - INFO - Updated price cache: sector=380, port=59, ore=119.0/91.0
2025-11-14 13:38:35,237 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=3) with reward 0.0
2025-11-14 13:38:35,237 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:35,237 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:35,238 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:35,238 - DEBUG - _can_warp: Current sector: 380, Adjacent sectors from state: [490]
2025-11-14 13:38:35,238 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:35,238 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:35,238 - DEBUG - Calculating warp payload...
2025-11-14 13:38:35,238 - DEBUG - _warp_payload: Current sector: 380
2025-11-14 13:38:35,238 - INFO - Exploring: Preferring highest *unvisited* sector: 490
2025-11-14 13:38:35,238 - INFO - Warp payload created: Warping to sector 490 with ship 2.
2025-11-14 13:38:35,238 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:35,239 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:35,240 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:35,240 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:35,240 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:35,240 - INFO - Sent command: {"id": "d140cdf8-fc0d-40cb-a7f2-a9bf77e4af9d", "ts": "2025-11-14T13:38:35.240566Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 490, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d6306349-63f2-4d88-a3d0-4fc942176f28"}, "idempotency_key": "d6306349-63f2-4d88-a3d0-4fc942176f28"}
2025-11-14 13:38:35,740 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd140cdf8-fc0d-40cb-a7f2-a9bf77e4af9d', 'ts': '2025-11-14T13:38:35Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 380, 'to_sector_id': 490, 'current_sector': 490}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:35,741 - INFO - Server response: {"id": "srv-ok", "reply_to": "d140cdf8-fc0d-40cb-a7f2-a9bf77e4af9d", "ts": "2025-11-14T13:38:35Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 380, "to_sector_id": 490, "current_sector": 490}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:35,741 - INFO - Moved to sector 490
2025-11-14 13:38:35,741 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=3) with reward 0.0
2025-11-14 13:38:35,741 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:35,741 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:35,741 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:35,741 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:35,741 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:35,741 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:35,741 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:35,742 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:35,742 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:35,742 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:35,742 - INFO - Sent command: {"id": "8c6109a9-0b5b-4076-b033-9846e547a01d", "ts": "2025-11-14T13:38:35.742855Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 490}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "a7c1bc6c-70f8-41c9-b5c7-3843f5720d35"}, "idempotency_key": "a7c1bc6c-70f8-41c9-b5c7-3843f5720d35"}
2025-11-14 13:38:36,243 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '8c6109a9-0b5b-4076-b033-9846e547a01d', 'ts': '2025-11-14T13:38:35Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 490, 'name': 'Lyra', 'adjacent': [135, 185, 224], 'adjacent_count': 3, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:36,243 - INFO - Server response: {"id": "srv-ok", "reply_to": "8c6109a9-0b5b-4076-b033-9846e547a01d", "ts": "2025-11-14T13:38:35Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 490, "name": "Lyra", "adjacent": [135, 185, 224], "adjacent_count": 3, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:36,243 - INFO - Updated sector.info cache for sector 490
2025-11-14 13:38:36,243 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=15) with reward 0.0
2025-11-14 13:38:36,243 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:36,243 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:36,243 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:36,243 - DEBUG - _can_warp: Current sector: 490, Adjacent sectors from state: [135, 185, 224]
2025-11-14 13:38:36,244 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:36,244 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:36,244 - DEBUG - Calculating warp payload...
2025-11-14 13:38:36,244 - DEBUG - _warp_payload: Current sector: 490
2025-11-14 13:38:36,244 - INFO - Exploring: Preferring highest *unvisited* sector: 224
2025-11-14 13:38:36,244 - INFO - Warp payload created: Warping to sector 224 with ship 2.
2025-11-14 13:38:36,244 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:36,244 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:36,245 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:36,245 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:36,245 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:36,245 - INFO - Sent command: {"id": "a7d182b1-2a1e-4024-8061-9775542c0b22", "ts": "2025-11-14T13:38:36.245534Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 224, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "7b83f6e6-884a-494b-9382-2ac73d27ef44"}, "idempotency_key": "7b83f6e6-884a-494b-9382-2ac73d27ef44"}
2025-11-14 13:38:36,745 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'a7d182b1-2a1e-4024-8061-9775542c0b22', 'ts': '2025-11-14T13:38:36Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 490, 'to_sector_id': 224, 'current_sector': 224}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:36,746 - INFO - Server response: {"id": "srv-ok", "reply_to": "a7d182b1-2a1e-4024-8061-9775542c0b22", "ts": "2025-11-14T13:38:36Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 490, "to_sector_id": 224, "current_sector": 224}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:36,746 - INFO - Moved to sector 224
2025-11-14 13:38:36,746 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=15) with reward 0.0
2025-11-14 13:38:36,746 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:36,746 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:36,746 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:36,746 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:36,746 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:36,746 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:36,746 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:36,747 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:36,747 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:36,747 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:36,747 - INFO - Sent command: {"id": "b9642620-4184-4c4b-ada3-458c0d77b210", "ts": "2025-11-14T13:38:36.747719Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 224}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d2e19f2b-e729-40a2-ad52-b57dd9364f73"}, "idempotency_key": "d2e19f2b-e729-40a2-ad52-b57dd9364f73"}
2025-11-14 13:38:37,248 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b9642620-4184-4c4b-ada3-458c0d77b210', 'ts': '2025-11-14T13:38:36Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 224, 'name': 'Uncharted Space', 'adjacent': [382, 461], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:37,248 - INFO - Server response: {"id": "srv-ok", "reply_to": "b9642620-4184-4c4b-ada3-458c0d77b210", "ts": "2025-11-14T13:38:36Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 224, "name": "Uncharted Space", "adjacent": [382, 461], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:37,248 - INFO - Updated sector.info cache for sector 224
2025-11-14 13:38:37,248 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=16) with reward 0.0
2025-11-14 13:38:37,248 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:37,248 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:37,248 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:37,248 - DEBUG - _can_warp: Current sector: 224, Adjacent sectors from state: [382, 461]
2025-11-14 13:38:37,248 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:37,249 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:37,249 - DEBUG - Calculating warp payload...
2025-11-14 13:38:37,249 - DEBUG - _warp_payload: Current sector: 224
2025-11-14 13:38:37,249 - INFO - Exploring: Preferring highest *unvisited* sector: 461
2025-11-14 13:38:37,249 - INFO - Warp payload created: Warping to sector 461 with ship 2.
2025-11-14 13:38:37,249 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:37,249 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:37,250 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:37,250 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:37,250 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:37,250 - INFO - Sent command: {"id": "4a9b3a9f-e995-4368-97f5-29dcfc7d62d2", "ts": "2025-11-14T13:38:37.250432Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 461, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "9073f421-c61b-4296-ae57-ef6e72b90510"}, "idempotency_key": "9073f421-c61b-4296-ae57-ef6e72b90510"}
2025-11-14 13:38:37,750 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '4a9b3a9f-e995-4368-97f5-29dcfc7d62d2', 'ts': '2025-11-14T13:38:37Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 224, 'to_sector_id': 461, 'current_sector': 461}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:37,750 - INFO - Server response: {"id": "srv-ok", "reply_to": "4a9b3a9f-e995-4368-97f5-29dcfc7d62d2", "ts": "2025-11-14T13:38:37Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 224, "to_sector_id": 461, "current_sector": 461}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:37,751 - INFO - Moved to sector 461
2025-11-14 13:38:37,751 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=16) with reward 0.0
2025-11-14 13:38:37,751 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:37,751 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:37,751 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:37,751 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:37,751 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:37,751 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:37,751 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:37,752 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:37,752 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:37,752 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:37,752 - INFO - Sent command: {"id": "5fa79e59-8383-4668-a688-4d20e848ae6e", "ts": "2025-11-14T13:38:37.752697Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 461}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1156754d-5c30-43b0-9b36-2d23b45f0018"}, "idempotency_key": "1156754d-5c30-43b0-9b36-2d23b45f0018"}
2025-11-14 13:38:38,253 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '5fa79e59-8383-4668-a688-4d20e848ae6e', 'ts': '2025-11-14T13:38:37Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 461, 'name': 'Alpha Ori', 'adjacent': [193], 'adjacent_count': 1, 'ports': [{'id': 86, 'name': 'Astendacira', 'type': '1'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:38,253 - INFO - Server response: {"id": "srv-ok", "reply_to": "5fa79e59-8383-4668-a688-4d20e848ae6e", "ts": "2025-11-14T13:38:37Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 461, "name": "Alpha Ori", "adjacent": [193], "adjacent_count": 1, "ports": [{"id": 86, "name": "Astendacira", "type": "1"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:38,253 - INFO - Updated sector.info cache for sector 461
2025-11-14 13:38:38,253 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=17) with reward 0.0
2025-11-14 13:38:38,253 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:38,253 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:38,253 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:38,253 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:38,253 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:38,253 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:38,253 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=11.25)
2025-11-14 13:38:38,254 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:38,254 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:38,254 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:38,255 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:38,255 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:38,255 - INFO - Sent command: {"id": "beec275b-4a43-4073-a877-bfcc5b6bdf46", "ts": "2025-11-14T13:38:38.255196Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 86}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "348ef278-c321-4a1c-833f-1b155af8d808"}, "idempotency_key": "348ef278-c321-4a1c-833f-1b155af8d808"}
2025-11-14 13:38:38,755 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'beec275b-4a43-4073-a877-bfcc5b6bdf46', 'ts': '2025-11-14T13:38:38Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 86, 'number': 85, 'name': 'Astendacira', 'sector': 461, 'size': 9, 'techlevel': 1, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 1}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:38,755 - INFO - Server response: {"id": "srv-ok", "reply_to": "beec275b-4a43-4073-a877-bfcc5b6bdf46", "ts": "2025-11-14T13:38:38Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 86, "number": 85, "name": "Astendacira", "sector": 461, "size": 9, "techlevel": 1, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 1}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:38,755 - INFO - Updated port info for new port_id=86
2025-11-14 13:38:38,755 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 12.0 (N=5) with reward 15.0
2025-11-14 13:38:38,756 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:38,756 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:38,756 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:38,756 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:38,756 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:38,756 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:38,756 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:38,756 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:38,756 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:38,757 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:38,757 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:38,757 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:38,757 - INFO - Sent command: {"id": "5e983bb9-2267-496d-899f-850a913c0a9a", "ts": "2025-11-14T13:38:38.757617Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 86, "commodity": "ore", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "4a764334-0960-4357-a720-489eda17a217"}, "idempotency_key": "4a764334-0960-4357-a720-489eda17a217"}
2025-11-14 13:38:39,257 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '5e983bb9-2267-496d-899f-850a913c0a9a', 'ts': '2025-11-14T13:38:38Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 86, 'commodity': 'ore', 'quantity': 1, 'buy_price': 99.0, 'sell_price': 99.0, 'total_buy_price': 99, 'total_sell_price': 99}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:39,258 - INFO - Server response: {"id": "srv-ok", "reply_to": "5e983bb9-2267-496d-899f-850a913c0a9a", "ts": "2025-11-14T13:38:38Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 86, "commodity": "ore", "quantity": 1, "buy_price": 99.0, "sell_price": 99.0, "total_buy_price": 99, "total_sell_price": 99}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:39,258 - INFO - Updated price cache: sector=461, port=86, ore=99.0/99.0
2025-11-14 13:38:39,258 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=4) with reward 0.0
2025-11-14 13:38:39,258 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:39,258 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:39,258 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:39,258 - DEBUG - _can_warp: Current sector: 461, Adjacent sectors from state: [193]
2025-11-14 13:38:39,258 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:39,258 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:39,258 - DEBUG - Calculating warp payload...
2025-11-14 13:38:39,258 - DEBUG - _warp_payload: Current sector: 461
2025-11-14 13:38:39,259 - INFO - Exploring: Preferring highest *unvisited* sector: 193
2025-11-14 13:38:39,259 - INFO - Warp payload created: Warping to sector 193 with ship 2.
2025-11-14 13:38:39,259 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:39,259 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:39,259 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:39,260 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:39,260 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:39,260 - INFO - Sent command: {"id": "49444a31-96b0-478c-b0ff-63acbd7e1c87", "ts": "2025-11-14T13:38:39.260167Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 193, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "eab00bcb-8689-4bf3-a94e-bd00757de4f1"}, "idempotency_key": "eab00bcb-8689-4bf3-a94e-bd00757de4f1"}
2025-11-14 13:38:39,760 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '49444a31-96b0-478c-b0ff-63acbd7e1c87', 'ts': '2025-11-14T13:38:39Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 461, 'to_sector_id': 193, 'current_sector': 193}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:39,760 - INFO - Server response: {"id": "srv-ok", "reply_to": "49444a31-96b0-478c-b0ff-63acbd7e1c87", "ts": "2025-11-14T13:38:39Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 461, "to_sector_id": 193, "current_sector": 193}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:39,760 - INFO - Moved to sector 193
2025-11-14 13:38:39,760 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=4) with reward 0.0
2025-11-14 13:38:39,760 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:39,761 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:39,761 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:39,761 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:39,761 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:39,761 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:39,761 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:39,762 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:39,762 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:39,762 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:39,762 - INFO - Sent command: {"id": "18660b2d-4f6e-464b-b23f-29544fac56b6", "ts": "2025-11-14T13:38:39.762636Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 193}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "92f2bf7d-6ec5-4fc3-beb0-9e062cf4b885"}, "idempotency_key": "92f2bf7d-6ec5-4fc3-beb0-9e062cf4b885"}
2025-11-14 13:38:40,263 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '18660b2d-4f6e-464b-b23f-29544fac56b6', 'ts': '2025-11-14T13:38:39Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 193, 'name': 'Aquila', 'adjacent': [208, 244, 337, 461], 'adjacent_count': 4, 'ports': [{'id': 17, 'name': 'Lothigodon', 'type': '2'}, {'id': 27, 'name': 'Barebard', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:40,263 - INFO - Server response: {"id": "srv-ok", "reply_to": "18660b2d-4f6e-464b-b23f-29544fac56b6", "ts": "2025-11-14T13:38:39Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 193, "name": "Aquila", "adjacent": [208, 244, 337, 461], "adjacent_count": 4, "ports": [{"id": 17, "name": "Lothigodon", "type": "2"}, {"id": 27, "name": "Barebard", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:40,263 - INFO - Updated sector.info cache for sector 193
2025-11-14 13:38:40,263 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=18) with reward 0.0
2025-11-14 13:38:40,263 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:40,263 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:40,263 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:40,263 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:40,263 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:40,263 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:40,263 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=12.0)
2025-11-14 13:38:40,264 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:40,264 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:40,264 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:40,265 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:40,265 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:40,265 - INFO - Sent command: {"id": "4f9454fb-aeb9-4744-998b-378a03332ca5", "ts": "2025-11-14T13:38:40.265157Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 17}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "951a4f50-3481-4b85-bf84-4e1dda7c34e2"}, "idempotency_key": "951a4f50-3481-4b85-bf84-4e1dda7c34e2"}
2025-11-14 13:38:40,765 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '4f9454fb-aeb9-4744-998b-378a03332ca5', 'ts': '2025-11-14T13:38:40Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 17, 'number': 16, 'name': 'Lothigodon', 'sector': 193, 'size': 8, 'techlevel': 4, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 2}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:40,765 - INFO - Server response: {"id": "srv-ok", "reply_to": "4f9454fb-aeb9-4744-998b-378a03332ca5", "ts": "2025-11-14T13:38:40Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 17, "number": 16, "name": "Lothigodon", "sector": 193, "size": 8, "techlevel": 4, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 2}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:40,765 - INFO - Updated port info for new port_id=17
2025-11-14 13:38:40,765 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 12.5 (N=6) with reward 15.0
2025-11-14 13:38:40,765 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:40,765 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:40,765 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:40,766 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:40,766 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:40,766 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:40,766 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:40,766 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:40,766 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:40,766 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:40,766 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:40,766 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:40,766 - INFO - Sent command: {"id": "6bfa96f5-ffea-4fb3-88f5-f203aef08bda", "ts": "2025-11-14T13:38:40.766756Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 17, "commodity": "organics", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "94cbbea6-5732-49ae-9cff-0195ab1bab5d"}, "idempotency_key": "94cbbea6-5732-49ae-9cff-0195ab1bab5d"}
2025-11-14 13:38:41,267 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '6bfa96f5-ffea-4fb3-88f5-f203aef08bda', 'ts': '2025-11-14T13:38:40Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 17, 'commodity': 'organics', 'quantity': 1, 'buy_price': 167.0, 'sell_price': 136.0, 'total_buy_price': 167, 'total_sell_price': 136}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:41,267 - INFO - Server response: {"id": "srv-ok", "reply_to": "6bfa96f5-ffea-4fb3-88f5-f203aef08bda", "ts": "2025-11-14T13:38:40Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 17, "commodity": "organics", "quantity": 1, "buy_price": 167.0, "sell_price": 136.0, "total_buy_price": 167, "total_sell_price": 136}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:41,267 - INFO - Updated price cache: sector=193, port=17, organics=167.0/136.0
2025-11-14 13:38:41,267 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=5) with reward 0.0
2025-11-14 13:38:41,267 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:41,267 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:41,267 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:41,267 - DEBUG - _can_warp: Current sector: 193, Adjacent sectors from state: [208, 244, 337, 461]
2025-11-14 13:38:41,267 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:41,267 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:41,268 - DEBUG - Calculating warp payload...
2025-11-14 13:38:41,268 - DEBUG - _warp_payload: Current sector: 193
2025-11-14 13:38:41,268 - INFO - Exploring: Preferring highest *unvisited* sector: 337
2025-11-14 13:38:41,268 - INFO - Warp payload created: Warping to sector 337 with ship 2.
2025-11-14 13:38:41,268 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:41,268 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:41,269 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:41,269 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:41,269 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:41,269 - INFO - Sent command: {"id": "750e8e74-9858-4d55-b2cb-ea5d6cbfba88", "ts": "2025-11-14T13:38:41.269472Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 337, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "4f60edb6-59f4-48ea-b85c-bdbd4a7e54e6"}, "idempotency_key": "4f60edb6-59f4-48ea-b85c-bdbd4a7e54e6"}
2025-11-14 13:38:41,769 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '750e8e74-9858-4d55-b2cb-ea5d6cbfba88', 'ts': '2025-11-14T13:38:41Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 193, 'to_sector_id': 337, 'current_sector': 337}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:41,770 - INFO - Server response: {"id": "srv-ok", "reply_to": "750e8e74-9858-4d55-b2cb-ea5d6cbfba88", "ts": "2025-11-14T13:38:41Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 193, "to_sector_id": 337, "current_sector": 337}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:41,770 - INFO - Moved to sector 337
2025-11-14 13:38:41,770 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=5) with reward 0.0
2025-11-14 13:38:41,770 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:41,770 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:41,770 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:41,770 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:41,770 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:41,770 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:41,770 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:41,771 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:41,771 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:41,771 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:41,771 - INFO - Sent command: {"id": "d4b3f2ef-1298-4b18-955f-387b9c2efeab", "ts": "2025-11-14T13:38:41.771793Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 337}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "3b7fe086-5d5c-4942-9429-b0f2bfeec0db"}, "idempotency_key": "3b7fe086-5d5c-4942-9429-b0f2bfeec0db"}
2025-11-14 13:38:42,273 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd4b3f2ef-1298-4b18-955f-387b9c2efeab', 'ts': '2025-11-14T13:38:41Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 337, 'name': 'Lambda Leo', 'adjacent': [105], 'adjacent_count': 1, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:42,275 - INFO - Server response: {"id": "srv-ok", "reply_to": "d4b3f2ef-1298-4b18-955f-387b9c2efeab", "ts": "2025-11-14T13:38:41Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 337, "name": "Lambda Leo", "adjacent": [105], "adjacent_count": 1, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:42,277 - INFO - Updated sector.info cache for sector 337
2025-11-14 13:38:42,278 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=19) with reward 0.0
2025-11-14 13:38:42,279 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:42,280 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:42,281 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:42,283 - DEBUG - _can_warp: Current sector: 337, Adjacent sectors from state: [105]
2025-11-14 13:38:42,284 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:42,286 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:42,287 - DEBUG - Calculating warp payload...
2025-11-14 13:38:42,288 - DEBUG - _warp_payload: Current sector: 337
2025-11-14 13:38:42,289 - INFO - Exploring: Preferring highest *unvisited* sector: 105
2025-11-14 13:38:42,291 - INFO - Warp payload created: Warping to sector 105 with ship 2.
2025-11-14 13:38:42,292 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:42,297 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:42,297 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:42,297 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:42,297 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:42,297 - INFO - Sent command: {"id": "5deca125-72b2-4bfb-82ec-19526671c5dc", "ts": "2025-11-14T13:38:42.297867Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 105, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "a8c9b6ad-c1bc-4fbb-b6af-db2938703103"}, "idempotency_key": "a8c9b6ad-c1bc-4fbb-b6af-db2938703103"}
2025-11-14 13:38:42,798 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '5deca125-72b2-4bfb-82ec-19526671c5dc', 'ts': '2025-11-14T13:38:42Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 337, 'to_sector_id': 105, 'current_sector': 105}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:42,798 - INFO - Server response: {"id": "srv-ok", "reply_to": "5deca125-72b2-4bfb-82ec-19526671c5dc", "ts": "2025-11-14T13:38:42Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 337, "to_sector_id": 105, "current_sector": 105}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:42,798 - INFO - Moved to sector 105
2025-11-14 13:38:42,798 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=17) with reward 0.0
2025-11-14 13:38:42,798 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:42,798 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:42,798 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:42,798 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:42,799 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:42,799 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:42,799 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:42,799 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:42,800 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:42,800 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:42,800 - INFO - Sent command: {"id": "bbc95bd8-6586-4143-835b-2c19cb9c47f2", "ts": "2025-11-14T13:38:42.800210Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 105}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d7c1ee46-2e91-42cb-9333-b32a2539c145"}, "idempotency_key": "d7c1ee46-2e91-42cb-9333-b32a2539c145"}
2025-11-14 13:38:43,300 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'bbc95bd8-6586-4143-835b-2c19cb9c47f2', 'ts': '2025-11-14T13:38:42Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 105, 'name': 'Uncharted Space', 'adjacent': [255, 258, 275, 363, 373, 472], 'adjacent_count': 6, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:43,300 - INFO - Server response: {"id": "srv-ok", "reply_to": "bbc95bd8-6586-4143-835b-2c19cb9c47f2", "ts": "2025-11-14T13:38:42Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 105, "name": "Uncharted Space", "adjacent": [255, 258, 275, 363, 373, 472], "adjacent_count": 6, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:43,300 - INFO - Updated sector.info cache for sector 105
2025-11-14 13:38:43,301 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=20) with reward 0.0
2025-11-14 13:38:43,301 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:43,301 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:43,301 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:43,301 - DEBUG - _can_warp: Current sector: 105, Adjacent sectors from state: [255, 258, 275, 363, 373, 472]
2025-11-14 13:38:43,301 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:43,301 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:43,301 - DEBUG - Calculating warp payload...
2025-11-14 13:38:43,301 - DEBUG - _warp_payload: Current sector: 105
2025-11-14 13:38:43,301 - INFO - Exploring: Preferring highest *unvisited* sector: 472
2025-11-14 13:38:43,301 - INFO - Warp payload created: Warping to sector 472 with ship 2.
2025-11-14 13:38:43,301 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:43,302 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:43,302 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:43,302 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:43,302 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:43,302 - INFO - Sent command: {"id": "e0ab20f3-df50-49b0-addb-c4ba58483e86", "ts": "2025-11-14T13:38:43.302802Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 472, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5f0d4e6d-8540-4b05-8b58-8b143283b6f8"}, "idempotency_key": "5f0d4e6d-8540-4b05-8b58-8b143283b6f8"}
2025-11-14 13:38:43,803 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'e0ab20f3-df50-49b0-addb-c4ba58483e86', 'ts': '2025-11-14T13:38:43Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 105, 'to_sector_id': 472, 'current_sector': 472}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:43,803 - INFO - Server response: {"id": "srv-ok", "reply_to": "e0ab20f3-df50-49b0-addb-c4ba58483e86", "ts": "2025-11-14T13:38:43Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 105, "to_sector_id": 472, "current_sector": 472}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:43,803 - INFO - Moved to sector 472
2025-11-14 13:38:43,803 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=18) with reward 0.0
2025-11-14 13:38:43,803 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:43,803 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:43,803 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:43,803 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:43,803 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:43,804 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:43,804 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:43,804 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:43,804 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:43,804 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:43,805 - INFO - Sent command: {"id": "c4304741-6893-4af9-9ca4-d94848e87c1d", "ts": "2025-11-14T13:38:43.805032Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 472}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "0b3d283a-11ac-404a-bcdc-6e7aed098d90"}, "idempotency_key": "0b3d283a-11ac-404a-bcdc-6e7aed098d90"}
2025-11-14 13:38:44,305 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c4304741-6893-4af9-9ca4-d94848e87c1d', 'ts': '2025-11-14T13:38:43Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 472, 'name': 'Uncharted Space', 'adjacent': [94, 105, 254, 267, 500], 'adjacent_count': 5, 'ports': [{'id': 138, 'name': 'Mirech', 'type': '3'}, {'id': 167, 'name': 'Tiradric', 'type': '1'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:44,305 - INFO - Server response: {"id": "srv-ok", "reply_to": "c4304741-6893-4af9-9ca4-d94848e87c1d", "ts": "2025-11-14T13:38:43Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 472, "name": "Uncharted Space", "adjacent": [94, 105, 254, 267, 500], "adjacent_count": 5, "ports": [{"id": 138, "name": "Mirech", "type": "3"}, {"id": 167, "name": "Tiradric", "type": "1"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:44,305 - INFO - Updated sector.info cache for sector 472
2025-11-14 13:38:44,305 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=21) with reward 0.0
2025-11-14 13:38:44,305 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:44,305 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:44,306 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:44,306 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:44,306 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:44,306 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:44,306 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=12.5)
2025-11-14 13:38:44,306 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:44,307 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:44,307 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:44,307 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:44,307 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:44,307 - INFO - Sent command: {"id": "50c3f3cf-ae71-4f8c-9ffc-74f11a33c194", "ts": "2025-11-14T13:38:44.307711Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 138}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d521baee-2af4-4a04-95dd-dbc2049c4fc5"}, "idempotency_key": "d521baee-2af4-4a04-95dd-dbc2049c4fc5"}
2025-11-14 13:38:44,808 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '50c3f3cf-ae71-4f8c-9ffc-74f11a33c194', 'ts': '2025-11-14T13:38:44Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 138, 'number': 137, 'name': 'Mirech', 'sector': 472, 'size': 9, 'techlevel': 4, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 2500, 'petty_cash': 0, 'credits': 0, 'type': 3}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:44,808 - INFO - Server response: {"id": "srv-ok", "reply_to": "50c3f3cf-ae71-4f8c-9ffc-74f11a33c194", "ts": "2025-11-14T13:38:44Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 138, "number": 137, "name": "Mirech", "sector": 472, "size": 9, "techlevel": 4, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 2500, "petty_cash": 0, "credits": 0, "type": 3}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:44,808 - INFO - Updated port info for new port_id=138
2025-11-14 13:38:44,808 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 12.857142857142858 (N=7) with reward 15.0
2025-11-14 13:38:44,808 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:44,808 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:44,808 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:44,808 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:44,808 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:44,808 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:44,808 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:44,809 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:44,809 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:44,809 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:44,810 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:44,810 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:44,810 - INFO - Sent command: {"id": "cd664f68-9684-43ff-b58a-aab86d3ae36b", "ts": "2025-11-14T13:38:44.810183Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 138, "commodity": "equipment", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "3caa3888-e812-4cd8-873c-28d03b920337"}, "idempotency_key": "3caa3888-e812-4cd8-873c-28d03b920337"}
2025-11-14 13:38:45,310 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'cd664f68-9684-43ff-b58a-aab86d3ae36b', 'ts': '2025-11-14T13:38:44Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 138, 'commodity': 'equipment', 'quantity': 1, 'buy_price': 272.0, 'sell_price': 199.0, 'total_buy_price': 272, 'total_sell_price': 199}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:45,310 - INFO - Server response: {"id": "srv-ok", "reply_to": "cd664f68-9684-43ff-b58a-aab86d3ae36b", "ts": "2025-11-14T13:38:44Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 138, "commodity": "equipment", "quantity": 1, "buy_price": 272.0, "sell_price": 199.0, "total_buy_price": 272, "total_sell_price": 199}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:45,310 - INFO - Updated price cache: sector=472, port=138, equipment=272.0/199.0
2025-11-14 13:38:45,310 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=6) with reward 0.0
2025-11-14 13:38:45,311 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:45,311 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:45,311 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:45,311 - DEBUG - _can_warp: Current sector: 472, Adjacent sectors from state: [94, 105, 254, 267, 500]
2025-11-14 13:38:45,311 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:45,311 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:45,311 - DEBUG - Calculating warp payload...
2025-11-14 13:38:45,311 - DEBUG - _warp_payload: Current sector: 472
2025-11-14 13:38:45,311 - INFO - Exploring: Preferring highest *unvisited* sector: 500
2025-11-14 13:38:45,311 - INFO - Warp payload created: Warping to sector 500 with ship 2.
2025-11-14 13:38:45,311 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:45,312 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:45,312 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:45,312 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:45,312 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:45,312 - INFO - Sent command: {"id": "97de0b1b-f690-4e67-9b30-b34ad37e7074", "ts": "2025-11-14T13:38:45.312747Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 500, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d54a2dc2-1861-40d5-95d2-1b9083ea2681"}, "idempotency_key": "d54a2dc2-1861-40d5-95d2-1b9083ea2681"}
2025-11-14 13:38:45,813 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '97de0b1b-f690-4e67-9b30-b34ad37e7074', 'ts': '2025-11-14T13:38:45Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 472, 'to_sector_id': 500, 'current_sector': 500}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:45,813 - INFO - Server response: {"id": "srv-ok", "reply_to": "97de0b1b-f690-4e67-9b30-b34ad37e7074", "ts": "2025-11-14T13:38:45Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 472, "to_sector_id": 500, "current_sector": 500}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:45,813 - INFO - Moved to sector 500
2025-11-14 13:38:45,813 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=6) with reward 0.0
2025-11-14 13:38:45,813 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:45,813 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:45,813 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:45,813 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:45,813 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:45,813 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:45,813 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:45,814 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:45,814 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:45,814 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:45,815 - INFO - Sent command: {"id": "2f369f5d-da3d-44e5-b8d2-6aa2a721df4c", "ts": "2025-11-14T13:38:45.814934Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 500}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "0d9c88f1-c49f-4c82-9e65-b6bbc6c9dd97"}, "idempotency_key": "0d9c88f1-c49f-4c82-9e65-b6bbc6c9dd97"}
2025-11-14 13:38:46,315 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2f369f5d-da3d-44e5-b8d2-6aa2a721df4c', 'ts': '2025-11-14T13:38:45Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 500, 'name': 'Uncharted Space', 'adjacent': [25, 255, 289], 'adjacent_count': 3, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:46,315 - INFO - Server response: {"id": "srv-ok", "reply_to": "2f369f5d-da3d-44e5-b8d2-6aa2a721df4c", "ts": "2025-11-14T13:38:45Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 500, "name": "Uncharted Space", "adjacent": [25, 255, 289], "adjacent_count": 3, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:46,315 - INFO - Updated sector.info cache for sector 500
2025-11-14 13:38:46,315 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=22) with reward 0.0
2025-11-14 13:38:46,315 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:46,315 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:46,315 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:46,316 - DEBUG - _can_warp: Current sector: 500, Adjacent sectors from state: [25, 255, 289]
2025-11-14 13:38:46,316 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:46,316 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp (Q=0.0)
2025-11-14 13:38:46,316 - DEBUG - Calculating warp payload...
2025-11-14 13:38:46,316 - DEBUG - _warp_payload: Current sector: 500
2025-11-14 13:38:46,316 - INFO - Exploring: Preferring highest *unvisited* sector: 289
2025-11-14 13:38:46,316 - INFO - Warp payload created: Warping to sector 289 with ship 2.
2025-11-14 13:38:46,316 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:46,317 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:46,317 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:46,317 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:46,317 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:46,317 - INFO - Sent command: {"id": "f0e13e73-88ce-4e10-9d22-d9d0dcc25951", "ts": "2025-11-14T13:38:46.317550Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 289, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d9675a51-cbb8-4b69-9bdd-ea789dba0305"}, "idempotency_key": "d9675a51-cbb8-4b69-9bdd-ea789dba0305"}
2025-11-14 13:38:46,817 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'f0e13e73-88ce-4e10-9d22-d9d0dcc25951', 'ts': '2025-11-14T13:38:46Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 500, 'to_sector_id': 289, 'current_sector': 289}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:46,818 - INFO - Server response: {"id": "srv-ok", "reply_to": "f0e13e73-88ce-4e10-9d22-d9d0dcc25951", "ts": "2025-11-14T13:38:46Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 500, "to_sector_id": 289, "current_sector": 289}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:46,818 - INFO - Moved to sector 289
2025-11-14 13:38:46,818 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=19) with reward 0.0
2025-11-14 13:38:46,818 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:46,818 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:46,818 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:46,818 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:46,818 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:46,818 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info
2025-11-14 13:38:46,818 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:46,819 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:46,819 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:46,819 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:46,819 - INFO - Sent command: {"id": "b6ec1c61-d0ab-48a4-ba4b-e4d1844fbb37", "ts": "2025-11-14T13:38:46.819749Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 289}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "8c8b91f6-ddc6-457c-88ef-8e5c61d64228"}, "idempotency_key": "8c8b91f6-ddc6-457c-88ef-8e5c61d64228"}
2025-11-14 13:38:47,320 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b6ec1c61-d0ab-48a4-ba4b-e4d1844fbb37', 'ts': '2025-11-14T13:38:46Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 289, 'name': 'Uncharted Space', 'adjacent': [56, 124, 227, 468, 487, 500], 'adjacent_count': 6, 'ports': [{'id': 173, 'name': 'Kaaykie', 'type': '5'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:47,320 - INFO - Server response: {"id": "srv-ok", "reply_to": "b6ec1c61-d0ab-48a4-ba4b-e4d1844fbb37", "ts": "2025-11-14T13:38:46Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 289, "name": "Uncharted Space", "adjacent": [56, 124, 227, 468, 487, 500], "adjacent_count": 6, "ports": [{"id": 173, "name": "Kaaykie", "type": "5"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:47,320 - INFO - Updated sector.info cache for sector 289
2025-11-14 13:38:47,320 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=23) with reward 0.0
2025-11-14 13:38:47,320 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:47,320 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:47,320 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:47,320 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:47,320 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:47,320 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:47,321 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=12.857142857142858)
2025-11-14 13:38:47,321 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:47,321 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:47,322 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:47,322 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:47,322 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:47,322 - INFO - Sent command: {"id": "2616dede-0887-45c3-9827-3dba49676315", "ts": "2025-11-14T13:38:47.322252Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 173}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "c960755a-52e8-44a9-93c0-ed51e975b40d"}, "idempotency_key": "c960755a-52e8-44a9-93c0-ed51e975b40d"}
2025-11-14 13:38:47,822 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2616dede-0887-45c3-9827-3dba49676315', 'ts': '2025-11-14T13:38:47Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 173, 'number': 172, 'name': 'Kaaykie', 'sector': 289, 'size': 9, 'techlevel': 2, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 5}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:47,822 - INFO - Server response: {"id": "srv-ok", "reply_to": "2616dede-0887-45c3-9827-3dba49676315", "ts": "2025-11-14T13:38:47Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 173, "number": 172, "name": "Kaaykie", "sector": 289, "size": 9, "techlevel": 2, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 5}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:47,822 - INFO - Updated port info for new port_id=173
2025-11-14 13:38:47,823 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 13.125 (N=8) with reward 15.0
2025-11-14 13:38:47,823 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:47,823 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:47,823 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:47,823 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:47,823 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:47,823 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:47,823 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:47,823 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:47,824 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:47,824 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:47,824 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:47,824 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:47,824 - INFO - Sent command: {"id": "c33e85b5-80e1-467e-8cf2-70610438b173", "ts": "2025-11-14T13:38:47.824627Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 173, "commodity": "equipment", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "682aca44-fe5c-4274-b439-b211b22bbda6"}, "idempotency_key": "682aca44-fe5c-4274-b439-b211b22bbda6"}
2025-11-14 13:38:48,325 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c33e85b5-80e1-467e-8cf2-70610438b173', 'ts': '2025-11-14T13:38:47Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 173, 'commodity': 'equipment', 'quantity': 1, 'buy_price': 208.0, 'sell_price': 194.0, 'total_buy_price': 208, 'total_sell_price': 194}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:48,325 - INFO - Server response: {"id": "srv-ok", "reply_to": "c33e85b5-80e1-467e-8cf2-70610438b173", "ts": "2025-11-14T13:38:47Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 173, "commodity": "equipment", "quantity": 1, "buy_price": 208.0, "sell_price": 194.0, "total_buy_price": 208, "total_sell_price": 194}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:48,325 - INFO - Updated price cache: sector=289, port=173, equipment=208.0/194.0
2025-11-14 13:38:48,325 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=7) with reward 0.0
2025-11-14 13:38:48,325 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:48,325 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:48,325 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:48,325 - DEBUG - _can_warp: Current sector: 289, Adjacent sectors from state: [56, 124, 227, 468, 487, 500]
2025-11-14 13:38:48,325 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:48,325 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:48,325 - DEBUG - Calculating warp payload...
2025-11-14 13:38:48,326 - DEBUG - _warp_payload: Current sector: 289
2025-11-14 13:38:48,326 - INFO - Exploring: Preferring highest *unvisited* sector: 487
2025-11-14 13:38:48,326 - INFO - Warp payload created: Warping to sector 487 with ship 2.
2025-11-14 13:38:48,326 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:48,326 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:48,327 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:48,327 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:48,327 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:48,327 - INFO - Sent command: {"id": "9f82fe2e-001f-4d30-827c-f18144a81f4e", "ts": "2025-11-14T13:38:48.327412Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 487, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "6f767352-9bb9-4588-9cf6-7d39a8e5cd01"}, "idempotency_key": "6f767352-9bb9-4588-9cf6-7d39a8e5cd01"}
2025-11-14 13:38:48,827 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '9f82fe2e-001f-4d30-827c-f18144a81f4e', 'ts': '2025-11-14T13:38:48Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 289, 'to_sector_id': 487, 'current_sector': 487}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:48,827 - INFO - Server response: {"id": "srv-ok", "reply_to": "9f82fe2e-001f-4d30-827c-f18144a81f4e", "ts": "2025-11-14T13:38:48Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 289, "to_sector_id": 487, "current_sector": 487}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:48,828 - INFO - Moved to sector 487
2025-11-14 13:38:48,828 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=7) with reward 0.0
2025-11-14 13:38:48,828 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:48,828 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:48,828 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:48,828 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:48,828 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:48,828 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:48,828 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:48,829 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:48,829 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:48,829 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:48,830 - INFO - Sent command: {"id": "34d32b92-d3a3-425a-bc64-ab21a54971c4", "ts": "2025-11-14T13:38:48.829924Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 487}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e0feb671-98b4-4960-98fa-48dfd56a7e6d"}, "idempotency_key": "e0feb671-98b4-4960-98fa-48dfd56a7e6d"}
2025-11-14 13:38:49,330 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '34d32b92-d3a3-425a-bc64-ab21a54971c4', 'ts': '2025-11-14T13:38:48Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 487, 'name': 'Ophiucus', 'adjacent': [210, 244, 289, 413, 457], 'adjacent_count': 5, 'ports': [{'id': 75, 'name': 'Prich', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:49,330 - INFO - Server response: {"id": "srv-ok", "reply_to": "34d32b92-d3a3-425a-bc64-ab21a54971c4", "ts": "2025-11-14T13:38:48Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 487, "name": "Ophiucus", "adjacent": [210, 244, 289, 413, 457], "adjacent_count": 5, "ports": [{"id": 75, "name": "Prich", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:49,330 - INFO - Updated sector.info cache for sector 487
2025-11-14 13:38:49,330 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=24) with reward 0.0
2025-11-14 13:38:49,330 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:49,330 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:49,330 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:49,331 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:49,331 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:49,331 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:49,331 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=13.125)
2025-11-14 13:38:49,331 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:49,331 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:49,332 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:49,332 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:49,332 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:49,332 - INFO - Sent command: {"id": "53972b3e-a2f4-4ced-a220-b3aae842d93c", "ts": "2025-11-14T13:38:49.332460Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 75}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "cef5e63c-b240-49c7-a91e-b1eba14c4124"}, "idempotency_key": "cef5e63c-b240-49c7-a91e-b1eba14c4124"}
2025-11-14 13:38:49,832 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '53972b3e-a2f4-4ced-a220-b3aae842d93c', 'ts': '2025-11-14T13:38:49Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 75, 'number': 74, 'name': 'Prich', 'sector': 487, 'size': 8, 'techlevel': 1, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 2}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:49,833 - INFO - Server response: {"id": "srv-ok", "reply_to": "53972b3e-a2f4-4ced-a220-b3aae842d93c", "ts": "2025-11-14T13:38:49Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 75, "number": 74, "name": "Prich", "sector": 487, "size": 8, "techlevel": 1, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 2}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:49,833 - INFO - Updated port info for new port_id=75
2025-11-14 13:38:49,833 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 13.333333333333334 (N=9) with reward 15.0
2025-11-14 13:38:49,833 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:49,833 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:49,833 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:49,833 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:49,833 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:49,833 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:49,833 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:49,833 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:49,834 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:49,834 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:49,834 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:49,834 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:49,834 - INFO - Sent command: {"id": "b3f12877-caed-4158-8b26-c08dcd6f8910", "ts": "2025-11-14T13:38:49.834871Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 75, "commodity": "organics", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "73e70370-d8fd-40eb-ac4d-84e2a782e413"}, "idempotency_key": "73e70370-d8fd-40eb-ac4d-84e2a782e413"}
2025-11-14 13:38:50,335 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b3f12877-caed-4158-8b26-c08dcd6f8910', 'ts': '2025-11-14T13:38:49Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 75, 'commodity': 'organics', 'quantity': 1, 'buy_price': 145.0, 'sell_price': 145.0, 'total_buy_price': 145, 'total_sell_price': 145}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:50,335 - INFO - Server response: {"id": "srv-ok", "reply_to": "b3f12877-caed-4158-8b26-c08dcd6f8910", "ts": "2025-11-14T13:38:49Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 75, "commodity": "organics", "quantity": 1, "buy_price": 145.0, "sell_price": 145.0, "total_buy_price": 145, "total_sell_price": 145}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:50,335 - INFO - Updated price cache: sector=487, port=75, organics=145.0/145.0
2025-11-14 13:38:50,335 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=8) with reward 0.0
2025-11-14 13:38:50,335 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:50,335 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:50,335 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:50,335 - DEBUG - _can_warp: Current sector: 487, Adjacent sectors from state: [210, 244, 289, 413, 457]
2025-11-14 13:38:50,336 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:50,336 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:50,336 - DEBUG - Calculating warp payload...
2025-11-14 13:38:50,336 - DEBUG - _warp_payload: Current sector: 487
2025-11-14 13:38:50,336 - INFO - Exploring: Preferring highest *unvisited* sector: 457
2025-11-14 13:38:50,336 - INFO - Warp payload created: Warping to sector 457 with ship 2.
2025-11-14 13:38:50,336 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:50,337 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:50,337 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:50,337 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:50,337 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:50,337 - INFO - Sent command: {"id": "3844e877-279b-496b-ad24-b9b1620d464b", "ts": "2025-11-14T13:38:50.337674Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 457, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "16150bfa-6f2d-4cb5-b93f-5585a73f30fa"}, "idempotency_key": "16150bfa-6f2d-4cb5-b93f-5585a73f30fa"}
2025-11-14 13:38:50,838 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '3844e877-279b-496b-ad24-b9b1620d464b', 'ts': '2025-11-14T13:38:50Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 487, 'to_sector_id': 457, 'current_sector': 457}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:50,838 - INFO - Server response: {"id": "srv-ok", "reply_to": "3844e877-279b-496b-ad24-b9b1620d464b", "ts": "2025-11-14T13:38:50Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 487, "to_sector_id": 457, "current_sector": 457}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:50,838 - INFO - Moved to sector 457
2025-11-14 13:38:50,838 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=8) with reward 0.0
2025-11-14 13:38:50,838 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:50,838 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:50,838 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:50,838 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:50,838 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:50,838 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:50,838 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:50,839 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:50,839 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:50,839 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:50,839 - INFO - Sent command: {"id": "2faf0c31-7f42-4e00-9dfd-ba525b280ad6", "ts": "2025-11-14T13:38:50.839898Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 457}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "2973b991-5ec9-4ec3-8bf3-7062b18d9d89"}, "idempotency_key": "2973b991-5ec9-4ec3-8bf3-7062b18d9d89"}
2025-11-14 13:38:51,340 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2faf0c31-7f42-4e00-9dfd-ba525b280ad6', 'ts': '2025-11-14T13:38:50Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 457, 'name': 'Uncharted Space', 'adjacent': [375, 386, 454], 'adjacent_count': 3, 'ports': [{'id': 176, 'name': 'Rhireloth', 'type': '6'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 1, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:51,340 - INFO - Server response: {"id": "srv-ok", "reply_to": "2faf0c31-7f42-4e00-9dfd-ba525b280ad6", "ts": "2025-11-14T13:38:50Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 457, "name": "Uncharted Space", "adjacent": [375, 386, 454], "adjacent_count": 3, "ports": [{"id": 176, "name": "Rhireloth", "type": "6"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 1, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:51,340 - INFO - Updated sector.info cache for sector 457
2025-11-14 13:38:51,340 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=25) with reward 0.0
2025-11-14 13:38:51,340 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:51,340 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:51,340 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:51,340 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:51,341 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:51,341 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:51,341 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=13.333333333333334)
2025-11-14 13:38:51,341 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:51,341 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:51,342 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:51,342 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:51,342 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:51,342 - INFO - Sent command: {"id": "295f2580-a4ad-40ff-b989-48be3193ad93", "ts": "2025-11-14T13:38:51.342316Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 176}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "57d2afe9-86ac-4272-b7e2-6e51aa190e31"}, "idempotency_key": "57d2afe9-86ac-4272-b7e2-6e51aa190e31"}
2025-11-14 13:38:51,842 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '295f2580-a4ad-40ff-b989-48be3193ad93', 'ts': '2025-11-14T13:38:51Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 176, 'number': 175, 'name': 'Rhireloth', 'sector': 457, 'size': 8, 'techlevel': 1, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 5000, 'petty_cash': 0, 'credits': 0, 'type': 6}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:51,843 - INFO - Server response: {"id": "srv-ok", "reply_to": "295f2580-a4ad-40ff-b989-48be3193ad93", "ts": "2025-11-14T13:38:51Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 176, "number": 175, "name": "Rhireloth", "sector": 457, "size": 8, "techlevel": 1, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 5000, "petty_cash": 0, "credits": 0, "type": 6}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:51,843 - INFO - Updated port info for new port_id=176
2025-11-14 13:38:51,843 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 13.5 (N=10) with reward 15.0
2025-11-14 13:38:51,843 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:51,843 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:51,843 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:51,843 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:51,843 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:51,843 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:51,844 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:51,844 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:51,844 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:51,845 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:51,845 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:51,845 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:51,845 - INFO - Sent command: {"id": "a6f6c960-98f5-4508-b0a6-9ec8eedc2c8f", "ts": "2025-11-14T13:38:51.845444Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 176, "commodity": "organics", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "b214b792-a7d3-4447-9c7c-95a358fe91df"}, "idempotency_key": "b214b792-a7d3-4447-9c7c-95a358fe91df"}
2025-11-14 13:38:52,345 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'a6f6c960-98f5-4508-b0a6-9ec8eedc2c8f', 'ts': '2025-11-14T13:38:51Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 176, 'commodity': 'organics', 'quantity': 1, 'buy_price': 145.0, 'sell_price': 145.0, 'total_buy_price': 145, 'total_sell_price': 145}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:52,346 - INFO - Server response: {"id": "srv-ok", "reply_to": "a6f6c960-98f5-4508-b0a6-9ec8eedc2c8f", "ts": "2025-11-14T13:38:51Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 176, "commodity": "organics", "quantity": 1, "buy_price": 145.0, "sell_price": 145.0, "total_buy_price": 145, "total_sell_price": 145}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:52,346 - INFO - Updated price cache: sector=457, port=176, organics=145.0/145.0
2025-11-14 13:38:52,346 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=9) with reward 0.0
2025-11-14 13:38:52,346 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:52,346 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:52,346 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:52,346 - DEBUG - _can_warp: Current sector: 457, Adjacent sectors from state: [375, 386, 454]
2025-11-14 13:38:52,346 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:52,346 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose move.warp (Q=0.0)
2025-11-14 13:38:52,346 - DEBUG - Calculating warp payload...
2025-11-14 13:38:52,347 - DEBUG - _warp_payload: Current sector: 457
2025-11-14 13:38:52,347 - INFO - Exploring: Preferring highest *unvisited* sector: 454
2025-11-14 13:38:52,347 - INFO - Warp payload created: Warping to sector 454 with ship 2.
2025-11-14 13:38:52,347 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:52,347 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:52,348 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:52,348 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:52,348 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:52,348 - INFO - Sent command: {"id": "14d3df36-e288-4a3f-a122-7a5236a2385a", "ts": "2025-11-14T13:38:52.348853Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 454, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "7b9b1b71-7ee4-4651-9f45-1e56ffe1ac08"}, "idempotency_key": "7b9b1b71-7ee4-4651-9f45-1e56ffe1ac08"}
2025-11-14 13:38:52,849 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '14d3df36-e288-4a3f-a122-7a5236a2385a', 'ts': '2025-11-14T13:38:52Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 457, 'to_sector_id': 454, 'current_sector': 454}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:52,849 - INFO - Server response: {"id": "srv-ok", "reply_to": "14d3df36-e288-4a3f-a122-7a5236a2385a", "ts": "2025-11-14T13:38:52Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 457, "to_sector_id": 454, "current_sector": 454}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:52,849 - INFO - Moved to sector 454
2025-11-14 13:38:52,849 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=9) with reward 0.0
2025-11-14 13:38:52,849 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:52,849 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:52,849 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:52,850 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:52,850 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:52,850 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:52,850 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:52,850 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:52,851 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:52,851 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:52,851 - INFO - Sent command: {"id": "ddc110fe-179b-434f-a6e8-3390cc9670ad", "ts": "2025-11-14T13:38:52.851300Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 454}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "151734a9-ddb5-4c00-9bb4-3d355a664626"}, "idempotency_key": "151734a9-ddb5-4c00-9bb4-3d355a664626"}
2025-11-14 13:38:53,351 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'ddc110fe-179b-434f-a6e8-3390cc9670ad', 'ts': '2025-11-14T13:38:52Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 454, 'name': 'Alpha Ari', 'adjacent': [69, 457], 'adjacent_count': 2, 'ports': [], 'has_port': False, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 0, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:53,351 - INFO - Server response: {"id": "srv-ok", "reply_to": "ddc110fe-179b-434f-a6e8-3390cc9670ad", "ts": "2025-11-14T13:38:52Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 454, "name": "Alpha Ari", "adjacent": [69, 457], "adjacent_count": 2, "ports": [], "has_port": false, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 0, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:53,352 - INFO - Updated sector.info cache for sector 454
2025-11-14 13:38:53,352 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=26) with reward 0.0
2025-11-14 13:38:53,352 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:53,352 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:53,352 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:53,352 - DEBUG - _can_warp: Current sector: 454, Adjacent sectors from state: [69, 457]
2025-11-14 13:38:53,352 - INFO - Planner: Candidate actions for stage 'explore': ['move.warp']
2025-11-14 13:38:53,352 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose move.warp
2025-11-14 13:38:53,352 - DEBUG - Calculating warp payload...
2025-11-14 13:38:53,352 - DEBUG - _warp_payload: Current sector: 454
2025-11-14 13:38:53,353 - INFO - Exploring: Preferring highest *unvisited* sector: 69
2025-11-14 13:38:53,353 - INFO - Warp payload created: Warping to sector 69 with ship 2.
2025-11-14 13:38:53,353 - DEBUG - Validating payload for command: move.warp
2025-11-14 13:38:53,353 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:53,354 - DEBUG - Schema info for 'move.warp': {
  "request_schema": {}
}
2025-11-14 13:38:53,354 - DEBUG - Request schema for 'move.warp': {}
2025-11-14 13:38:53,354 - WARNING - Empty or no request_schema found for command 'move.warp' in cached schema. Skipping validation.
2025-11-14 13:38:53,354 - INFO - Sent command: {"id": "43b63501-cf29-4b26-a92e-407903233e3e", "ts": "2025-11-14T13:38:53.354433Z", "command": "move.warp", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"to_sector_id": 69, "ship_id": 2}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "34521f95-fd89-45ce-af90-0a87cebe0267"}, "idempotency_key": "34521f95-fd89-45ce-af90-0a87cebe0267"}
2025-11-14 13:38:53,854 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '43b63501-cf29-4b26-a92e-407903233e3e', 'ts': '2025-11-14T13:38:53Z', 'status': 'ok', 'type': 'move.result', 'data': {'player_id': 4, 'from_sector_id': 454, 'to_sector_id': 69, 'current_sector': 69}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:53,855 - INFO - Server response: {"id": "srv-ok", "reply_to": "43b63501-cf29-4b26-a92e-407903233e3e", "ts": "2025-11-14T13:38:53Z", "status": "ok", "type": "move.result", "data": {"player_id": 4, "from_sector_id": 454, "to_sector_id": 69, "current_sector": 69}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:53,855 - INFO - Moved to sector 69
2025-11-14 13:38:53,855 - DEBUG - Bandit: Updated Q for move.warp in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=20) with reward 0.0
2025-11-14 13:38:53,855 - INFO - Applied reward 0.0 to action 'move.warp' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:53,855 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:53,855 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:53,855 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:38:53,855 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:38:53,855 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:no_port', chose sector.info (Q=0.0)
2025-11-14 13:38:53,855 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:38:53,856 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:53,856 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:38:53,856 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:38:53,856 - INFO - Sent command: {"id": "b56831ec-355a-46f3-ad5d-41cc48e52aba", "ts": "2025-11-14T13:38:53.856863Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "a839edfe-0877-4363-b8a8-a0dc02d45202"}, "idempotency_key": "a839edfe-0877-4363-b8a8-a0dc02d45202"}
2025-11-14 13:38:54,357 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'b56831ec-355a-46f3-ad5d-41cc48e52aba', 'ts': '2025-11-14T13:38:53Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:54,357 - INFO - Server response: {"id": "srv-ok", "reply_to": "b56831ec-355a-46f3-ad5d-41cc48e52aba", "ts": "2025-11-14T13:38:53Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:54,357 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:38:54,357 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:no_port' to 0.0 (N=27) with reward 0.0
2025-11-14 13:38:54,357 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:no_port'.
2025-11-14 13:38:54,357 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:54,357 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:54,358 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:54,358 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.port_info', 'trade.quote']
2025-11-14 13:38:54,358 - INFO - QA Mode: Prioritizing focus commands: ['trade.port_info', 'trade.quote']
2025-11-14 13:38:54,358 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.port_info (Q=13.5)
2025-11-14 13:38:54,358 - DEBUG - Validating payload for command: trade.port_info
2025-11-14 13:38:54,358 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:54,359 - DEBUG - Schema info for 'trade.port_info': {
  "request_schema": {}
}
2025-11-14 13:38:54,359 - DEBUG - Request schema for 'trade.port_info': {}
2025-11-14 13:38:54,359 - WARNING - Empty or no request_schema found for command 'trade.port_info' in cached schema. Skipping validation.
2025-11-14 13:38:54,359 - INFO - Sent command: {"id": "fe54ac8b-996a-474d-ad16-275408979626", "ts": "2025-11-14T13:38:54.359462Z", "command": "trade.port_info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 71}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "24cab81f-b73c-43ee-8f72-1f52d8b9f6bb"}, "idempotency_key": "24cab81f-b73c-43ee-8f72-1f52d8b9f6bb"}
2025-11-14 13:38:54,859 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'fe54ac8b-996a-474d-ad16-275408979626', 'ts': '2025-11-14T13:38:54Z', 'status': 'ok', 'type': 'trade.port_info', 'data': {'port': {'id': 71, 'number': 70, 'name': 'Dreord', 'sector': 69, 'size': 5, 'techlevel': 1, 'ore_on_hand': 5000, 'organics_on_hand': 5000, 'equipment_on_hand': 2500, 'petty_cash': 0, 'credits': 0, 'type': 4}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:54,860 - INFO - Server response: {"id": "srv-ok", "reply_to": "fe54ac8b-996a-474d-ad16-275408979626", "ts": "2025-11-14T13:38:54Z", "status": "ok", "type": "trade.port_info", "data": {"port": {"id": 71, "number": 70, "name": "Dreord", "sector": 69, "size": 5, "techlevel": 1, "ore_on_hand": 5000, "organics_on_hand": 5000, "equipment_on_hand": 2500, "petty_cash": 0, "credits": 0, "type": 4}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:54,860 - INFO - Updated port info for new port_id=71
2025-11-14 13:38:54,860 - DEBUG - Bandit: Updated Q for trade.port_info in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 13.636363636363637 (N=11) with reward 15.0
2025-11-14 13:38:54,860 - INFO - Applied reward 15.0 to action 'trade.port_info' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:54,860 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:54,860 - INFO - Planner: Current stage is 'survey'.
2025-11-14 13:38:54,860 - DEBUG - _can_get_trade_quote: broken_trade_quote=False, ports_present=True
2025-11-14 13:38:54,860 - INFO - Planner: Candidate actions for stage 'survey': ['player.my_info', 'trade.quote']
2025-11-14 13:38:54,860 - INFO - QA Mode: Prioritizing focus commands: ['trade.quote']
2025-11-14 13:38:54,860 - DEBUG - Bandit: Exploiting in context 'stage:survey-sector_class:unknown_class-port_type:port_present', chose trade.quote (Q=0.0)
2025-11-14 13:38:54,861 - DEBUG - Validating payload for command: trade.quote
2025-11-14 13:38:54,861 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:38:54,861 - DEBUG - Schema info for 'trade.quote': {
  "request_schema": {}
}
2025-11-14 13:38:54,861 - DEBUG - Request schema for 'trade.quote': {}
2025-11-14 13:38:54,862 - WARNING - Empty or no request_schema found for command 'trade.quote' in cached schema. Skipping validation.
2025-11-14 13:38:54,862 - INFO - Sent command: {"id": "c58fb007-f600-443d-bbf9-431d1ea82ed4", "ts": "2025-11-14T13:38:54.862129Z", "command": "trade.quote", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"port_id": 71, "commodity": "organics", "quantity": 1}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "cad734a2-39a0-4210-87a8-c3c7bbd4fa40"}, "idempotency_key": "cad734a2-39a0-4210-87a8-c3c7bbd4fa40"}
2025-11-14 13:38:55,362 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c58fb007-f600-443d-bbf9-431d1ea82ed4', 'ts': '2025-11-14T13:38:54Z', 'status': 'ok', 'type': 'trade.quote', 'data': {'port_id': 71, 'commodity': 'organics', 'quantity': 1, 'buy_price': 128.0, 'sell_price': 128.0, 'total_buy_price': 128, 'total_sell_price': 128}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:38:55,362 - INFO - Server response: {"id": "srv-ok", "reply_to": "c58fb007-f600-443d-bbf9-431d1ea82ed4", "ts": "2025-11-14T13:38:54Z", "status": "ok", "type": "trade.quote", "data": {"port_id": 71, "commodity": "organics", "quantity": 1, "buy_price": 128.0, "sell_price": 128.0, "total_buy_price": 128, "total_sell_price": 128}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:38:55,362 - INFO - Updated price cache: sector=69, port=71, organics=128.0/128.0
2025-11-14 13:38:55,362 - DEBUG - Bandit: Updated Q for trade.quote in context 'stage:survey-sector_class:unknown_class-port_type:port_present' to 0.0 (N=10) with reward 0.0
2025-11-14 13:38:55,362 - INFO - Applied reward 0.0 to action 'trade.quote' in context 'stage:survey-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:38:55,363 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:55,363 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:55,363 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:38:55,363 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:38:55,363 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:38:55,363 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:38:56,864 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:56,865 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:56,865 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:38:56,865 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:38:56,865 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:38:56,865 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:38:58,366 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:58,367 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:58,367 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:38:58,367 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:38:58,367 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:38:58,367 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:38:59,868 - DEBUG - Pending commands before check: {}
2025-11-14 13:38:59,868 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:38:59,869 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:38:59,869 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:38:59,869 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:38:59,869 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:01,369 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:01,370 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:01,370 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:01,370 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:01,370 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:01,370 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:02,871 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:02,871 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:02,872 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:02,872 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:02,872 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:02,872 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:04,373 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:04,373 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:04,373 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:04,374 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:04,374 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:04,374 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:05,874 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:05,875 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:05,875 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:05,875 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:05,875 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:05,875 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:07,376 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:07,376 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:07,377 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:07,377 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:07,377 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:07,377 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:08,877 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:08,878 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:08,878 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:08,878 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:39:08,878 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:39:08,878 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:39:08,878 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:39:08,879 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:39:08,879 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:39:08,879 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:39:08,879 - INFO - Sent command: {"id": "cc9ea8d6-57f8-487b-96c8-f25522ff12c5", "ts": "2025-11-14T13:39:08.879615Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "d96ddb6a-039f-42ab-98c9-48e9f8214f33"}, "idempotency_key": "d96ddb6a-039f-42ab-98c9-48e9f8214f33"}
2025-11-14 13:39:09,380 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'cc9ea8d6-57f8-487b-96c8-f25522ff12c5', 'ts': '2025-11-14T13:39:08Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:39:09,380 - INFO - Server response: {"id": "srv-ok", "reply_to": "cc9ea8d6-57f8-487b-96c8-f25522ff12c5", "ts": "2025-11-14T13:39:08Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:39:09,380 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:39:09,380 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=1) with reward 0.0
2025-11-14 13:39:09,380 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:39:09,380 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:09,380 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:09,380 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:09,380 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:09,380 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:09,381 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:10,882 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:10,882 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:10,882 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:10,882 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:10,882 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:10,882 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:12,384 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:12,384 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:12,384 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:12,384 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:12,384 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:12,384 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:13,885 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:13,886 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:13,886 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:13,886 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:13,886 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:13,886 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:15,387 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:15,388 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:15,388 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:15,388 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:15,388 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:15,388 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:16,888 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:16,889 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:16,889 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:16,889 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:16,889 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:16,889 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:18,390 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:18,391 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:18,391 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:18,391 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:18,391 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:18,391 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:19,892 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:19,893 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:19,893 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:19,893 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:19,893 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:19,893 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:21,393 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:21,394 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:21,394 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:21,394 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:21,394 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:21,394 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:22,895 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:22,895 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:22,896 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:22,896 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:22,896 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:22,896 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:24,397 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:24,398 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:24,398 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:24,398 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:39:24,398 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:39:24,398 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:39:24,398 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:39:24,399 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:39:24,399 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:39:24,399 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:39:24,399 - INFO - Sent command: {"id": "af5a4a8a-1026-40b4-a73b-203a7f6c016f", "ts": "2025-11-14T13:39:24.399716Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "790c294d-f044-4209-be9b-2498fdcd208b"}, "idempotency_key": "790c294d-f044-4209-be9b-2498fdcd208b"}
2025-11-14 13:39:24,900 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'af5a4a8a-1026-40b4-a73b-203a7f6c016f', 'ts': '2025-11-14T13:39:24Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:39:24,900 - INFO - Server response: {"id": "srv-ok", "reply_to": "af5a4a8a-1026-40b4-a73b-203a7f6c016f", "ts": "2025-11-14T13:39:24Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:39:24,900 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:39:24,900 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=2) with reward 0.0
2025-11-14 13:39:24,900 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:39:24,900 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:24,900 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:24,900 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:24,901 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:24,901 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:24,901 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:26,402 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:26,402 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:26,402 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:26,402 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:26,403 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:26,403 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:27,904 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:27,904 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:27,904 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:27,904 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:27,904 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:27,904 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:29,406 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:29,406 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:29,406 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:29,406 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:29,406 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:29,406 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:30,908 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:30,908 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:30,908 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:30,908 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:30,908 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:30,908 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:32,409 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:32,410 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:32,410 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:32,410 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:32,410 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:32,410 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:33,911 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:33,912 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:33,912 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:33,912 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:33,912 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:33,912 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:35,412 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:35,413 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:35,413 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:35,413 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:35,413 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:35,413 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:36,913 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:36,914 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:36,914 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:36,914 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:36,914 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:36,914 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:38,415 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:38,415 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:38,416 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:38,416 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:38,416 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:38,416 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:39,917 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:39,917 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:39,917 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:39,917 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:39:39,917 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:39:39,917 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:39:39,917 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:39:39,918 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:39:39,918 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:39:39,918 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:39:39,919 - INFO - Sent command: {"id": "d061c16a-76e4-4079-8637-dc00967cc65e", "ts": "2025-11-14T13:39:39.919079Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "a7e1c4e1-f7a3-43d2-b7cd-52ac6dcced86"}, "idempotency_key": "a7e1c4e1-f7a3-43d2-b7cd-52ac6dcced86"}
2025-11-14 13:39:40,419 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd061c16a-76e4-4079-8637-dc00967cc65e', 'ts': '2025-11-14T13:39:39Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:39:40,419 - INFO - Server response: {"id": "srv-ok", "reply_to": "d061c16a-76e4-4079-8637-dc00967cc65e", "ts": "2025-11-14T13:39:39Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:39:40,419 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:39:40,419 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=3) with reward 0.0
2025-11-14 13:39:40,420 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:39:40,420 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:40,420 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:40,420 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:40,420 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:40,420 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:40,420 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:41,921 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:41,922 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:41,922 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:41,922 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:41,922 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:41,922 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:43,422 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:43,423 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:43,423 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:43,423 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:43,423 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:43,423 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:44,923 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:44,924 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:44,924 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:44,924 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:44,924 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:44,924 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:46,425 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:46,425 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:46,426 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:46,426 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:46,426 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:46,426 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:47,927 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:47,927 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:47,928 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:47,928 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:47,928 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:47,928 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:49,429 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:49,429 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:49,429 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:49,430 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:49,430 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:49,430 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:50,931 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:50,931 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:50,931 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:50,932 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:50,932 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:50,932 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:52,433 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:52,433 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:52,433 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:52,433 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:52,434 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:52,434 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:53,935 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:53,935 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:53,935 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:53,935 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:53,935 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:53,936 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:55,437 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:55,437 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:55,437 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:55,437 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:39:55,437 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:39:55,437 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info
2025-11-14 13:39:55,437 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:39:55,438 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:39:55,438 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:39:55,438 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:39:55,439 - INFO - Sent command: {"id": "d5e5842e-f7bd-48cf-8ea3-dcc9a31bd23e", "ts": "2025-11-14T13:39:55.438977Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "bbc30838-a559-483b-b5de-622e4868d5bf"}, "idempotency_key": "bbc30838-a559-483b-b5de-622e4868d5bf"}
2025-11-14 13:39:55,939 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd5e5842e-f7bd-48cf-8ea3-dcc9a31bd23e', 'ts': '2025-11-14T13:39:55Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:39:55,939 - INFO - Server response: {"id": "srv-ok", "reply_to": "d5e5842e-f7bd-48cf-8ea3-dcc9a31bd23e", "ts": "2025-11-14T13:39:55Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:39:55,939 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:39:55,939 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=4) with reward 0.0
2025-11-14 13:39:55,939 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:39:55,939 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:55,940 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:55,940 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:55,940 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:55,940 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:55,940 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:57,441 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:57,441 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:57,441 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:57,442 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:57,442 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:57,442 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:39:58,943 - DEBUG - Pending commands before check: {}
2025-11-14 13:39:58,943 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:39:58,943 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:39:58,944 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:39:58,944 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:39:58,944 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:00,445 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:00,445 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:00,450 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:00,450 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:00,450 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:00,450 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:01,951 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:01,952 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:01,952 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:01,952 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:01,952 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:01,952 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:03,453 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:03,453 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:03,453 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:03,454 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:03,454 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:03,454 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:04,954 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:04,955 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:04,955 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:04,955 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:04,955 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:04,955 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:06,456 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:06,457 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:06,457 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:06,457 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:06,457 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:06,457 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:07,957 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:07,958 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:07,958 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:07,958 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:07,958 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:07,958 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:09,459 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:09,460 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:09,460 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:09,460 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:09,460 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:09,460 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:10,960 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:10,961 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:10,961 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:10,961 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:40:10,961 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:40:10,961 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:40:10,961 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:40:10,962 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:40:10,962 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:40:10,962 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:40:10,962 - INFO - Sent command: {"id": "2fe35bf4-aa6e-4293-9e60-dbcae2d77ca2", "ts": "2025-11-14T13:40:10.962887Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "18eac472-d9c0-4634-ac2c-b5c2bc2f2fc5"}, "idempotency_key": "18eac472-d9c0-4634-ac2c-b5c2bc2f2fc5"}
2025-11-14 13:40:11,463 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '2fe35bf4-aa6e-4293-9e60-dbcae2d77ca2', 'ts': '2025-11-14T13:40:10Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:40:11,463 - INFO - Server response: {"id": "srv-ok", "reply_to": "2fe35bf4-aa6e-4293-9e60-dbcae2d77ca2", "ts": "2025-11-14T13:40:10Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:40:11,463 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:40:11,463 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=5) with reward 0.0
2025-11-14 13:40:11,463 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:40:11,463 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:11,463 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:11,463 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:11,463 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:11,463 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:11,463 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:12,964 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:12,965 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:12,965 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:12,965 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:12,965 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:12,965 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:14,466 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:14,467 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:14,467 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:14,467 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:14,467 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:14,467 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:15,968 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:15,968 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:15,969 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:15,969 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:15,969 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:15,969 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:17,469 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:17,470 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:17,470 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:17,470 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:17,470 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:17,470 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:18,971 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:18,971 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:18,972 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:18,972 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:18,972 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:18,972 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:20,473 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:20,473 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:20,473 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:20,474 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:20,474 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:20,474 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:21,975 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:21,975 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:21,975 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:21,976 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:21,976 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:21,976 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:23,477 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:23,477 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:23,477 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:23,477 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:23,478 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:23,478 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:24,978 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:24,979 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:24,979 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:24,979 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:24,979 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:24,979 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:26,480 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:26,481 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:26,481 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:26,481 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:40:26,481 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:40:26,481 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:40:26,481 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:40:26,481 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:40:26,482 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:40:26,482 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:40:26,482 - INFO - Sent command: {"id": "d2940100-9875-4a62-bfd6-e68ebf841238", "ts": "2025-11-14T13:40:26.482462Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "138aa494-5ca2-4fa0-bde9-6d5648be8d36"}, "idempotency_key": "138aa494-5ca2-4fa0-bde9-6d5648be8d36"}
2025-11-14 13:40:26,982 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd2940100-9875-4a62-bfd6-e68ebf841238', 'ts': '2025-11-14T13:40:26Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:40:26,983 - INFO - Server response: {"id": "srv-ok", "reply_to": "d2940100-9875-4a62-bfd6-e68ebf841238", "ts": "2025-11-14T13:40:26Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:40:26,983 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:40:26,983 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=6) with reward 0.0
2025-11-14 13:40:26,983 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:40:26,983 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:26,983 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:26,983 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:26,983 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:26,983 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:26,983 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:28,485 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:28,485 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:28,485 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:28,485 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:28,485 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:28,485 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:29,987 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:29,987 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:29,987 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:29,987 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:29,987 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:29,987 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:31,488 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:31,488 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:31,489 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:31,489 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:31,489 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:31,489 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:32,990 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:32,990 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:32,990 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:32,991 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:32,991 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:32,991 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:34,492 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:34,492 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:34,492 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:34,492 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:34,493 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:34,493 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:35,994 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:35,994 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:35,994 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:35,994 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:35,994 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:35,995 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:37,496 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:37,496 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:37,496 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:37,496 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:37,496 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:37,496 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:38,998 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:38,998 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:38,998 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:38,998 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:38,999 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:38,999 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:40,500 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:40,500 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:40,500 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:40,500 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:40,500 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:40,500 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:42,002 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:42,002 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:42,002 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:42,002 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:40:42,002 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:40:42,002 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:40:42,002 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:40:42,003 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:40:42,003 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:40:42,003 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:40:42,003 - INFO - Sent command: {"id": "365a1974-db5c-47be-ae23-81e506b8245f", "ts": "2025-11-14T13:40:42.003612Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "fc584f0a-d710-4886-bd8f-8f9a624df570"}, "idempotency_key": "fc584f0a-d710-4886-bd8f-8f9a624df570"}
2025-11-14 13:40:42,504 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '365a1974-db5c-47be-ae23-81e506b8245f', 'ts': '2025-11-14T13:40:42Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:40:42,504 - INFO - Server response: {"id": "srv-ok", "reply_to": "365a1974-db5c-47be-ae23-81e506b8245f", "ts": "2025-11-14T13:40:42Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:40:42,504 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:40:42,504 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=7) with reward 0.0
2025-11-14 13:40:42,504 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:40:42,504 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:42,504 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:42,504 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:42,505 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:42,505 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:42,505 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:44,006 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:44,006 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:44,006 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:44,007 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:44,007 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:44,007 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:45,508 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:45,508 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:45,508 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:45,508 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:45,508 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:45,509 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:47,010 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:47,010 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:47,010 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:47,010 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:47,010 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:47,010 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:48,512 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:48,512 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:48,512 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:48,512 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:48,512 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:48,512 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:50,013 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:50,014 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:50,014 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:50,014 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:50,014 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:50,014 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:51,515 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:51,515 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:51,516 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:51,516 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:51,516 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:51,516 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:53,017 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:53,017 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:53,017 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:53,018 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:53,018 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:53,018 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:54,519 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:54,519 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:54,519 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:54,520 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:54,520 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:54,520 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:56,021 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:56,021 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:56,021 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:56,021 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:56,022 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:56,022 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:57,522 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:57,523 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:57,523 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:57,523 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:40:57,523 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:40:57,523 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:40:57,523 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:40:57,524 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:40:57,524 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:40:57,524 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:40:57,524 - INFO - Sent command: {"id": "605a29de-0144-4273-84c4-beffcabbb436", "ts": "2025-11-14T13:40:57.524550Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e542508b-40e7-4568-a583-dd55cdbdc12f"}, "idempotency_key": "e542508b-40e7-4568-a583-dd55cdbdc12f"}
2025-11-14 13:40:58,024 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '605a29de-0144-4273-84c4-beffcabbb436', 'ts': '2025-11-14T13:40:57Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:40:58,025 - INFO - Server response: {"id": "srv-ok", "reply_to": "605a29de-0144-4273-84c4-beffcabbb436", "ts": "2025-11-14T13:40:57Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:40:58,025 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:40:58,025 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=8) with reward 0.0
2025-11-14 13:40:58,025 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:40:58,025 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:58,025 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:58,025 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:58,025 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:58,025 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:58,025 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:40:59,527 - DEBUG - Pending commands before check: {}
2025-11-14 13:40:59,527 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:40:59,527 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:40:59,527 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:40:59,527 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:40:59,527 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:01,029 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:01,029 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:01,029 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:01,029 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:01,029 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:01,029 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:02,530 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:02,531 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:02,531 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:02,531 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:02,531 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:02,531 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:04,032 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:04,032 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:04,033 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:04,033 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:04,033 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:04,033 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:05,534 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:05,534 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:05,534 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:05,535 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:05,535 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:05,535 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:07,036 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:07,036 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:07,036 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:07,036 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:07,037 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:07,037 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:08,538 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:08,538 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:08,538 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:08,539 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:08,539 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:08,539 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:10,040 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:10,040 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:10,040 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:10,041 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:10,041 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:10,041 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:11,542 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:11,542 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:11,542 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:11,543 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:11,543 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:11,543 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:13,043 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:13,044 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:13,044 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:13,044 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:41:13,044 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:41:13,044 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:41:13,044 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:41:13,045 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:41:13,045 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:41:13,045 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:41:13,045 - INFO - Sent command: {"id": "0174eafe-3d8e-4da5-baca-bdd52f2c9b75", "ts": "2025-11-14T13:41:13.045635Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "635aae7e-5c26-4c4b-89c6-928f6a645ae0"}, "idempotency_key": "635aae7e-5c26-4c4b-89c6-928f6a645ae0"}
2025-11-14 13:41:13,546 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '0174eafe-3d8e-4da5-baca-bdd52f2c9b75', 'ts': '2025-11-14T13:41:13Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:41:13,546 - INFO - Server response: {"id": "srv-ok", "reply_to": "0174eafe-3d8e-4da5-baca-bdd52f2c9b75", "ts": "2025-11-14T13:41:13Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:41:13,546 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:41:13,546 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=9) with reward 0.0
2025-11-14 13:41:13,546 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:41:13,546 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:13,546 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:13,546 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:13,547 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:13,547 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:13,547 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:15,048 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:15,048 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:15,048 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:15,048 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:15,048 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:15,049 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:16,550 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:16,550 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:16,550 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:16,550 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:16,550 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:16,551 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:18,052 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:18,052 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:18,052 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:18,052 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:18,053 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:18,053 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:19,554 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:19,554 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:19,554 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:19,554 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:19,554 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:19,554 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:21,056 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:21,056 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:21,056 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:21,056 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:21,056 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:21,056 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:22,558 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:22,558 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:22,558 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:22,558 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:22,558 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:22,558 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:24,059 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:24,060 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:24,060 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:24,060 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:24,060 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:24,060 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:25,560 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:25,561 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:25,561 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:25,561 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:25,561 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:25,561 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:27,062 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:27,062 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:27,063 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:27,063 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:27,063 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:27,063 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:28,564 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:28,564 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:28,564 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:28,565 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:41:28,565 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:41:28,565 - DEBUG - Bandit: Exploring in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info
2025-11-14 13:41:28,565 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:41:28,565 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:41:28,566 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:41:28,566 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:41:28,566 - INFO - Sent command: {"id": "0d78ce53-5a0b-4ca0-a86d-8f9f4b600b29", "ts": "2025-11-14T13:41:28.566371Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "bf776511-b9b7-4ded-90a7-576d32e07640"}, "idempotency_key": "bf776511-b9b7-4ded-90a7-576d32e07640"}
2025-11-14 13:41:29,066 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '0d78ce53-5a0b-4ca0-a86d-8f9f4b600b29', 'ts': '2025-11-14T13:41:28Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:41:29,067 - INFO - Server response: {"id": "srv-ok", "reply_to": "0d78ce53-5a0b-4ca0-a86d-8f9f4b600b29", "ts": "2025-11-14T13:41:28Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:41:29,067 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:41:29,067 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=10) with reward 0.0
2025-11-14 13:41:29,067 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:41:29,067 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:29,067 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:29,067 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:29,067 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:29,067 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:29,067 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:30,568 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:30,569 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:30,569 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:30,569 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:30,569 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:30,569 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:32,070 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:32,070 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:32,071 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:32,071 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:32,071 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:32,071 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:33,572 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:33,572 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:33,577 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:33,577 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:33,577 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:33,577 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:35,079 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:35,079 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:35,079 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:35,079 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:35,079 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:35,079 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:36,580 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:36,581 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:36,581 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:36,581 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:36,581 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:36,581 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:38,082 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:38,083 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:38,083 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:38,083 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:38,083 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:38,083 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:39,584 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:39,584 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:39,584 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:39,585 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:39,585 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:39,585 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:41,086 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:41,086 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:41,086 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:41,086 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:41,086 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:41,086 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:42,588 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:42,588 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:42,588 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:42,588 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:42,589 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:42,589 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:44,089 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:44,090 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:44,090 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:44,090 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:41:44,090 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:41:44,090 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:41:44,090 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:41:44,091 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:41:44,091 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:41:44,091 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:41:44,091 - INFO - Sent command: {"id": "d55ecac2-d773-450d-8f70-dbb1d1974dbb", "ts": "2025-11-14T13:41:44.091752Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "25123c5a-1728-4faa-a15c-013ac6edfe55"}, "idempotency_key": "25123c5a-1728-4faa-a15c-013ac6edfe55"}
2025-11-14 13:41:44,592 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'd55ecac2-d773-450d-8f70-dbb1d1974dbb', 'ts': '2025-11-14T13:41:44Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:41:44,592 - INFO - Server response: {"id": "srv-ok", "reply_to": "d55ecac2-d773-450d-8f70-dbb1d1974dbb", "ts": "2025-11-14T13:41:44Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:41:44,592 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:41:44,592 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=11) with reward 0.0
2025-11-14 13:41:44,592 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:41:44,592 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:44,592 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:44,592 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:44,593 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:44,593 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:44,593 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:46,094 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:46,094 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:46,094 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:46,094 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:46,095 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:46,095 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:47,596 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:47,596 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:47,596 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:47,596 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:47,596 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:47,597 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:49,098 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:49,098 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:49,098 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:49,098 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:49,098 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:49,098 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:50,600 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:50,600 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:50,600 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:50,600 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:50,600 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:50,600 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:52,102 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:52,102 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:52,102 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:52,102 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:52,102 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:52,102 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:53,604 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:53,604 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:53,604 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:53,604 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:53,604 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:53,604 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:55,105 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:55,106 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:55,106 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:55,106 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:55,106 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:55,106 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:56,607 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:56,607 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:56,607 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:56,607 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:56,608 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:56,608 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:58,109 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:58,109 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:58,109 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:58,109 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:41:58,109 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:41:58,109 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:41:59,611 - DEBUG - Pending commands before check: {}
2025-11-14 13:41:59,611 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:41:59,611 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:41:59,611 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:41:59,611 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:41:59,611 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:41:59,612 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:41:59,612 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:41:59,613 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:41:59,613 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:41:59,613 - INFO - Sent command: {"id": "bd0441aa-f1a5-4fae-8882-fd4ad54ecc21", "ts": "2025-11-14T13:41:59.613202Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "334ad45a-84c9-4353-8426-091177dbc694"}, "idempotency_key": "334ad45a-84c9-4353-8426-091177dbc694"}
2025-11-14 13:42:00,113 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'bd0441aa-f1a5-4fae-8882-fd4ad54ecc21', 'ts': '2025-11-14T13:41:59Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:42:00,113 - INFO - Server response: {"id": "srv-ok", "reply_to": "bd0441aa-f1a5-4fae-8882-fd4ad54ecc21", "ts": "2025-11-14T13:41:59Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:42:00,113 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:42:00,114 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=12) with reward 0.0
2025-11-14 13:42:00,114 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:42:00,114 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:00,114 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:00,114 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:00,114 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:00,114 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:00,114 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:01,615 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:01,616 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:01,616 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:01,616 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:01,616 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:01,616 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:03,117 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:03,117 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:03,118 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:03,118 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:03,118 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:03,118 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:04,618 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:04,619 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:04,619 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:04,619 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:04,619 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:04,619 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:06,120 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:06,120 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:06,120 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:06,121 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:06,121 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:06,121 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:07,622 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:07,622 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:07,622 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:07,623 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:07,623 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:07,623 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:09,124 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:09,124 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:09,124 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:09,125 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:09,125 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:09,125 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:10,626 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:10,626 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:10,626 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:10,626 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:10,627 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:10,627 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:12,128 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:12,128 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:12,128 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:12,128 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:12,128 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:12,128 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:13,630 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:13,630 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:13,630 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:13,630 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:13,630 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:13,630 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:15,132 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:15,132 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:15,132 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:15,132 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:42:15,132 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:42:15,132 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:42:15,132 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:42:15,133 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:42:15,133 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:42:15,133 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:42:15,134 - INFO - Sent command: {"id": "86c88226-58c0-4356-af09-887d65de2277", "ts": "2025-11-14T13:42:15.134010Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "708d5e01-9dd7-4a9b-8728-ea91d9764c3f"}, "idempotency_key": "708d5e01-9dd7-4a9b-8728-ea91d9764c3f"}
2025-11-14 13:42:15,634 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '86c88226-58c0-4356-af09-887d65de2277', 'ts': '2025-11-14T13:42:15Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:42:15,634 - INFO - Server response: {"id": "srv-ok", "reply_to": "86c88226-58c0-4356-af09-887d65de2277", "ts": "2025-11-14T13:42:15Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:42:15,634 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:42:15,634 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=13) with reward 0.0
2025-11-14 13:42:15,634 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:42:15,634 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:15,635 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:15,635 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:15,635 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:15,635 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:15,635 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:17,136 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:17,136 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:17,137 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:17,137 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:17,137 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:17,137 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:18,638 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:18,638 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:18,638 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:18,639 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:18,639 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:18,639 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:20,140 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:20,140 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:20,140 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:20,141 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:20,141 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:20,141 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:21,642 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:21,642 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:21,642 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:21,642 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:21,643 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:21,643 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:23,144 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:23,144 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:23,144 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:23,144 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:23,144 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:23,145 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:24,646 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:24,646 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:24,651 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:24,651 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:24,652 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:24,652 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:26,153 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:26,153 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:26,153 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:26,153 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:26,153 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:26,154 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:27,655 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:27,655 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:27,655 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:27,655 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:27,655 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:27,655 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:29,157 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:29,157 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:29,157 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:29,157 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:29,157 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:29,157 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:30,659 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:30,659 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:30,659 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:30,659 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:42:30,659 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:42:30,659 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:42:30,659 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:42:30,660 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:42:30,660 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:42:30,660 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:42:30,661 - INFO - Sent command: {"id": "7bfbcc01-0a02-47e2-bb47-f5c0baefb5c7", "ts": "2025-11-14T13:42:30.660905Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5f6e51ab-2f8c-4889-a399-ee7d756e2df4"}, "idempotency_key": "5f6e51ab-2f8c-4889-a399-ee7d756e2df4"}
2025-11-14 13:42:31,161 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '7bfbcc01-0a02-47e2-bb47-f5c0baefb5c7', 'ts': '2025-11-14T13:42:30Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:42:31,161 - INFO - Server response: {"id": "srv-ok", "reply_to": "7bfbcc01-0a02-47e2-bb47-f5c0baefb5c7", "ts": "2025-11-14T13:42:30Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:42:31,161 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:42:31,161 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=14) with reward 0.0
2025-11-14 13:42:31,161 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:42:31,161 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:31,161 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:31,162 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:31,162 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:31,162 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:31,162 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:32,663 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:32,663 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:32,663 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:32,664 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:32,664 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:32,664 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:34,165 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:34,165 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:34,165 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:34,165 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:34,166 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:34,166 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:35,666 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:35,667 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:35,667 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:35,667 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:35,667 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:35,667 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:37,168 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:37,168 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:37,169 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:37,169 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:37,169 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:37,169 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:38,670 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:38,670 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:38,670 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:38,671 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:38,671 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:38,671 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:40,172 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:40,172 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:40,172 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:40,173 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:40,173 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:40,173 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:41,674 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:41,674 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:41,674 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:41,674 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:41,674 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:41,675 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:43,175 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:43,176 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:43,176 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:43,176 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:43,176 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:43,176 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:44,677 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:44,677 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:44,678 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:44,678 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:44,678 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:44,678 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:46,179 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:46,179 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:46,179 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:46,180 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:42:46,180 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:42:46,180 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:42:46,180 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:42:46,180 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:42:46,181 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:42:46,181 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:42:46,181 - INFO - Sent command: {"id": "e48a8126-8dfc-4320-b1bd-9b509810d057", "ts": "2025-11-14T13:42:46.181414Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "e18b8df0-56a4-43af-b81b-f4b00800556d"}, "idempotency_key": "e18b8df0-56a4-43af-b81b-f4b00800556d"}
2025-11-14 13:42:46,681 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'e48a8126-8dfc-4320-b1bd-9b509810d057', 'ts': '2025-11-14T13:42:46Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:42:46,682 - INFO - Server response: {"id": "srv-ok", "reply_to": "e48a8126-8dfc-4320-b1bd-9b509810d057", "ts": "2025-11-14T13:42:46Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:42:46,682 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:42:46,682 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=15) with reward 0.0
2025-11-14 13:42:46,682 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:42:46,682 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:46,682 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:46,682 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:46,682 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:46,682 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:46,682 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:48,184 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:48,184 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:48,184 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:48,184 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:48,184 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:48,184 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:49,686 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:49,686 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:49,686 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:49,686 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:49,686 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:49,686 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:51,188 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:51,188 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:51,188 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:51,188 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:51,188 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:51,188 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:52,689 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:52,690 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:52,690 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:52,690 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:52,690 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:52,690 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:54,191 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:54,192 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:54,192 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:54,192 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:54,192 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:54,192 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:55,693 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:55,694 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:55,694 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:55,694 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:55,694 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:55,694 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:57,195 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:57,195 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:57,196 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:57,196 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:57,196 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:57,196 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:42:58,697 - DEBUG - Pending commands before check: {}
2025-11-14 13:42:58,697 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:42:58,697 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:42:58,698 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:42:58,698 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:42:58,698 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:00,199 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:00,199 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:00,199 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:00,200 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:00,200 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:00,200 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:01,700 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:01,701 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:01,701 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:01,701 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:43:01,701 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:43:01,701 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:43:01,701 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:43:01,702 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:43:01,702 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:43:01,702 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:43:01,702 - INFO - Sent command: {"id": "c43b314a-d8ae-4578-9c82-a74417ca0f2b", "ts": "2025-11-14T13:43:01.702593Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "1e64c252-d830-4f36-a697-d1fb50d6682d"}, "idempotency_key": "1e64c252-d830-4f36-a697-d1fb50d6682d"}
2025-11-14 13:43:02,202 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'c43b314a-d8ae-4578-9c82-a74417ca0f2b', 'ts': '2025-11-14T13:43:01Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:43:02,203 - INFO - Server response: {"id": "srv-ok", "reply_to": "c43b314a-d8ae-4578-9c82-a74417ca0f2b", "ts": "2025-11-14T13:43:01Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:43:02,203 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:43:02,203 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=16) with reward 0.0
2025-11-14 13:43:02,203 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:43:02,203 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:02,203 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:02,203 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:02,203 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:02,204 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:02,204 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:03,704 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:03,705 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:03,705 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:03,705 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:03,705 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:03,705 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:05,205 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:05,206 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:05,206 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:05,206 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:05,206 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:05,206 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:06,707 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:06,707 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:06,708 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:06,708 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:06,708 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:06,708 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:08,209 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:08,209 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:08,209 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:08,210 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:08,210 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:08,210 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:09,710 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:09,711 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:09,711 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:09,711 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:09,711 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:09,711 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:11,212 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:11,213 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:11,213 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:11,213 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:11,213 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:11,213 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:12,714 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:12,715 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:12,715 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:12,715 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:12,715 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:12,715 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:14,215 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:14,216 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:14,216 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:14,216 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:14,216 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:14,216 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:15,717 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:15,718 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:15,718 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:15,718 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:15,718 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:15,718 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:17,219 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:17,219 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:17,220 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:17,220 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:43:17,220 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:43:17,220 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:43:17,220 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:43:17,221 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:43:17,221 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:43:17,221 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:43:17,221 - INFO - Sent command: {"id": "567e41ec-0bf6-4b11-a4ba-52359d83cbb3", "ts": "2025-11-14T13:43:17.221846Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "5dbbec0a-324b-489d-9e7b-d82debbe7dee"}, "idempotency_key": "5dbbec0a-324b-489d-9e7b-d82debbe7dee"}
2025-11-14 13:43:17,722 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '567e41ec-0bf6-4b11-a4ba-52359d83cbb3', 'ts': '2025-11-14T13:43:17Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:43:17,722 - INFO - Server response: {"id": "srv-ok", "reply_to": "567e41ec-0bf6-4b11-a4ba-52359d83cbb3", "ts": "2025-11-14T13:43:17Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:43:17,722 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:43:17,722 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=17) with reward 0.0
2025-11-14 13:43:17,722 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:43:17,722 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:17,723 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:17,723 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:17,723 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:17,723 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:17,723 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:19,224 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:19,224 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:19,225 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:19,225 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:19,225 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:19,225 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:20,725 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:20,726 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:20,726 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:20,726 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:20,726 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:20,726 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:22,227 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:22,228 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:22,228 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:22,228 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:22,228 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:22,228 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:23,729 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:23,729 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:23,730 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:23,730 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:23,730 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:23,730 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:25,231 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:25,231 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:25,231 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:25,232 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:25,232 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:25,232 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:26,733 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:26,733 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:26,733 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:26,734 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:26,734 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:26,734 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:28,235 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:28,235 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:28,235 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:28,235 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:28,236 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:28,236 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:29,737 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:29,737 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:29,737 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:29,737 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:29,737 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:29,737 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:31,239 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:31,239 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:31,239 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:31,239 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:31,239 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:31,239 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:32,740 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:32,741 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:32,741 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:32,741 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:43:32,741 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:43:32,741 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:43:32,741 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:43:32,742 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:43:32,742 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:43:32,742 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:43:32,742 - INFO - Sent command: {"id": "0f3848c9-8e9a-457e-849a-f8baf5f04523", "ts": "2025-11-14T13:43:32.742612Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "40a758a7-9b88-4e14-bc6a-23a9230fa24a"}, "idempotency_key": "40a758a7-9b88-4e14-bc6a-23a9230fa24a"}
2025-11-14 13:43:33,242 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '0f3848c9-8e9a-457e-849a-f8baf5f04523', 'ts': '2025-11-14T13:43:32Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:43:33,243 - INFO - Server response: {"id": "srv-ok", "reply_to": "0f3848c9-8e9a-457e-849a-f8baf5f04523", "ts": "2025-11-14T13:43:32Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:43:33,243 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:43:33,243 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=18) with reward 0.0
2025-11-14 13:43:33,243 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:43:33,243 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:33,243 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:33,243 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:33,243 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:33,243 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:33,243 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:34,744 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:34,744 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:34,745 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:34,745 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:34,745 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:34,745 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:36,246 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:36,246 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:36,246 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:36,247 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:36,247 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:36,247 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:37,747 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:37,748 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:37,748 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:37,748 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:37,748 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:37,748 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:39,249 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:39,250 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:39,250 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:39,250 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:39,250 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:39,250 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:40,752 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:40,752 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:40,752 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:40,752 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:40,752 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:40,752 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:42,254 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:42,254 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:42,254 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:42,255 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:42,255 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:42,255 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:43,756 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:43,756 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:43,756 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:43,757 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:43,757 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:43,757 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:45,258 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:45,258 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:45,258 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:45,259 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:45,259 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:45,259 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:46,759 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:46,760 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:46,760 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:46,760 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:46,760 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:46,760 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:48,261 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:48,262 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:48,262 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:48,262 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:43:48,262 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:43:48,262 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:43:48,262 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:43:48,263 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:43:48,263 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:43:48,263 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:43:48,263 - INFO - Sent command: {"id": "f2ea1b56-0516-40d8-bd4d-4be114391016", "ts": "2025-11-14T13:43:48.263569Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "bd64684e-5932-4334-bbad-a0083ef7953e"}, "idempotency_key": "bd64684e-5932-4334-bbad-a0083ef7953e"}
2025-11-14 13:43:48,763 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': 'f2ea1b56-0516-40d8-bd4d-4be114391016', 'ts': '2025-11-14T13:43:48Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:43:48,764 - INFO - Server response: {"id": "srv-ok", "reply_to": "f2ea1b56-0516-40d8-bd4d-4be114391016", "ts": "2025-11-14T13:43:48Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:43:48,764 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:43:48,764 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=19) with reward 0.0
2025-11-14 13:43:48,764 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:43:48,764 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:48,764 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:48,764 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:48,764 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:48,765 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:48,765 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:50,266 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:50,266 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:50,266 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:50,266 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:50,266 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:50,266 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:51,768 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:51,768 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:51,768 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:51,768 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:51,768 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:51,768 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:53,270 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:53,270 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:53,270 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:53,270 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:53,270 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:53,270 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:54,771 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:54,772 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:54,772 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:54,772 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:54,772 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:54,772 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:56,273 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:56,274 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:56,274 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:56,274 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:56,274 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:56,274 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:57,775 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:57,775 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:57,776 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:57,776 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:57,776 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:57,776 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:43:59,277 - DEBUG - Pending commands before check: {}
2025-11-14 13:43:59,277 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:43:59,277 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:43:59,278 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:43:59,278 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:43:59,278 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:00,779 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:00,779 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:00,780 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:00,780 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:00,780 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:00,780 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:02,281 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:02,281 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:02,281 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:02,282 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:02,282 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:02,282 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:03,783 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:03,783 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:03,783 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:03,783 - INFO - Planner: Candidate actions for stage 'explore': ['sector.info']
2025-11-14 13:44:03,784 - INFO - QA Mode: Prioritizing focus commands: ['sector.info']
2025-11-14 13:44:03,784 - DEBUG - Bandit: Exploiting in context 'stage:explore-sector_class:unknown_class-port_type:port_present', chose sector.info (Q=0.0)
2025-11-14 13:44:03,784 - DEBUG - Validating payload for command: sector.info
2025-11-14 13:44:03,784 - DEBUG - Cached schemas in _validate_payload: {
  "auth.login": {
    "request_schema": {}
  },
  "auth.logout": {
    "request_schema": {}
  },
  "auth.refresh": {
    "request_schema": {}
  },
  "auth.register": {
    "request_schema": {}
  },
  "bank.balance": {
    "request_schema": {}
  },
  "bank.deposit": {
    "request_schema": {}
  },
  "bank.orders.cancel": {
    "request_schema": {}
  },
  "bank.orders.create": {
    "request_schema": {}
  },
  "bank.orders.list": {
    "request_schema": {}
  },
  "bank.statement": {
    "request_schema": {}
  },
  "bank.transfer": {
    "request_schema": {}
  },
  "bank.withdraw": {
    "request_schema": {}
  },
  "bounty.list": {
    "request_schema": {}
  },
  "bounty.post": {
    "request_schema": {}
  },
  "combat.attack": {
    "request_schema": {}
  },
  "combat.deploy_fighters": {
    "request_schema": {}
  },
  "combat.lay_mines": {
    "request_schema": {}
  },
  "corp.balance": {
    "request_schema": {}
  },
  "corp.deposit": {
    "request_schema": {}
  },
  "corp.issue_dividend": {
    "request_schema": {}
  },
  "corp.set_tax": {
    "request_schema": {}
  },
  "corp.statement": {
    "request_schema": {}
  },
  "corp.stock.issue": {
    "request_schema": {}
  },
  "corp.withdraw": {
    "request_schema": {}
  },
  "fine.list": {
    "request_schema": {}
  },
  "fine.pay": {
    "request_schema": {}
  },
  "insurance.claim.file": {
    "request_schema": {}
  },
  "insurance.policies.buy": {
    "request_schema": {}
  },
  "insurance.policies.list": {
    "request_schema": {}
  },
  "loan.accept": {
    "request_schema": {}
  },
  "loan.apply": {
    "request_schema": {}
  },
  "loan.list_active": {
    "request_schema": {}
  },
  "loan.offers.list": {
    "request_schema": {}
  },
  "loan.repay": {
    "request_schema": {}
  },
  "market.contracts.buy": {
    "request_schema": {}
  },
  "market.contracts.list": {
    "request_schema": {}
  },
  "market.contracts.sell": {
    "request_schema": {}
  },
  "market.orders.cancel": {
    "request_schema": {}
  },
  "market.orders.create": {
    "request_schema": {}
  },
  "market.orders.list": {
    "request_schema": {}
  },
  "move.autopilot.start": {
    "request_schema": {}
  },
  "move.autopilot.status": {
    "request_schema": {}
  },
  "move.autopilot.stop": {
    "request_schema": {}
  },
  "move.describe_sector": {
    "request_schema": {}
  },
  "move.pathfind": {
    "request_schema": {}
  },
  "move.transwarp": {
    "request_schema": {}
  },
  "move.warp": {
    "request_schema": {}
  },
  "nav.avoid.add": {
    "request_schema": {}
  },
  "nav.avoid.list": {
    "request_schema": {}
  },
  "nav.avoid.remove": {
    "request_schema": {}
  },
  "nav.bookmark.add": {
    "request_schema": {}
  },
  "nav.bookmark.list": {
    "request_schema": {}
  },
  "nav.bookmark.remove": {
    "request_schema": {}
  },
  "planet.create": {
    "request_schema": {}
  },
  "planet.deposit": {
    "request_schema": {}
  },
  "planet.list_mine": {
    "request_schema": {}
  },
  "planet.withdraw": {
    "request_schema": {}
  },
  "player.get_settings": {
    "request_schema": {}
  },
  "player.list_online": {
    "request_schema": {}
  },
  "player.my_info": {
    "request_schema": {}
  },
  "player.rankings": {
    "request_schema": {}
  },
  "player.set_prefs": {
    "request_schema": {}
  },
  "research.projects.fund": {
    "request_schema": {}
  },
  "research.projects.list": {
    "request_schema": {}
  },
  "ship.info": {
    "request_schema": {}
  },
  "ship.jettison": {
    "request_schema": {}
  },
  "ship.status": {
    "request_schema": {}
  },
  "ship.upgrade": {
    "request_schema": {}
  },
  "stock.exchange.list_stocks": {
    "request_schema": {}
  },
  "stock.exchange.orders.cancel": {
    "request_schema": {}
  },
  "stock.exchange.orders.create": {
    "request_schema": {}
  },
  "stock.portfolio.list": {
    "request_schema": {}
  },
  "system.capabilities": {
    "request_schema": {}
  },
  "system.describe_schema": {
    "request_schema": {}
  },
  "system.hello": {
    "request_schema": {}
  },
  "trade.buy": {
    "request_schema": {}
  },
  "trade.history": {
    "request_schema": {}
  },
  "trade.port_info": {
    "request_schema": {}
  },
  "trade.quote": {
    "request_schema": {}
  },
  "trade.sell": {
    "request_schema": {}
  }
}
2025-11-14 13:44:03,785 - DEBUG - Schema info for 'sector.info': null
2025-11-14 13:44:03,785 - WARNING - No schema_info found for command 'sector.info'. Skipping validation.
2025-11-14 13:44:03,785 - INFO - Sent command: {"id": "9b7f0009-aaf8-421c-9862-fcac3824beb0", "ts": "2025-11-14T13:44:03.785310Z", "command": "sector.info", "auth": {"session": "064cd713d82c83e8fdddf2e6944bdb8550faa898e8bf5136cb29f3997f07fb82"}, "data": {"sector_id": 69}, "meta": {"client_version": "AI_QA_Bot/1.1", "idempotency_key": "6025809a-e4a3-4b3d-aa3c-56d36728ae7e"}, "idempotency_key": "6025809a-e4a3-4b3d-aa3c-56d36728ae7e"}
2025-11-14 13:44:04,285 - DEBUG - Received response: {'id': 'srv-ok', 'reply_to': '9b7f0009-aaf8-421c-9862-fcac3824beb0', 'ts': '2025-11-14T13:44:03Z', 'status': 'ok', 'type': 'sector.info', 'data': {'sector_id': 69, 'name': 'Uncharted Space', 'adjacent': [132, 214, 354], 'adjacent_count': 3, 'ports': [{'id': 71, 'name': 'Dreord', 'type': '4'}, {'id': 150, 'name': 'Astaowoli', 'type': '2'}], 'has_port': True, 'players': [], 'players_count': 0, 'beacons': [], 'beacons_count': 0, 'planets': [], 'has_planet': False, 'planets_count': 0, 'beacon': None, 'has_beacon': False, 'ships': [{'id': 2, 'name': 'QA Bot 1', 'type': 'Scout Marauder', 'ship_name': 'QA Bot 1', 'ship_type': 'Scout Marauder', 'owner': 'ai_qa_bot'}], 'ships_count': 1, 'ports_count': 2, 'counts': {'fighters': 0, 'mines_armid': 0, 'mines_limpet': 0, 'mines': 0}}, 'error': None, 'meta': {'rate_limit': {'limit': 60, 'remaining': 60, 'reset': 60}}}
2025-11-14 13:44:04,285 - INFO - Server response: {"id": "srv-ok", "reply_to": "9b7f0009-aaf8-421c-9862-fcac3824beb0", "ts": "2025-11-14T13:44:03Z", "status": "ok", "type": "sector.info", "data": {"sector_id": 69, "name": "Uncharted Space", "adjacent": [132, 214, 354], "adjacent_count": 3, "ports": [{"id": 71, "name": "Dreord", "type": "4"}, {"id": 150, "name": "Astaowoli", "type": "2"}], "has_port": true, "players": [], "players_count": 0, "beacons": [], "beacons_count": 0, "planets": [], "has_planet": false, "planets_count": 0, "beacon": null, "has_beacon": false, "ships": [{"id": 2, "name": "QA Bot 1", "type": "Scout Marauder", "ship_name": "QA Bot 1", "ship_type": "Scout Marauder", "owner": "ai_qa_bot"}], "ships_count": 1, "ports_count": 2, "counts": {"fighters": 0, "mines_armid": 0, "mines_limpet": 0, "mines": 0}}, "error": null, "meta": {"rate_limit": {"limit": 60, "remaining": 60, "reset": 60}}}
2025-11-14 13:44:04,286 - INFO - Updated sector.info cache for sector 69
2025-11-14 13:44:04,286 - DEBUG - Bandit: Updated Q for sector.info in context 'stage:explore-sector_class:unknown_class-port_type:port_present' to 0.0 (N=20) with reward 0.0
2025-11-14 13:44:04,286 - INFO - Applied reward 0.0 to action 'sector.info' in context 'stage:explore-sector_class:unknown_class-port_type:port_present'.
2025-11-14 13:44:04,286 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:04,286 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:04,286 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:04,286 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:04,286 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:04,286 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:05,787 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:05,788 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:05,788 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:05,788 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:05,788 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:05,788 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:07,289 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:07,290 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:07,290 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:07,290 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:07,290 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:07,290 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:08,791 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:08,791 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:08,792 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:08,792 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:08,792 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:08,792 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:10,293 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:10,293 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:10,293 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:10,294 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:10,294 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:10,294 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:11,794 - DEBUG - Pending commands before check: {}
2025-11-14 13:44:11,795 - INFO - Planner: Current stage is 'explore'.
2025-11-14 13:44:11,795 - DEBUG - _can_warp: Current sector: 69, Adjacent sectors from state: [132, 214, 354]
2025-11-14 13:44:11,795 - INFO - Planner: Candidate actions for stage 'explore': []
2025-11-14 13:44:11,795 - WARNING - No valid actions found for stage 'explore'.
2025-11-14 13:44:11,795 - WARNING - Planner returned no command. Waiting...
2025-11-14 13:44:11,852 - INFO - Shutdown signal received. Cleaning up...
2025-11-14 13:44:12,295 - INFO - Shutdown sequence initiated.
2025-11-14 13:44:12,300 - INFO - Successfully saved state to state.json
2025-11-14 13:44:12,300 - INFO - Socket closed.
2025-11-14 13:44:12,300 - INFO - AI Player script finished.
