{
  "menus": {
    "MAIN": {
      "title": "--- Main Menu (Sector {{sector_id}}) ---",
      "options": [
        {
          "key": "m",
          "label": "(M) Move to a Sector",
          "action": {
            "submenu": "MOVE"
          }
        },
        {
          "key": "d",
          "label": "(D) Re-display Sector",
          "action": {
            "pycall": "redisplay_sector"
          }
        },
        {
          "key": "p",
          "label": "(P) Port & Trade",
          "action": {
            "submenu": "DOCK"
          },
          "show_if": [
            "has_port"
          ]
        },
        {
          "key": "l",
          "label": "(L) Land on a Planet",
          "action": {
            "submenu": "PLANET"
          },
          "show_if": [
            "has_planet"
          ]
        },
        {
          "key": "c",
          "label": "(C) Ship's Computer",
          "action": {
            "submenu": "COMPUTER"
          }
        },
        {
          "key": "r",
          "label": "(R) Release Beacon",
          "action": {
            "pycall": "set_beacon_flow"
          },
          "show_if": [
            "can_set_beacon"
          ]
        },
        {
          "key": "w",
          "label": "(W) Tow SpaceCraft",
          "action": {
            "pycall": "tow_flow"
          },
          "show_if": [
            "has_tow_target"
          ]
        },
        {
          "key": "e",
          "label": "(E) Enter Ship*",
          "action": {
            "pycall": "enter_ship_menu"
          },
          "show_if": [
            "has_boardable"
          ]
        },
        {
          "key": "u",
          "label": "(U) User Settings",
          "action": {
            "submenu": "SETTINGS"
          }
        },
        {
          "key": "y",
          "label": "(Y) Testing Menu",
          "action": {
            "submenu": "TESTING"
          }
        },
        {
          "key": "h",
          "label": "(H) Help",
          "action": {
            "pycall": "help_main"
          }
        },
        {
          "key": "q",
          "label": "(Q) Quit",
          "action": {
            "pycall": "quit_client"
          }
        },
        {
          "key": "o",
          "label": "(O) Corporation",
          "action": {
            "submenu": "CORPORATION_MAIN"
          },
          "show_if_ctx": ["in_corporation"]
        },
        {
          "key": "b",
          "label": "(B) Bulk Execute",
          "action": {
            "submenu": "BULK"
          }
        },
        {
          "key": "n",
          "label": "(N) News",
          "action": {
            "submenu": "NEWS"
          }
        },
        {
          "key": "f",
          "label": "(F) Deployment",
          "action": {
            "submenu": "DEPLOYMENT_MAIN"
          }
        },
        {
          "key": "x",
          "label": "E(X)change",
          "action": {
            "submenu": "EXCHANGE_MAIN"
          },
          "show_if_ctx": ["has_exchange_access"]
        },
        {
          "key": "i",
          "label": "(I) Insurance",
          "action": {
            "submenu": "INSURANCE_MAIN"
          },
          "show_if_ctx": ["has_insurance_access"]
        },
        {
          "key": "t",
          "label": "(T) Tavern",
          "action": {
            "submenu": "TAVERN_MAIN"
          },
          "show_if_ctx": ["has_tavern_access"]
        },
        {
          "key": "s",
          "label": "(S) Shipyard",
          "action": {
            "submenu": "SHIPYARD_MAIN"
          },
          "show_if_ctx": ["has_shipyard_access"]
        }
      ]
    },
    "MOVE": {
      "title": "--- Move Menu ({{sector_id}}) ---",
      "options": [
        {
          "key": "g",
          "label": "(G) Go to Adjacent Sector",
          "action": {
            "pycall": "move_to_adjacent"
          }
        },
        {
          "key": "w",
          "label": "(W) Warp to Sector",
          "action": {
            "pycall": "warp_flow"
          }
        },
        {
          "key": "p",
          "label": "(P) Pathfind to Sector",
          "action": {
            "pycall": "pathfind_flow"
          }
        },
        
        {
          "key": "a",
          "label": "(A) Autopilot",
          "action": {
            "pycall": "autopilot_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        },
        {
          "key": "s",
          "label": "(S) Autopilot Status",
          "action": {
            "pycall": "cli_autopilot_status"
          }
        },
        {
          "key": "k",
          "label": "(K) Autopilot Controls (Y/N/E)",
          "action": {
            "pycall": "cli_autopilot_control"
          }
        }
      ]
    },
    "PLANET": {
      "title": "--- Planet Menu ---\n(You are at a planet)",
      "options": [
        {
          "key": "l",
          "label": "(L) Land",
          "action": {
            "pycall": "land_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "SURFACE": {
      "title": "--- Planet Surface ---",
      "options": [
        {
          "key": "l",
          "label": "(L) Launch from Planet",
          "action": {
            "pycall": "launch_flow"
          }
        },
        {
          "key": "c",
          "label": "(C) Citadel",
          "action": {
            "submenu": "CITADEL"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "CITADEL": {
      "title": "--- Citadel Menu ---",
      "options": [
        {
          "key": "q",
          "label": "(Q) Back to Surface",
          "action": {
            "back": true
          }
        }
      ]
    },
    "COMPUTER": {
      "title": "--- Ship's Computer ---",
      "options": [
        {
          "key": "s",
          "label": "(S) Ship Info",
          "action": {
            "rpc": {
              "command": "ship.info",
              "data": {}
            },
            "post": "print_inspect_response_pretty"
          }
        },
        {
          "key": "g",
          "label": "(G) Get game clock",
          "action": {
            "rpc": {
              "command": "game.get_clock",
              "data": {}
            }
          }
        },
        {
          "key": "p",
          "label": "(P) Planet Info",
          "action": {
            "pycall": "planet_info_flow"
          }
        },
        {
          "key": "f",
          "label": "(F) Fast Scan (move.scan)",
          "action": {
            "pycall": "scan_sector"
          }
	    },
	  {
          "key": "r",
          "label": "(R) Rename Ship",
          "action": {
            "pycall": "rename_ship_flow"
          }
        },
	  {
	      "key": "d",
	      "label": "(D) Density Scan (sector.scan.density)",
	      "action": { "pycall": "sector_density_scan_flow" }
	  },
        {
          "key": "h",
          "label": "(H) Hardware",
          "action": {
            "submenu": "HARDWARE_MAIN"
          }
        },
        {
          "key": "j",
          "label": "(J) Jettison Cargo",
          "action": {
            "pycall": "jettison_cargo_flow"
          }
        },
        {
          "key": "t",
          "label": "(T) Genesis Torpedo",
          "action": {
            "pycall": "genesis_torpedo_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "DOCK": {
      "title": "--- Dock Menu ({{port_name}}) ---",
      "options": [
        {
          "key": "t",
          "label": "(T) Trade",
          "action": {
            "pycall": "raw_json_handler"
          }
        },
        {
          "key": "b",
          "label": "(B) Buy (buy)",
          "action": {
            "pycall": "simple_buy_handler",
            "post": "pretty_print_trade_receipt"
          }
        },
        {
          "key": "s",
          "label": "(S) Sell",
          "action": {
            "pycall": "simple_sell_handler",
            "post": "pretty_print_sell_receipt"
          }
        },
        {
          "key": "g",
          "label": "(G) Get Quote",
          "action": {
            "rpc": {
              "command": "trade.quote",
              "data": {
                "port_id": "<ctx:last_sector_desc.port.id>",
                "commodity": "<prompt:str:Commodity (ORE, ORG, EQU)>",
                "quantity": "<prompt:int:Quantity>"
              }
            },
            "post": "pretty_print_trade_quote"
          }
        },
        {
          "key": "k",
          "label": "(K) Bank",
          "action": {
            "submenu": "BANK"
          },
          "show_if_ctx": [
            "is_stardock"
          ]
        },
        {
          "key": "y",
          "label": "(Y) Shipyard",
          "action": {
            "submenu": "SHIPYARD_MAIN"
          },
          "show_if_ctx": ["is_shipyard_port"]
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ],
      "on_enter": {
        "pycall": "ctx_refresh_port_context"
      }
    },
    "SHIPYARD_MAIN": {
      "title": "--- Shipyard Menu ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List Ships",
          "action": {
            "rpc": {
              "command": "shipyard.list",
              "data": {}
            },
            "post": "pretty_print_shipyard_list"
          }
        },
        {
          "key": "u",
          "label": "(U) Upgrade Ship",
          "action": {
            "pycall": "shipyard_upgrade_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Dock Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "HARDWARE_MAIN": {
      "title": "--- Hardware Store ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List Hardware",
          "action": {
            "rpc": {
              "command": "hardware.list",
              "data": {}
            },
            "post": "pretty_print_hardware_list"
          }
        },
        {
          "key": "b",
          "label": "(B) Buy Hardware",
          "action": {
            "pycall": "hardware_buy_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Ship's Computer",
          "action": {
            "back": true
          }
        }
      ]
    },
    "BANK": {
      "title": "--- Bank Menu ---",
      "options": [
        {
          "key": "d",
          "label": "(D) Deposit",
          "action": {
            "rpc": {
              "command": "bank.deposit",
              "data": {
                "amount": "<prompt:int:Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "w",
          "label": "(W) Withdraw",
          "action": {
            "rpc": {
              "command": "bank.withdraw",
              "data": {
                "amount": "<prompt:int:Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "t",
          "label": "(T) Transfer funds",
          "action": {
            "rpc": {
              "command": "bank.transfer",
              "data": {
                "to_player_name": "<prompt:str:To whom (player name)>",
                "amount": "<prompt:int:Amount>",
                "memo": "<prompt:str:Memo (optional)>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "h",
          "label": "(H) View History",
          "action": {
            "rpc": {
              "command": "bank.history",
              "data": {}
            },
            "post": "pretty_print_bank_history"
          }
        },
        {
          "key": "l",
          "label": "(L) Leaderboard",
          "action": {
            "rpc": {
              "command": "bank.leaderboard",
              "data": {}
            },
            "post": "pretty_print_bank_leaderboard"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Dock Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "CORPORATION_MAIN": {
      "title": "--- Corporation Menu ---",
      "options": [
        {
          "key": "c",
          "label": "(C) Create Corporation",
          "action": {
            "pycall": "corp_create_flow"
          },
          "show_if_ctx": ["not_in_corporation"]
        },
        {
          "key": "j",
          "label": "(J) Join Corporation",
          "action": {
            "pycall": "corp_join_flow"
          },
          "show_if_ctx": ["not_in_corporation"]
        },
        {
          "key": "s",
          "label": "(S) Corporation Status",
          "action": {
            "rpc": {
              "command": "corp.status",
              "data": {}
            },
            "post": "pretty_print_corp_status"
          },
          "show_if_ctx": ["in_corporation"]
        },
        {
          "key": "r",
          "label": "(R) Roster",
          "action": {
            "rpc": {
              "command": "corp.roster",
              "data": {}
            },
            "post": "pretty_print_corp_roster"
            },
            "show_if_ctx": ["in_corporation"]
        },
        {
          "key": "l",
          "label": "(L) List All Corporations",
          "action": {
            "rpc": {
              "command": "corp.list",
              "data": {}
            },
            "post": "pretty_print_corp_list"
          }
        },
        {
          "key": "b",
          "label": "(B) Treasury Balance",
          "action": {
            "rpc": {
              "command": "corp.balance",
              "data": {}
            },
            "post": "pretty_print_corp_balance"
            },
            "show_if_ctx": ["in_corporation"]
        },
        {
          "key": "d",
          "label": "(D) Deposit to Treasury",
          "action": {
            "pycall": "corp_deposit_flow"
          },
          "show_if_ctx": ["in_corporation"]
        },
        {
          "key": "w",
          "label": "(W) Withdraw from Treasury",
          "action": {
            "pycall": "corp_withdraw_flow"
          },
          "show_if_ctx": ["is_ceo_or_officer"]
        },
        {
          "key": "t",
          "label": "(T) Treasury Statement",
          "action": {
            "rpc": {
              "command": "corp.statement",
              "data": {}
            },
            "post": "pretty_print_corp_statement"
            },
            "show_if_ctx": ["is_ceo_or_officer"]
        },
        {
          "key": "i",
          "label": "(I) Invite Player",
          "action": {
            "pycall": "corp_invite_flow"
          },
          "show_if_ctx": ["is_ceo_or_officer"]
        },
        {
          "key": "k",
          "label": "(K) Kick Member",
          "action": {
            "pycall": "corp_kick_flow"
          },
          "show_if_ctx": ["is_ceo_or_officer"]
        },
        {
          "key": "p",
          "label": "(P) Transfer CEO",
          "action": {
            "pycall": "corp_transfer_ceo_flow"
          },
          "show_if_ctx": ["is_ceo"]
        },
        {
          "key": "x",
          "label": "(X) Dissolve Corporation",
          "action": {
            "pycall": "corp_dissolve_flow"
          },
          "show_if_ctx": ["is_ceo"]
        },
        {
          "key": "e",
          "label": "(E) Leave Corporation",
          "action": {
            "pycall": "corp_leave_flow"
          },
          "show_if_ctx": ["in_corporation", "not_is_ceo"]
          
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "EXCHANGE_MAIN": {
      "title": "--- Exchange Menu ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List Stocks",
          "action": {
            "rpc": {
              "command": "stock.exchange.list_stocks",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "p",
          "label": "(P) View Portfolio",
          "action": {
            "rpc": {
              "command": "stock.portfolio.list",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "i",
          "label": "(I) Register IPO (CEO only)",
          "action": {
            "pycall": "stock_ipo_register_flow"
          },
          "show_if_ctx": ["is_ceo", "corp_not_public"]
        },
        {
          "key": "b",
          "label": "(B) Buy Stock",
          "action": {
            "pycall": "stock_buy_flow"
          },
          "show_if_ctx": ["corp_is_public"]
        },
        {
          "key": "d",
          "label": "(D) Declare Dividend (CEO only)",
          "action": {
            "pycall": "stock_dividend_set_flow"
          },
          "show_if_ctx": ["is_ceo", "corp_is_public"]
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "INSURANCE_MAIN": {
      "title": "--- Insurance Menu ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List Policies",
          "action": {
            "rpc": {
              "command": "insurance.policies.list",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "b",
          "label": "(B) Buy Policy",
          "action": {
            "pycall": "insurance_buy_flow"
          }
        },
        {
          "key": "c",
          "label": "(C) File Claim",
          "action": {
            "pycall": "insurance_claim_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_MAIN": {
      "title": "--- Tavern Menu ---",
      "options": [
        {
          "key": "l",
          "label": "(L) Lottery",
          "action": {
            "submenu": "TAVERN_LOTTERY"
          }
        },
        {
          "key": "d",
          "label": "(D) Dead Pool",
          "action": {
            "submenu": "TAVERN_DEADPOOL"
          }
        },
        {
          "key": "c",
          "label": "(C) Dice",
          "action": {
            "submenu": "TAVERN_DICE"
          }
        },
        {
          "key": "h",
          "label": "(H) High Stakes",
          "action": {
            "submenu": "TAVERN_HIGHSTAKES"
          }
        },
        {
          "key": "r",
          "label": "(R) Raffle",
          "action": {
            "submenu": "TAVERN_RAFFLE"
          }
        },
        {
          "key": "t",
          "label": "(T) Trader",
          "action": {
            "submenu": "TAVERN_TRADER"
          }
        },
        {
          "key": "g",
          "label": "(G) Graffiti",
          "action": {
            "pycall": "tavern_graffiti_post_flow"
          }
        },
        {
          "key": "u",
          "label": "(U) Buy Round",
          "action": {
            "rpc": {
              "command": "tavern.round.buy",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "o",
          "label": "(O) Loans (Loan Shark)",
          "action": {
            "submenu": "TAVERN_LOANS"
          }
        },
        {
          "key": "s",
          "label": "(S) Rumour Mill",
          "action": {
            "pycall": "tavern_rumour_get_hint_flow"
          }
        },
        {
          "key": "b",
          "label": "(B) Barcharts (Prices Summary)",
          "action": {
            "rpc": {
              "command": "tavern.barcharts.get_prices_summary",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_LOTTERY": {
      "title": "--- Tavern Lottery ---",
      "options": [
        {
          "key": "b",
          "label": "(B) Buy Ticket",
          "action": {
            "rpc": {
              "command": "tavern.lottery.buy_ticket",
              "data": {
                "number": "<prompt:int:Your lucky number>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "s",
          "label": "(S) Check Status",
          "action": {
            "rpc": {
              "command": "tavern.lottery.status",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_DEADPOOL": {
      "title": "--- Tavern Dead Pool ---",
      "options": [
        {
          "key": "p",
          "label": "(P) Place Bet",
          "action": {
            "rpc": {
              "command": "tavern.deadpool.place_bet",
              "data": {
                "target_player_name": "<prompt:str:Target Player Name>",
                "amount": "<prompt:int:Bet Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_DICE": {
      "title": "--- Tavern Dice ---",
      "options": [
        {
          "key": "p",
          "label": "(P) Play Dice",
          "action": {
            "rpc": {
              "command": "tavern.dice.play",
              "data": {
                "amount": "<prompt:int:Bet Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_HIGHSTAKES": {
      "title": "--- Tavern High Stakes ---",
      "options": [
        {
          "key": "p",
          "label": "(P) Play High Stakes",
          "action": {
            "rpc": {
              "command": "tavern.highstakes.play",
              "data": {
                "amount": "<prompt:int:Bet Amount>",
                "rounds": "<prompt:int:Number of Rounds>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_RAFFLE": {
      "title": "--- Tavern Raffle ---",
      "options": [
        {
          "key": "b",
          "label": "(B) Buy Ticket",
          "action": {
            "rpc": {
              "command": "tavern.raffle.buy_ticket",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_TRADER": {
      "title": "--- Tavern Trader ---",
      "options": [
        {
          "key": "b",
          "label": "(B) Buy Password",
          "action": {
            "rpc": {
              "command": "tavern.trader.buy_password",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "TAVERN_LOANS": {
      "title": "--- Tavern Loans (Loan Shark) ---",
      "options": [
        {
          "key": "t",
          "label": "(T) Take Loan",
          "action": {
            "rpc": {
              "command": "tavern.loan.take",
              "data": {
                "amount": "<prompt:int:Loan Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "p",
          "label": "(P) Pay Loan",
          "action": {
            "rpc": {
              "command": "tavern.loan.pay",
              "data": {
                "amount": "<prompt:int:Payment Amount>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Tavern Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "SUBSCRIBE": {
      "title": "--- Subscribe Tools ---",
      "options": [
        {
          "key": "a",
          "label": "(A) Add topic",
          "action": {
            "rpc": {
              "command": "subscribe.add",
              "data": {
                "event_type": "<prompt:str:Topic (e.g. sector.* or system.notice)>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "r",
          "label": "(R) Remove topic",
          "action": {
            "rpc": {
              "command": "subscribe.remove",
              "data": {
                "event_type": "<prompt:str:Topic to remove>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "l",
          "label": "(L) List topics",
          "action": {
            "rpc": {
              "command": "subscribe.list",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        },
        {
          "key": "x",
          "label": "(X) Remove Topic",
          "action": {
            "pycall": "cli_subscriptions_remove"
          }
        }
      ]
    },
    "TESTING": {
      "title": "--- Testing Menu ---",
      "options": [
        {
          "key": "c",
          "label": "(C) Capabilities",
          "action": {
            "rpc": {
              "command": "system.capabilities",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "l",
          "label": "(L) List Schemas",
          "action": {
            "rpc": {
              "command": "system.schema_list",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "s",
          "label": "(S) Describe Schema",
          "action": {
            "rpc": {
              "command": "system.describe_schema",
              "data": {
                "name": "<prompt:str:command or type>"
              }
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "o",
          "label": "(O) Online Players (online)",
          "action": {
            "rpc": {
              "command": "player.list_online",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "i",
          "label": "(I) Interactive Buy (ibuy)",
          "action": {
            "pycall": "interactive_buy_handler"
          }
        },
        {
          "key": "f",
          "label": "(F) Force Move (force_move)",
          "action": {
            "rpc": {
              "command": "move.warp",
              "data": {
                "to_sector_id": "<prompt:int:Target sector ID>"
              }
            }
          }
        },
        {
          "key": "r",
          "label": "(R) Register Player (register)",
          "action": {
            "rpc": {
              "command": "auth.register",
              "data": {
                "user_name": "<prompt:str:Username>",
                "password": "<prompt:str:Password>",
                "ship_name": "<prompt:str:Ship Name (optional)>",
                "ui_locale": "<prompt:str:UI Locale (e.g., en-US, optional)>",
                "ui_timezone": "<prompt:str:UI Timezone (e.g., America/New_York, optional)>"
              }
            }
          }
        },
        {
          "key": "e",
          "label": "(E) Refresh Player (refresh)",
          "action": {
            "rpc": {
              "command": "auth.refresh",
              "data": {}
            }
          }
        },
        {
          "key": "l",
          "label": "(L) Logout",
          "action": {
            "rpc": {
              "command": "auth.logout",
              "data": {}
            }
          }
        },
        {
          "key": "d",
          "label": "(D) Disconnect",
          "action": {
            "rpc": {
              "command": "system.disconnect",
              "data": {}
            }
          }
        },
        {
          "key": "j",
          "label": "(J) Raw JSON command",
          "action": {
            "pycall": "raw_json_handler"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back to Main Menu",
          "action": {
            "back": true
          }
        }
      ]
    },
    "SETTINGS": {
      "title": "--- Settings ---",
      "options": [
        {
          "key": "v",
          "label": "(V) View all settings",
          "action": {
            "pycall": "settings_view"
          }
        },
        {
          "key": "p",
          "label": "(P) Preferences",
          "action": {
            "submenu": "PREFS"
          }
        },
        {
          "key": "b",
          "label": "(B) Bookmarks",
          "action": {
            "submenu": "BOOKMARKS"
          }
        },
        {
          "key": "a",
          "label": "(A) Avoid list",
          "action": {
            "submenu": "AVOID"
          }
        },
        {
          "key": "s",
          "label": "(S) Subscriptions",
          "action": {
            "submenu": "SUBSCRIPTIONS"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "PREFS": {
      "title": "--- Preferences ---",
      "options": [
        {
          "key": "t",
          "label": "(T) Toggle 24h clock (ui.clock_24h)",
          "action": {
            "pycall": "prefs_toggle_24h"
          }
        },
        {
          "key": "l",
          "label": "(L) Set locale (ui.locale)",
          "action": {
            "pycall": "prefs_set_locale"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "BOOKMARKS": {
      "title": "--- Bookmarks ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List",
          "action": {
            "rpc": {
              "command": "nav.bookmark.list",
              "data": {}
            },
            "post": "print_last_rpc"
          }
        },
        {
          "key": "a",
          "label": "(A) Add",
          "action": {
            "pycall": "bookmark_add_flow"
          }
        },
        {
          "key": "r",
          "label": "(R) Remove",
          "action": {
            "pycall": "bookmark_remove_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "AVOID": {
      "title": "--- Avoid List ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List",
          "action": {
            "pycall": "avoid_list_flow"
          }
        },
        {
          "key": "a",
          "label": "(A) Add",
          "action": {
            "pycall": "avoid_add_flow"
          }
        },
        {
          "key": "r",
          "label": "(R) Remove",
          "action": {
            "pycall": "avoid_remove_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "SUBSCRIPTIONS": {
      "title": "--- Subscriptions ---",
      "options": [
        {
          "key": "l",
          "label": "(L) List",
          "action": {
            "pycall": "subscriptions_list_flow"
          }
        },
        {
          "key": "a",
          "label": "(A) Add",
          "action": {
            "pycall": "subscriptions_add_flow"
          }
        },
        {
          "key": "r",
          "label": "(R) Remove",
          "action": {
            "pycall": "subscriptions_remove_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "CHAT": {
      "title": "--- Chat ---",
      "options": [
        {
          "key": "h",
          "label": "(H) History",
          "action": {
            "pycall": "cli_chat_history"
          }
        },
        {
          "key": "s",
          "label": "(S) Send",
          "action": {
            "pycall": "cli_chat_send"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "MAIL": {
      "title": "--- Mail ---",
      "options": [
        {
          "key": "i",
          "label": "(I) Inbox",
          "action": {
            "pycall": "mail_inbox_flow"
          }
        },
        {
          "key": "r",
          "label": "(R) Read",
          "action": {
            "pycall": "mail_read_flow"
          }
        },
        {
          "key": "s",
          "label": "(S) Send",
          "action": {
            "pycall": "mail_send_flow"
          }
        },
        {
          "key": "d",
          "label": "(D) Delete",
          "action": {
            "pycall": "mail_delete_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "BULK": {
      "title": "--- Bulk Execute ---",
      "options": [
        {
          "key": "x",
          "label": "(X) Execute batch",
          "action": {
            "pycall": "cli_bulk_execute_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "NEWS": {
      "title": "--- News ---",
      "options": [
        {
          "key": "g",
          "label": "(G) Get News Feed",
          "action": {
            "rpc": {
              "command": "news.get_feed",
              "data": {}
            },
            "post": "pretty_print_news_feed"
          }
        },
        {
          "key": "m",
          "label": "(M) Mark All Read",
          "action": {
            "rpc": {
              "command": "news.mark_feed_read",
              "data": {}
            },
            "post": "pretty_print_news_marked_read"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "DEPLOYMENT_MAIN": {
      "title": "--- Deployment Menu ---",
      "options": [
        {
          "key": "f",
          "label": "(F) Fighters",
          "action": {
            "submenu": "DEPLOYMENT_FIGHTERS"
          }
        },
        {
          "key": "m",
          "label": "(M) Mines",
          "action": {
            "submenu": "DEPLOYMENT_MINES"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "DEPLOYMENT_FIGHTERS": {
      "title": "--- Fighter Deployment ---",
      "options": [
        {
          "key": "d",
          "label": "(D) Deploy Fighters",
          "action": {
            "rpc": {
              "command": "combat.deploy_fighters",
              "data": {
                "amount": "<prompt:int:Amount to deploy>",
                "offense": "<prompt:int:Offensive setting (1=TOLL, 2=DEFEND, 3=ATTACK)>"
              }
            },
            "post": [
              "print_last_rpc",
              {"pycall": "refresh_sector_and_display"}
            ]
          }
        },
        {
          "key": "r",
          "label": "(R) Recall Fighters",
          "action": {
            "pycall": "recall_fighters_flow"
          }
        },
        {
          "key": "l",
          "label": "(L) List Deployed Fighters",
          "action": {
            "pycall": "list_deployed_fighters_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    },
    "DEPLOYMENT_MINES": {
      "title": "--- Mine Deployment ---",
      "options": [
        {
          "key": "d",
          "label": "(D) Deploy Mines",
          "action": {
            "rpc": {
              "command": "combat.deploy_mines",
              "data": {
                "amount": "<prompt:int:Amount to deploy>",
                "offense": "<prompt:int:Offensive setting (1=TOLL, 2=DEFEND, 3=ATTACK)>"
              }
            },
            "post": [
              "print_last_rpc",
              {"pycall": "refresh_sector_and_display"}
            ]
          }
        },
        {
          "key": "r",
          "label": "(R) Recall Mines",
          "action": {
            "pycall": "recall_mines_flow"
          }
        },
        {
          "key": "l",
          "label": "(L) List Deployed Mines",
          "action": {
            "pycall": "list_deployed_mines_flow"
          }
        },
        {
          "key": "q",
          "label": "(Q) Back",
          "action": {
            "back": true
          }
        }
      ]
    }
  }
}