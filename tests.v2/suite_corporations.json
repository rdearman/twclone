{
  "test_suite_name": "Corporation Basics",
  "description": "Basic corporation CRUD",
  "tests": [
    {
      "name": "Setup: CEO User",
      "setup": "macro_auth_user",
      "username": "ceo_user",
      "password": "password"
    },
    {
      "name": "Setup: Member User",
      "setup": "macro_auth_user",
      "username": "member_user",
      "password": "password"
    },
    {
      "name": "Create Corp for CEO Player",
      "command": "corp.create",
      "data": { "name": "BasicCorp" },
      "user": "ceo_user",
      "save": { "corp_id": "data.corp_id" },
      "expect": { "status": "ok" }
    },
    {
      "name": "CEO Player - Get Status",
      "command": "corp.status",
      "user": "ceo_user",
      "expect": { "status": "ok" }
    },
    {
      "name": "Member Player - Get Status (not in corp)",
      "command": "corp.status",
      "user": "member_user",
      "expect": { "status": "error", "error_code": 400 }
    },
    {
      "name": "Corp Invite - Success",
      "command": "corp.invite",
      "data": { "target_player_id": "@member_user_player_id" },
      "user": "ceo_user",
      "expect": { "status": "ok" }
    },
    {
      "name": "Corp Join - Success",
      "command": "corp.join",
      "data": { "corp_id": "@corp_id" },
      "user": "member_user",
      "expect": { "status": "ok" }
    },
    {
      "name": "Corp Deposit - Success (CEO)",
      "command": "bank.transfer",
      "data": { "recipient_type": "corp", "recipient_id": "@corp_id", "amount": 100 },
      "user": "ceo_user",
      "expect": { "status": "ok" }
    }
  ]
}