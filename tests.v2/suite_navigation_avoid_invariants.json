{
  "name": "Navigation Avoid Invariants",
  "version": "2.0.0",
  "protocol_category": "15_Navigation",
  "description": "Tests for avoidance list",
  "tests": [
    {
      "name": "Setup: User",
      "setup": "macro_auth_user",
      "username": "nav_avoid_user",
      "password": "password"
    },
    {
      "name": "Nav: Add Avoid",
      "command": "nav.avoid.add",
      "data": { "sector_id": 999 },
      "user": "nav_avoid_user",
      "expect": { "status": "ok" }
    },
    {
      "name": "Nav: List Avoid (Verify Add)",
      "command": "nav.avoid.list",
      "user": "nav_avoid_user",
      "expect": { "status": "ok" },
      "asserts": [
        { "path": "data.avoids", "op": "contains", "value": 999 }
      ]
    },
    {
      "name": "Nav: Remove Avoid",
      "command": "nav.avoid.remove",
      "data": { "sector_id": 999 },
      "user": "nav_avoid_user",
      "expect": { "status": "ok" }
    },
    {
      "name": "Nav: List Avoid (Verify Remove)",
      "command": "nav.avoid.list",
      "user": "nav_avoid_user",
      "expect": { "status": "ok" },
      "asserts": [
        { "path": "data.avoids.length", "op": "==", "value": 0 }
      ]
    }
  ]
}