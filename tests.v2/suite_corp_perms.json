{
  "tests": [
    {
      "name": "Setup: CEO User",
      "setup": "macro_bootstrap_admin",
      "username": "ceo_user",
      "password": "password"
    },
    {
      "name": "Setup: Officer User",
      "setup": "macro_bootstrap_admin",
      "username": "officer_user",
      "password": "password"
    },
    {
      "name": "Setup: Member User",
      "setup": "macro_bootstrap_admin",
      "username": "member_user",
      "password": "password"
    },
    {
      "name": "Setup: Outsider User",
      "setup": "macro_bootstrap_admin",
      "username": "outsider_user",
      "password": "password"
    },
    {
      "name": "Action: CEO Creates Corp (Assuming pre-rigged members for later)",
      "command": "corp.create",
      "data": { "name": "PermsCorpV2" },
      "user": "ceo_user",
      "save": { "corp_id": "data.corp_id" },
      "expect": { "status": "ok" }
    },
    {
      "name": "Guard: Unauthorized Kick (Member kicks Officer)",
      "command": "corp.kick",
      "data": { "target_player_id": "@officer_user_player_id" },
      "user": "member_user",
      "expect": { 
        "status": "refused"
      }
    },
    {
      "name": "Guard: Unauthorized Kick (Outsider kicks Member)",
      "command": "corp.kick",
      "data": { "target_player_id": "@member_user_player_id" },
      "user": "outsider_user",
      "expect": { 
        "status": "error"
      }
    },
    {
      "name": "Action: CEO Kicks Member (Success - Note: Uses pre-rigged state or previous steps)",
      "command": "corp.kick",
      "data": { "target_player_id": "@member_user_player_id" },
      "user": "ceo_user",
      "expect": { 
        "status": "ok"
      }
    },
    {
      "name": "Guard: Transfer CEO (Non-CEO attempts)",
      "command": "corp.transfer_ceo",
      "data": { "target_player_id": "@ceo_user_player_id" },
      "user": "officer_user",
      "expect": { 
        "status": "error"
      }
    }
  ]
}
