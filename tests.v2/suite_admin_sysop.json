{
  "tests": [
    {
      "name": "Setup: Admin User",
      "setup": "macro_auth_user",
      "username": "sysop_admin_1",
      "password": "password"
    },
    {
      "name": "Setup: Normie User",
      "setup": "macro_auth_user",
      "username": "sysop_normie_1",
      "password": "password"
    },
    {
      "name": "Admin Notice (Sysop Success)",
      "command": "admin.notice",
      "data": { "title": "System Update", "body": "Maintenance soon.", "severity": "info", "ttl_seconds": 60 },
      "user": "sysop_admin_1",
      "expect": { "status": "ok" }
    },
    {
      "name": "Admin Notice (Normal Fail)",
      "command": "admin.notice",
      "data": { "title": "Fail", "body": "Should not work" },
      "user": "sysop_normie_1",
      "expect": { "status": "refused", "error_code": 402, "message": "Permission denied" }
    }
  ]
}